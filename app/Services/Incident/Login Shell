➜  CareScore git:(master) ✗ php artisan test --env=testing                                                                                  

   FAIL  Tests\Feature\ComplaintTest
  ⨯ store complaint category
  ⨯ list complaint category
  ⨯ store complaint category type
  ⨯ get category type by category
  ⨯ get all complaint category type
  ⨯ create complaint

  ---

  • Tests\Feature\ComplaintTest > store complaint category
  Unable to find JSON: 
  
  [{
      "created": true
  }]
  
  within response JSON:
  
  [{
      "message": "Target class [App\\Services\\Complaint\\Complain] does not exist.",
      "exception": "Illuminate\\Contracts\\Container\\BindingResolutionException",
      "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Container/Container.php",
      "line": 879,
      "trace": [
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Container/Container.php",
              "line": 758,
              "function": "build",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Foundation/Application.php​‌​
",
              "line": 841,
              "function": "resolve",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Container/Container.php",
              "line": 694,
              "function": "resolve",
              "class": "Illuminate\\Foundation\\Application",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Foundation/Application.php​‌​
",
              "line": 826,
              "function": "make",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Container/Container.php",
              "line": 1031,
              "function": "make",
              "class": "Illuminate\\Foundation\\Application",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Container/Container.php",
              "line": 951,
              "function": "resolveClass",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Container/Container.php",
              "line": 912,
              "function": "resolveDependencies",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Container/Container.php",
              "line": 758,
              "function": "build",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Foundation/Application.php​‌​
",
              "line": 841,
              "function": "resolve",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Container/Container.php",
              "line": 694,
              "function": "resolve",
              "class": "Illuminate\\Foundation\\Application",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Foundation/Application.php​‌​
",
              "line": 826,
              "function": "make",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Container/Container.php",
              "line": 1031,
              "function": "make",
              "class": "Illuminate\\Foundation\\Application",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Container/Container.php",
              "line": 951,
              "function": "resolveClass",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Container/Container.php",
              "line": 912,
              "function": "resolveDependencies",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Container/Container.php",
              "line": 758,
              "function": "build",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Foundation/Application.php​‌​
",
              "line": 841,
              "function": "resolve",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Container/Container.php",
              "line": 694,
              "function": "resolve",
              "class": "Illuminate\\Foundation\\Application",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Foundation/Application.php​‌​
",
              "line": 826,
              "function": "make",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routing/Route.php",
              "line": 276,
              "function": "make",
              "class": "Illuminate\\Foundation\\Application",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routing/Route.php",
              "line": 262,
              "function": "getController",
              "class": "Illuminate\\Routing\\Route",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routing/Route.php",
              "line": 205,
              "function": "runController",
              "class": "Illuminate\\Routing\\Route",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routing/Router.php",
              "line": 695,
              "function": "run",
              "class": "Illuminate\\Routing\\Route",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
              "line": 128,
              "function": "Illuminate\\Routing\\{closure}",
              "class": "Illuminate\\Routing\\Router",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
              "line": 103,
              "function": "Illuminate\\Pipeline\\{closure}",
              "class": "Illuminate\\Pipeline\\Pipeline",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routing/Router.php",
              "line": 697,
              "function": "then",
              "class": "Illuminate\\Pipeline\\Pipeline",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routing/Router.php",
              "line": 672,
              "function": "runRouteWithinStack",
              "class": "Illuminate\\Routing\\Router",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routing/Router.php",
              "line": 636,
              "function": "runRoute",
              "class": "Illuminate\\Routing\\Router",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routing/Router.php",
              "line": 625,
              "function": "dispatchToRoute",
              "class": "Illuminate\\Routing\\Router",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php​‌​
",
              "line": 167,
              "function": "dispatch",
              "class": "Illuminate\\Routing\\Router",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
              "line": 128,
              "function": "Illuminate\\Foundation\\Http\\{closure}",
              "class": "Illuminate\\Foundation\\Http\\Kernel",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
              "line": 103,
              "function": "Illuminate\\Pipeline\\{closure}",
              "class": "Illuminate\\Pipeline\\Pipeline",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php​‌​
",
              "line": 142,
              "function": "then",
              "class": "Illuminate\\Pipeline\\Pipeline",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php​‌​
",
              "line": 111,
              "function": "sendRequestThroughRouter",
              "class": "Illuminate\\Foundation\\Http\\Kernel",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concern​‌​
s/MakesHttpRequests.php",
              "line": 510,
              "function": "handle",
              "class": "Illuminate\\Foundation\\Http\\Kernel",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concern​‌​
s/MakesHttpRequests.php",
              "line": 476,
              "function": "call",
              "class": "Illuminate\\Foundation\\Testing\\TestCase",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/tests/Feature/ComplaintTest.php",
              "line": 17,
              "function": "json",
              "class": "Illuminate\\Foundation\\Testing\\TestCase",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestCase.php",
              "line": 1527,
              "function": "test_store_complaint_category",
              "class": "Tests\\Feature\\ComplaintTest",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestCase.php",
              "line": 1133,
              "function": "runTest",
              "class": "PHPUnit\\Framework\\TestCase",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestResult.php",
              "line": 722,
              "function": "runBare",
              "class": "PHPUnit\\Framework\\TestCase",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestCase.php",
              "line": 885,
              "function": "run",
              "class": "PHPUnit\\Framework\\TestResult",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestSuite.php",
              "line": 678,
              "function": "run",
              "class": "PHPUnit\\Framework\\TestCase",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestSuite.php",
              "line": 678,
              "function": "run",
              "class": "PHPUnit\\Framework\\TestSuite",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestSuite.php",
              "line": 678,
              "function": "run",
              "class": "PHPUnit\\Framework\\TestSuite",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/TextUI/TestRunner.php",
              "line": 670,
              "function": "run",
              "class": "PHPUnit\\Framework\\TestSuite",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/TextUI/Command.php",
              "line": 143,
              "function": "run",
              "class": "PHPUnit\\TextUI\\TestRunner",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/TextUI/Command.php",
              "line": 96,
              "function": "run",
              "class": "PHPUnit\\TextUI\\Command",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/phpunit",
              "line": 92,
              "function": "main",
              "class": "PHPUnit\\TextUI\\Command",
              "type": "::"
          }
      ]
  }].
  
  
  Failed asserting that an array has the subset Array &0 (
      'created' => true
  ).

  at tests/Feature/ComplaintTest.php:19
     15▕ 
     16▕     public function test_store_complaint_category() {
     17▕       $this->json('POST',  '/api/complaints/store-category', ['name' => 'Property/Environmental'])
     18▕       ->assertJson([
  ➜  19▕           'created' => true,
     20▕        ]);
     21▕     }
     22▕ 
     23▕     public function test_list_complaint_category() {
  --- Expected
  +++ Actual
  @@ @@
         'type' => '::',
       ),
     ),
  -  'created' => true,
   )
  • Tests\Feature\ComplaintTest > list complaint category
   PHPUnit\Framework\InvalidArgumentException 

  Argument #2 of PHPUnit\Framework\Assert::assertArrayHasKey() must be an array or ArrayAccess

  at tests/Feature/ComplaintTest.php:28
     24▕ 
     25▕         $this->json('GET', '/api/complaints/categories')
     26▕             ->assertJsonStructure([
     27▕                 '*' => [
  ➜  28▕                      'name',
     29▕                 ]
     30▕             ]);
     31▕     }
     32▕ 

  • Tests\Feature\ComplaintTest > store complaint category type
  Unable to find JSON: 
  
  [{
      "created": true
  }]
  
  within response JSON:
  
  [{
      "message": "Target class [App\\Services\\Complaint\\Complain] does not exist.",
      "exception": "Illuminate\\Contracts\\Container\\BindingResolutionException",
      "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Container/Container.php",
      "line": 879,
      "trace": [
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Container/Container.php",
              "line": 758,
              "function": "build",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Foundation/Application.php​‌​
",
              "line": 841,
              "function": "resolve",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Container/Container.php",
              "line": 694,
              "function": "resolve",
              "class": "Illuminate\\Foundation\\Application",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Foundation/Application.php​‌​
",
              "line": 826,
              "function": "make",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Container/Container.php",
              "line": 1031,
              "function": "make",
              "class": "Illuminate\\Foundation\\Application",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Container/Container.php",
              "line": 951,
              "function": "resolveClass",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Container/Container.php",
              "line": 912,
              "function": "resolveDependencies",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Container/Container.php",
              "line": 758,
              "function": "build",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Foundation/Application.php​‌​
",
              "line": 841,
              "function": "resolve",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Container/Container.php",
              "line": 694,
              "function": "resolve",
              "class": "Illuminate\\Foundation\\Application",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Foundation/Application.php​‌​
",
              "line": 826,
              "function": "make",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Container/Container.php",
              "line": 1031,
              "function": "make",
              "class": "Illuminate\\Foundation\\Application",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Container/Container.php",
              "line": 951,
              "function": "resolveClass",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Container/Container.php",
              "line": 912,
              "function": "resolveDependencies",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Container/Container.php",
              "line": 758,
              "function": "build",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Foundation/Application.php​‌​
",
              "line": 841,
              "function": "resolve",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Container/Container.php",
              "line": 694,
              "function": "resolve",
              "class": "Illuminate\\Foundation\\Application",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Foundation/Application.php​‌​
",
              "line": 826,
              "function": "make",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routing/Route.php",
              "line": 276,
              "function": "make",
              "class": "Illuminate\\Foundation\\Application",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routing/Route.php",
              "line": 262,
              "function": "getController",
              "class": "Illuminate\\Routing\\Route",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routing/Route.php",
              "line": 205,
              "function": "runController",
              "class": "Illuminate\\Routing\\Route",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routing/Router.php",
              "line": 695,
              "function": "run",
              "class": "Illuminate\\Routing\\Route",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
              "line": 128,
              "function": "Illuminate\\Routing\\{closure}",
              "class": "Illuminate\\Routing\\Router",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
              "line": 103,
              "function": "Illuminate\\Pipeline\\{closure}",
              "class": "Illuminate\\Pipeline\\Pipeline",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routing/Router.php",
              "line": 697,
              "function": "then",
              "class": "Illuminate\\Pipeline\\Pipeline",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routing/Router.php",
              "line": 672,
              "function": "runRouteWithinStack",
              "class": "Illuminate\\Routing\\Router",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routing/Router.php",
              "line": 636,
              "function": "runRoute",
              "class": "Illuminate\\Routing\\Router",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routing/Router.php",
              "line": 625,
              "function": "dispatchToRoute",
              "class": "Illuminate\\Routing\\Router",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php​‌​
",
              "line": 167,
              "function": "dispatch",
              "class": "Illuminate\\Routing\\Router",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
              "line": 128,
              "function": "Illuminate\\Foundation\\Http\\{closure}",
              "class": "Illuminate\\Foundation\\Http\\Kernel",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
              "line": 103,
              "function": "Illuminate\\Pipeline\\{closure}",
              "class": "Illuminate\\Pipeline\\Pipeline",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php​‌​
",
              "line": 142,
              "function": "then",
              "class": "Illuminate\\Pipeline\\Pipeline",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php​‌​
",
              "line": 111,
              "function": "sendRequestThroughRouter",
              "class": "Illuminate\\Foundation\\Http\\Kernel",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concern​‌​
s/MakesHttpRequests.php",
              "line": 510,
              "function": "handle",
              "class": "Illuminate\\Foundation\\Http\\Kernel",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concern​‌​
s/MakesHttpRequests.php",
              "line": 476,
              "function": "call",
              "class": "Illuminate\\Foundation\\Testing\\TestCase",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/tests/Feature/ComplaintTest.php",
              "line": 35,
              "function": "json",
              "class": "Illuminate\\Foundation\\Testing\\TestCase",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestCase.php",
              "line": 1527,
              "function": "test_store_complaint_category_type",
              "class": "Tests\\Feature\\ComplaintTest",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestCase.php",
              "line": 1133,
              "function": "runTest",
              "class": "PHPUnit\\Framework\\TestCase",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestResult.php",
              "line": 722,
              "function": "runBare",
              "class": "PHPUnit\\Framework\\TestCase",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestCase.php",
              "line": 885,
              "function": "run",
              "class": "PHPUnit\\Framework\\TestResult",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestSuite.php",
              "line": 678,
              "function": "run",
              "class": "PHPUnit\\Framework\\TestCase",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestSuite.php",
              "line": 678,
              "function": "run",
              "class": "PHPUnit\\Framework\\TestSuite",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestSuite.php",
              "line": 678,
              "function": "run",
              "class": "PHPUnit\\Framework\\TestSuite",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/TextUI/TestRunner.php",
              "line": 670,
              "function": "run",
              "class": "PHPUnit\\Framework\\TestSuite",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/TextUI/Command.php",
              "line": 143,
              "function": "run",
              "class": "PHPUnit\\TextUI\\TestRunner",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/TextUI/Command.php",
              "line": 96,
              "function": "run",
              "class": "PHPUnit\\TextUI\\Command",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/phpunit",
              "line": 92,
              "function": "main",
              "class": "PHPUnit\\TextUI\\Command",
              "type": "::"
          }
      ]
  }].
  
  
  Failed asserting that an array has the subset Array &0 (
      'created' => true
  ).

  at tests/Feature/ComplaintTest.php:37
     33▕     public function test_store_complaint_category_type() {
     34▕ 
     35▕         $this->json('POST', '/api/complaints/store-category-type/1', ['name' => 'Theft'])
     36▕             ->assertJson([
  ➜  37▕                 'created' => true
     38▕             ]);
     39▕     }
     40▕ 
     41▕     public function test_get_category_type_by_category() {
  --- Expected
  +++ Actual
  @@ @@
         'type' => '::',
       ),
     ),
  -  'created' => true,
   )
  • Tests\Feature\ComplaintTest > get category type by category
   PHPUnit\Framework\InvalidArgumentException 

  Argument #2 of PHPUnit\Framework\Assert::assertArrayHasKey() must be an array or ArrayAccess

  at tests/Feature/ComplaintTest.php:46
     42▕ 
     43▕        $this->json('GET', '/api/complaints/category-types/1')
     44▕         ->assertJsonStructure([
     45▕             '*' => [
  ➜  46▕                  'name',
     47▕             ]
     48▕         ]);
     49▕     }
     50▕ 

  • Tests\Feature\ComplaintTest > get all complaint category type
   PHPUnit\Framework\InvalidArgumentException 

  Argument #2 of PHPUnit\Framework\Assert::assertArrayHasKey() must be an array or ArrayAccess

  at tests/Feature/ComplaintTest.php:56
     52▕ 
     53▕         $this->json('GET', '/api/complaints/category-types')
     54▕             ->assertJsonStructure([
     55▕                 '*' => [
  ➜  56▕                     'name'
     57▕                 ]
     58▕             ]);
     59▕     }
     60▕ 

  • Tests\Feature\ComplaintTest > create complaint
   PHPUnit\Framework\InvalidArgumentException 

  Argument #1 of PHPUnit\Framework\Assert::assertArrayHasKey() must be an integer or string

  at tests/Feature/ComplaintTest.php:78
     74▕             'complaint_time' => '10:00:00',
     75▕             'description' => 'Lorem ipsum dolor sit amet consectetur adipisicing elit. Maxime mollitia,
     76▕              molestiae quas vel sint commodi repudiandae consequuntur voluptatum laborum'
     77▕         ])->assertJsonStructure([
  ➜  78▕             'created' => true
     79▕         ]);
     80▕     }
     81▕ }
     82▕ 


  Tests:  6 failed
  Time:   0.78s

➜  CareScore git:(master) ✗ clear                                                                                                           
➜  CareScore git:(master) ✗ php artisan test --env=testing                                                           
                                                               
   FAIL  Tests\Feature\ComplaintTest          
  ⨯ store complaint category
  ⨯ list complaint category                                                                   
  ⨯ store complaint category type
  ⨯ get category type by category      
  ⨯ get all complaint category type
  ⨯ create complaint                                                  
                                        
  ---                        
                                 
  • Tests\Feature\ComplaintTest > store complaint category
  Unable to find JSON: 
              
  [{     
      "created": true
  }]                                                             
                                              
  within response JSON:
                                                                                              
  [{
      "message": "Target class [App\\Services\\Complaint\\Complain] does not exist.",
      "exception": "Illuminate\\Contracts\\Container\\BindingResolutionException",
      "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Container/C​‌​
ontainer.php",                              
      "line": 879,               
      "trace": [                   
          {               
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Con​‌​
tainer/Container.php",
              "line": 758,
              "function": "build",
              "class": "Illuminate\\Container\\Container",
              "type": "->"                    
          },
          {                                                                                
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Fou​‌​
ndation/Application.php",              
              "line": 841,                          
              "function": "resolve",                                                                            
              "class": "Illuminate\\Container\\Container",                                        
              "type": "->"                
          },                          
          {         
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Con​‌​
tainer/Container.php",
              "line": 694,
              "function": "resolve",
              "class": "Illuminate\\Foundation\\Application",
              "type": "->"
          },   
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Fou​‌​
ndation/Application.php",
              "line": 826,
              "function": "make",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Con​‌​
tainer/Container.php",
              "line": 1031,
              "function": "make",
              "class": "Illuminate\\Foundation\\Application",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Con​‌​
tainer/Container.php",
              "line": 951,
              "function": "resolveClass",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Con​‌​
tainer/Container.php",
              "line": 912,
              "function": "resolveDependencies",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Con​‌​
tainer/Container.php",
              "line": 758,
              "function": "build",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Fou​‌​
ndation/Application.php",
              "line": 841,
              "function": "resolve",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Con​‌​
tainer/Container.php",
              "line": 694,
              "function": "resolve",
              "class": "Illuminate\\Foundation\\Application",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Fou​‌​
ndation/Application.php",
              "line": 826,
              "function": "make",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Con​‌​
tainer/Container.php",
              "line": 1031,
              "function": "make",
              "class": "Illuminate\\Foundation\\Application",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Con​‌​
tainer/Container.php",
              "line": 951,
              "function": "resolveClass",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Con​‌​
tainer/Container.php",
              "line": 912,
              "function": "resolveDependencies",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Con​‌​
tainer/Container.php",
              "line": 758,
              "function": "build",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Fou​‌​
ndation/Application.php",
              "line": 841,
              "function": "resolve",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Con​‌​
tainer/Container.php",
              "line": 694,
              "function": "resolve",
              "class": "Illuminate\\Foundation\\Application",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Fou​‌​
ndation/Application.php",
              "line": 826,
              "function": "make",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Rou​‌​
ting/Route.php",
              "line": 276,
              "function": "make",
              "class": "Illuminate\\Foundation\\Application",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Rou​‌​
ting/Route.php",
              "line": 262,
              "function": "getController",
              "class": "Illuminate\\Routing\\Route",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Rou​‌​
ting/Route.php",
              "line": 205,
              "function": "runController",
              "class": "Illuminate\\Routing\\Route",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Rou​‌​
ting/Router.php",
              "line": 695,
              "function": "run",
              "class": "Illuminate\\Routing\\Route",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Pip​‌​
eline/Pipeline.php",
              "line": 128,
              "function": "Illuminate\\Routing\\{closure}",
              "class": "Illuminate\\Routing\\Router",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Pip​‌​
eline/Pipeline.php",
              "line": 103,
              "function": "Illuminate\\Pipeline\\{closure}",
              "class": "Illuminate\\Pipeline\\Pipeline",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Rou​‌​
ting/Router.php",
              "line": 697,
              "function": "then",
              "class": "Illuminate\\Pipeline\\Pipeline",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Rou​‌​
ting/Router.php",
              "line": 672,
              "function": "runRouteWithinStack",
              "class": "Illuminate\\Routing\\Router",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Rou​‌​
ting/Router.php",
              "line": 636,
              "function": "runRoute",
              "class": "Illuminate\\Routing\\Router",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Rou​‌​
ting/Router.php",
              "line": 625,
              "function": "dispatchToRoute",
              "class": "Illuminate\\Routing\\Router",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Fou​‌​
ndation/Http/Kernel.php",
              "line": 167,
              "function": "dispatch",
              "class": "Illuminate\\Routing\\Router",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Pip​‌​
eline/Pipeline.php",
              "line": 128,
              "function": "Illuminate\\Foundation\\Http\\{closure}",
              "class": "Illuminate\\Foundation\\Http\\Kernel",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Pip​‌​
eline/Pipeline.php",
              "line": 103,
              "function": "Illuminate\\Pipeline\\{closure}",
              "class": "Illuminate\\Pipeline\\Pipeline",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Fou​‌​
ndation/Http/Kernel.php",
              "line": 142,
              "function": "then",
              "class": "Illuminate\\Pipeline\\Pipeline",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Fou​‌​
ndation/Http/Kernel.php",
              "line": 111,
              "function": "sendRequestThroughRouter",
              "class": "Illuminate\\Foundation\\Http\\Kernel",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Fou​‌​
ndation/Testing/Concerns/MakesHttpRequests.php",
              "line": 510,
              "function": "handle",
              "class": "Illuminate\\Foundation\\Http\\Kernel",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Fou​‌​
ndation/Testing/Concerns/MakesHttpRequests.php",
              "line": 476,
              "function": "call",
              "class": "Illuminate\\Foundation\\Testing\\TestCase",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/tests/Feature/ComplaintTest.php",
              "line": 17,
              "function": "json",
              "class": "Illuminate\\Foundation\\Testing\\TestCase",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestCa​‌​
se.php",
              "line": 1527,
              "function": "test_store_complaint_category",
              "class": "Tests\\Feature\\ComplaintTest",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestCa​‌​
se.php",
              "line": 1133,
              "function": "runTest",
              "class": "PHPUnit\\Framework\\TestCase",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestRe​‌​
sult.php",
              "line": 722,
              "function": "runBare",
              "class": "PHPUnit\\Framework\\TestCase",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestCa​‌​
se.php",
              "line": 885,
              "function": "run",
              "class": "PHPUnit\\Framework\\TestResult",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestSu​‌​
ite.php",
              "line": 678,
              "function": "run",
              "class": "PHPUnit\\Framework\\TestCase",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestSu​‌​
ite.php",
              "line": 678,
              "function": "run",
              "class": "PHPUnit\\Framework\\TestSuite",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestSu​‌​
ite.php",
              "line": 678,
              "function": "run",
              "class": "PHPUnit\\Framework\\TestSuite",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/TextUI/TestRunne​‌​
r.php",
              "line": 670,
              "function": "run",
              "class": "PHPUnit\\Framework\\TestSuite",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/TextUI/Command.p​‌​
hp",
              "line": 143,
              "function": "run",
              "class": "PHPUnit\\TextUI\\TestRunner",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/TextUI/Command.p​‌​
hp",
              "line": 96,
              "function": "run",
              "class": "PHPUnit\\TextUI\\Command",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/phpunit",
              "line": 92,
              "function": "main",
              "class": "PHPUnit\\TextUI\\Command",
              "type": "::"
          }
      ]
  }].
  
  
  Failed asserting that an array has the subset Array &0 (
      'created' => true
  ).

  at tests/Feature/ComplaintTest.php:19
     15▕ 
     16▕     public function test_store_complaint_category() {
     17▕       $this->json('POST',  '/api/complaints/store-category', ['name' => 'Property/Environmental'])
     18▕       ->assertJson([
  ➜  19▕           'created' => true,
     20▕        ]);
     21▕     }
     22▕ 
     23▕     public function test_list_complaint_category() {
  --- Expected
  +++ Actual
  @@ @@
         'type' => '::',
       ),
     ),
  -  'created' => true,
   )
  • Tests\Feature\ComplaintTest > list complaint category
   PHPUnit\Framework\InvalidArgumentException 

  Argument #2 of PHPUnit\Framework\Assert::assertArrayHasKey() must be an array or ArrayAccess

  at tests/Feature/ComplaintTest.php:28
     24▕ 
     25▕         $this->json('GET', '/api/complaints/categories')
     26▕             ->assertJsonStructure([
     27▕                 '*' => [
  ➜  28▕                      'name',
     29▕                 ]
     30▕             ]);
     31▕     }
     32▕ 

  • Tests\Feature\ComplaintTest > store complaint category type
  Unable to find JSON: 
  
  [{
      "created": true
  }]
  
  within response JSON:
  
  [{
      "message": "Target class [App\\Services\\Complaint\\Complain] does not exist.",
      "exception": "Illuminate\\Contracts\\Container\\BindingResolutionException",
      "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Container/C​‌​
ontainer.php",
      "line": 879,
      "trace": [
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Con​‌​
tainer/Container.php",
              "line": 758,
              "function": "build",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Fou​‌​
ndation/Application.php",
              "line": 841,
              "function": "resolve",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Con​‌​
tainer/Container.php",
              "line": 694,
              "function": "resolve",
              "class": "Illuminate\\Foundation\\Application",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Fou​‌​
ndation/Application.php",
              "line": 826,
              "function": "make",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Con​‌​
tainer/Container.php",
              "line": 1031,
              "function": "make",
              "class": "Illuminate\\Foundation\\Application",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Con​‌​
tainer/Container.php",
              "line": 951,
              "function": "resolveClass",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Con​‌​
tainer/Container.php",
              "line": 912,
              "function": "resolveDependencies",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Con​‌​
tainer/Container.php",
              "line": 758,
              "function": "build",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Fou​‌​
ndation/Application.php",
              "line": 841,
              "function": "resolve",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Con​‌​
tainer/Container.php",
              "line": 694,
              "function": "resolve",
              "class": "Illuminate\\Foundation\\Application",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Fou​‌​
ndation/Application.php",
              "line": 826,
              "function": "make",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Con​‌​
tainer/Container.php",
              "line": 1031,
              "function": "make",
              "class": "Illuminate\\Foundation\\Application",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Con​‌​
tainer/Container.php",
              "line": 951,
              "function": "resolveClass",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Con​‌​
tainer/Container.php",
              "line": 912,
              "function": "resolveDependencies",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Con​‌​
tainer/Container.php",
              "line": 758,
              "function": "build",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Fou​‌​
ndation/Application.php",
              "line": 841,
              "function": "resolve",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Con​‌​
tainer/Container.php",
              "line": 694,
              "function": "resolve",
              "class": "Illuminate\\Foundation\\Application",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Fou​‌​
ndation/Application.php",
              "line": 826,
              "function": "make",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Rou​‌​
ting/Route.php",
              "line": 276,
              "function": "make",
              "class": "Illuminate\\Foundation\\Application",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Rou​‌​
ting/Route.php",
              "line": 262,
              "function": "getController",
              "class": "Illuminate\\Routing\\Route",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Rou​‌​
ting/Route.php",
              "line": 205,
              "function": "runController",
              "class": "Illuminate\\Routing\\Route",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Rou​‌​
ting/Router.php",
              "line": 695,
              "function": "run",
              "class": "Illuminate\\Routing\\Route",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Pip​‌​
eline/Pipeline.php",
              "line": 128,
              "function": "Illuminate\\Routing\\{closure}",
              "class": "Illuminate\\Routing\\Router",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Pip​‌​
eline/Pipeline.php",
              "line": 103,
              "function": "Illuminate\\Pipeline\\{closure}",
              "class": "Illuminate\\Pipeline\\Pipeline",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Rou​‌​
ting/Router.php",
              "line": 697,
              "function": "then",
              "class": "Illuminate\\Pipeline\\Pipeline",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Rou​‌​
ting/Router.php",
              "line": 672,
              "function": "runRouteWithinStack",
              "class": "Illuminate\\Routing\\Router",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Rou​‌​
ting/Router.php",
              "line": 636,
              "function": "runRoute",
              "class": "Illuminate\\Routing\\Router",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Rou​‌​
ting/Router.php",
              "line": 625,
              "function": "dispatchToRoute",
              "class": "Illuminate\\Routing\\Router",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Fou​‌​
ndation/Http/Kernel.php",
              "line": 167,
              "function": "dispatch",
              "class": "Illuminate\\Routing\\Router",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Pip​‌​
eline/Pipeline.php",
              "line": 128,
              "function": "Illuminate\\Foundation\\Http\\{closure}",
              "class": "Illuminate\\Foundation\\Http\\Kernel",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Pip​‌​
eline/Pipeline.php",
              "line": 103,
              "function": "Illuminate\\Pipeline\\{closure}",
              "class": "Illuminate\\Pipeline\\Pipeline",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Fou​‌​
ndation/Http/Kernel.php",
              "line": 142,
              "function": "then",
              "class": "Illuminate\\Pipeline\\Pipeline",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Fou​‌​
ndation/Http/Kernel.php",
              "line": 111,
              "function": "sendRequestThroughRouter",
              "class": "Illuminate\\Foundation\\Http\\Kernel",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Fou​‌​
ndation/Testing/Concerns/MakesHttpRequests.php",
              "line": 510,
              "function": "handle",
              "class": "Illuminate\\Foundation\\Http\\Kernel",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Fou​‌​
ndation/Testing/Concerns/MakesHttpRequests.php",
              "line": 476,
              "function": "call",
              "class": "Illuminate\\Foundation\\Testing\\TestCase",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/tests/Feature/ComplaintTest.php",
              "line": 35,
              "function": "json",
              "class": "Illuminate\\Foundation\\Testing\\TestCase",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestCa​‌​
se.php",
              "line": 1527,
              "function": "test_store_complaint_category_type",
              "class": "Tests\\Feature\\ComplaintTest",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestCa​‌​
se.php",
              "line": 1133,
              "function": "runTest",
              "class": "PHPUnit\\Framework\\TestCase",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestRe​‌​
sult.php",
              "line": 722,
              "function": "runBare",
              "class": "PHPUnit\\Framework\\TestCase",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestCa​‌​
se.php",
              "line": 885,
              "function": "run",
              "class": "PHPUnit\\Framework\\TestResult",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestSu​‌​
ite.php",
              "line": 678,
              "function": "run",
              "class": "PHPUnit\\Framework\\TestCase",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestSu​‌​
ite.php",
              "line": 678,
              "function": "run",
              "class": "PHPUnit\\Framework\\TestSuite",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestSu​‌​
ite.php",
              "line": 678,
              "function": "run",
              "class": "PHPUnit\\Framework\\TestSuite",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/TextUI/TestRunne​‌​
r.php",
              "line": 670,
              "function": "run",
              "class": "PHPUnit\\Framework\\TestSuite",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/TextUI/Command.p​‌​
hp",
              "line": 143,
              "function": "run",
              "class": "PHPUnit\\TextUI\\TestRunner",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/TextUI/Command.p​‌​
hp",
              "line": 96,
              "function": "run",
              "class": "PHPUnit\\TextUI\\Command",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/phpunit",
              "line": 92,
              "function": "main",
              "class": "PHPUnit\\TextUI\\Command",
              "type": "::"
          }
      ]
  }].
  
  
  Failed asserting that an array has the subset Array &0 (
      'created' => true
  ).

  at tests/Feature/ComplaintTest.php:37
     33▕     public function test_store_complaint_category_type() {
     34▕ 
     35▕         $this->json('POST', '/api/complaints/store-category-type/1', ['name' => 'Theft'])
     36▕             ->assertJson([
  ➜  37▕                 'created' => true
     38▕             ]);
     39▕     }
     40▕ 
     41▕     public function test_get_category_type_by_category() {
  --- Expected
  +++ Actual
  @@ @@
         'type' => '::',
       ),
     ),
  -  'created' => true,
   )
  • Tests\Feature\ComplaintTest > get category type by category
   PHPUnit\Framework\InvalidArgumentException 

  Argument #2 of PHPUnit\Framework\Assert::assertArrayHasKey() must be an array or ArrayAccess

  at tests/Feature/ComplaintTest.php:46
     42▕ 
     43▕        $this->json('GET', '/api/complaints/category-types/1')
     44▕         ->assertJsonStructure([
     45▕             '*' => [
  ➜  46▕                  'name',
     47▕             ]
     48▕         ]);
     49▕     }
     50▕ 

  • Tests\Feature\ComplaintTest > get all complaint category type
   PHPUnit\Framework\InvalidArgumentException 

  Argument #2 of PHPUnit\Framework\Assert::assertArrayHasKey() must be an array or ArrayAccess

  at tests/Feature/ComplaintTest.php:56
     52▕ 
     53▕         $this->json('GET', '/api/complaints/category-types')
     54▕             ->assertJsonStructure([
     55▕                 '*' => [
  ➜  56▕                     'name'
     57▕                 ]
     58▕             ]);
     59▕     }
     60▕ 

  • Tests\Feature\ComplaintTest > create complaint
   PHPUnit\Framework\InvalidArgumentException 

  Argument #1 of PHPUnit\Framework\Assert::assertArrayHasKey() must be an integer or string

  at tests/Feature/ComplaintTest.php:78
     74▕             'complaint_time' => '10:00:00',
     75▕             'description' => 'Lorem ipsum dolor sit amet consectetur adipisicing elit. Maxime mollitia,
     76▕              molestiae quas vel sint commodi repudiandae consequuntur voluptatum laborum'
     77▕         ])->assertJsonStructure([
  ➜  78▕             'created' => true
     79▕         ]);
     80▕     }
     81▕ }
     82▕ 


  Tests:  6 failed
  Time:   1.02s

➜  CareScore git:(master) ✗ 
➜  CareScore git:(master) ✗                                                                                          
➜  CareScore git:(master) ✗ 
➜  CareScore git:(master) ✗                                                                                          
➜  CareScore git:(master) ✗                                                                                          
➜  CareScore git:(master) ✗                                                                                          
➜  CareScore git:(master) ✗                                                                                          
➜  CareScore git:(master) ✗                                                                                          
➜  CareScore git:(master) ✗                                                                                          
➜  CareScore git:(master) ✗ clear                                                                                    
➜  CareScore git:(master) ✗ php artisan test --env=testing                                                           

   FAIL  Tests\Feature\ComplaintTest
  ⨯ store complaint category
  ⨯ list complaint category
  ⨯ store complaint category type
  ⨯ get category type by category
  ⨯ get all complaint category type
  ⨯ create complaint

  ---

  • Tests\Feature\ComplaintTest > store complaint category
  Unable to find JSON: 
  
  [{
      "created": true
  }]
  
  within response JSON:
  
  [{
      "message": "Target class [App\\Services\\Complaint\\Complain] does not exist.",
      "exception": "Illuminate\\Contracts\\Container\\BindingResolutionException",
      "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/I​‌​
lluminate/Container/Container.php",
      "line": 879,
      "trace": [
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Container/Container.php",
              "line": 758,
              "function": "build",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Foundation/Application.php",
              "line": 841,
              "function": "resolve",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Container/Container.php",
              "line": 694,
              "function": "resolve",
              "class": "Illuminate\\Foundation\\Application",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Foundation/Application.php",
              "line": 826,
              "function": "make",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Container/Container.php",
              "line": 1031,
              "function": "make",
              "class": "Illuminate\\Foundation\\Application",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Container/Container.php",
              "line": 951,
              "function": "resolveClass",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Container/Container.php",
              "line": 912,
              "function": "resolveDependencies",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Container/Container.php",
              "line": 758,
              "function": "build",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Foundation/Application.php",
              "line": 841,
              "function": "resolve",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Container/Container.php",
              "line": 694,
              "function": "resolve",
              "class": "Illuminate\\Foundation\\Application",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Foundation/Application.php",
              "line": 826,
              "function": "make",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Container/Container.php",
              "line": 1031,
              "function": "make",
              "class": "Illuminate\\Foundation\\Application",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Container/Container.php",
              "line": 951,
              "function": "resolveClass",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Container/Container.php",
              "line": 912,
              "function": "resolveDependencies",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Container/Container.php",
              "line": 758,
              "function": "build",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Foundation/Application.php",
              "line": 841,
              "function": "resolve",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Container/Container.php",
              "line": 694,
              "function": "resolve",
              "class": "Illuminate\\Foundation\\Application",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Foundation/Application.php",
              "line": 826,
              "function": "make",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Routing/Route.php",
              "line": 276,
              "function": "make",
              "class": "Illuminate\\Foundation\\Application",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Routing/Route.php",
              "line": 262,
              "function": "getController",
              "class": "Illuminate\\Routing\\Route",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Routing/Route.php",
              "line": 205,
              "function": "runController",
              "class": "Illuminate\\Routing\\Route",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Routing/Router.php",
              "line": 695,
              "function": "run",
              "class": "Illuminate\\Routing\\Route",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Pipeline/Pipeline.php",
              "line": 128,
              "function": "Illuminate\\Routing\\{closure}",
              "class": "Illuminate\\Routing\\Router",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Pipeline/Pipeline.php",
              "line": 103,
              "function": "Illuminate\\Pipeline\\{closure}",
              "class": "Illuminate\\Pipeline\\Pipeline",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Routing/Router.php",
              "line": 697,
              "function": "then",
              "class": "Illuminate\\Pipeline\\Pipeline",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Routing/Router.php",
              "line": 672,
              "function": "runRouteWithinStack",
              "class": "Illuminate\\Routing\\Router",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Routing/Router.php",
              "line": 636,
              "function": "runRoute",
              "class": "Illuminate\\Routing\\Router",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Routing/Router.php",
              "line": 625,
              "function": "dispatchToRoute",
              "class": "Illuminate\\Routing\\Router",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Foundation/Http/Kernel.php",
              "line": 167,
              "function": "dispatch",
              "class": "Illuminate\\Routing\\Router",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Pipeline/Pipeline.php",
              "line": 128,
              "function": "Illuminate\\Foundation\\Http\\{closure}",
              "class": "Illuminate\\Foundation\\Http\\Kernel",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Pipeline/Pipeline.php",
              "line": 103,
              "function": "Illuminate\\Pipeline\\{closure}",
              "class": "Illuminate\\Pipeline\\Pipeline",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Foundation/Http/Kernel.php",
              "line": 142,
              "function": "then",
              "class": "Illuminate\\Pipeline\\Pipeline",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Foundation/Http/Kernel.php",
              "line": 111,
              "function": "sendRequestThroughRouter",
              "class": "Illuminate\\Foundation\\Http\\Kernel",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php",
              "line": 510,
              "function": "handle",
              "class": "Illuminate\\Foundation\\Http\\Kernel",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php",
              "line": 476,
              "function": "call",
              "class": "Illuminate\\Foundation\\Testing\\TestCase",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/tests/Feature/Complain​‌​
tTest.php",
              "line": 17,
              "function": "json",
              "class": "Illuminate\\Foundation\\Testing\\TestCase",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit​‌​
/src/Framework/TestCase.php",
              "line": 1527,
              "function": "test_store_complaint_category",
              "class": "Tests\\Feature\\ComplaintTest",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit​‌​
/src/Framework/TestCase.php",
              "line": 1133,
              "function": "runTest",
              "class": "PHPUnit\\Framework\\TestCase",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit​‌​
/src/Framework/TestResult.php",
              "line": 722,
              "function": "runBare",
              "class": "PHPUnit\\Framework\\TestCase",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit​‌​
/src/Framework/TestCase.php",
              "line": 885,
              "function": "run",
              "class": "PHPUnit\\Framework\\TestResult",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit​‌​
/src/Framework/TestSuite.php",
              "line": 678,
              "function": "run",
              "class": "PHPUnit\\Framework\\TestCase",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit​‌​
/src/Framework/TestSuite.php",
              "line": 678,
              "function": "run",
              "class": "PHPUnit\\Framework\\TestSuite",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit​‌​
/src/Framework/TestSuite.php",
              "line": 678,
              "function": "run",
              "class": "PHPUnit\\Framework\\TestSuite",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit​‌​
/src/TextUI/TestRunner.php",
              "line": 670,
              "function": "run",
              "class": "PHPUnit\\Framework\\TestSuite",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit​‌​
/src/TextUI/Command.php",
              "line": 143,
              "function": "run",
              "class": "PHPUnit\\TextUI\\TestRunner",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit​‌​
/src/TextUI/Command.php",
              "line": 96,
              "function": "run",
              "class": "PHPUnit\\TextUI\\Command",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit​‌​
/phpunit",
              "line": 92,
              "function": "main",
              "class": "PHPUnit\\TextUI\\Command",
              "type": "::"
          }
      ]
  }].
  
  
  Failed asserting that an array has the subset Array &0 (
      'created' => true
  ).

  at tests/Feature/ComplaintTest.php:19
     15▕ 
     16▕     public function test_store_complaint_category() {
     17▕       $this->json('POST',  '/api/complaints/store-category', ['name' => 'Property/Envir​‌​
onmental'])
     18▕       ->assertJson([
  ➜  19▕           'created' => true,
     20▕        ]);
     21▕     }
     22▕ 
     23▕     public function test_list_complaint_category() {
  --- Expected
  +++ Actual
  @@ @@
         'type' => '::',
       ),
     ),
  -  'created' => true,
   )
  • Tests\Feature\ComplaintTest > list complaint category
   PHPUnit\Framework\InvalidArgumentException 

  Argument #2 of PHPUnit\Framework\Assert::assertArrayHasKey() must be an array or ArrayAccess

  at tests/Feature/ComplaintTest.php:28
     24▕ 
     25▕         $this->json('GET', '/api/complaints/categories')
     26▕             ->assertJsonStructure([
     27▕                 '*' => [
  ➜  28▕                      'name',
     29▕                 ]
     30▕             ]);
     31▕     }
     32▕ 

  • Tests\Feature\ComplaintTest > store complaint category type
  Unable to find JSON: 
  
  [{
      "created": true
  }]
  
  within response JSON:
  
  [{
      "message": "Target class [App\\Services\\Complaint\\Complain] does not exist.",
      "exception": "Illuminate\\Contracts\\Container\\BindingResolutionException",
      "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/I​‌​
lluminate/Container/Container.php",
      "line": 879,
      "trace": [
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Container/Container.php",
              "line": 758,
              "function": "build",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Foundation/Application.php",
              "line": 841,
              "function": "resolve",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Container/Container.php",
              "line": 694,
              "function": "resolve",
              "class": "Illuminate\\Foundation\\Application",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Foundation/Application.php",
              "line": 826,
              "function": "make",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Container/Container.php",
              "line": 1031,
              "function": "make",
              "class": "Illuminate\\Foundation\\Application",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Container/Container.php",
              "line": 951,
              "function": "resolveClass",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Container/Container.php",
              "line": 912,
              "function": "resolveDependencies",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Container/Container.php",
              "line": 758,
              "function": "build",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Foundation/Application.php",
              "line": 841,
              "function": "resolve",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Container/Container.php",
              "line": 694,
              "function": "resolve",
              "class": "Illuminate\\Foundation\\Application",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Foundation/Application.php",
              "line": 826,
              "function": "make",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Container/Container.php",
              "line": 1031,
              "function": "make",
              "class": "Illuminate\\Foundation\\Application",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Container/Container.php",
              "line": 951,
              "function": "resolveClass",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Container/Container.php",
              "line": 912,
              "function": "resolveDependencies",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Container/Container.php",
              "line": 758,
              "function": "build",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Foundation/Application.php",
              "line": 841,
              "function": "resolve",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Container/Container.php",
              "line": 694,
              "function": "resolve",
              "class": "Illuminate\\Foundation\\Application",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Foundation/Application.php",
              "line": 826,
              "function": "make",
              "class": "Illuminate\\Container\\Container",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Routing/Route.php",
              "line": 276,
              "function": "make",
              "class": "Illuminate\\Foundation\\Application",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Routing/Route.php",
              "line": 262,
              "function": "getController",
              "class": "Illuminate\\Routing\\Route",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Routing/Route.php",
              "line": 205,
              "function": "runController",
              "class": "Illuminate\\Routing\\Route",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Routing/Router.php",
              "line": 695,
              "function": "run",
              "class": "Illuminate\\Routing\\Route",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Pipeline/Pipeline.php",
              "line": 128,
              "function": "Illuminate\\Routing\\{closure}",
              "class": "Illuminate\\Routing\\Router",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Pipeline/Pipeline.php",
              "line": 103,
              "function": "Illuminate\\Pipeline\\{closure}",
              "class": "Illuminate\\Pipeline\\Pipeline",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Routing/Router.php",
              "line": 697,
              "function": "then",
              "class": "Illuminate\\Pipeline\\Pipeline",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Routing/Router.php",
              "line": 672,
              "function": "runRouteWithinStack",
              "class": "Illuminate\\Routing\\Router",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Routing/Router.php",
              "line": 636,
              "function": "runRoute",
              "class": "Illuminate\\Routing\\Router",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Routing/Router.php",
              "line": 625,
              "function": "dispatchToRoute",
              "class": "Illuminate\\Routing\\Router",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Foundation/Http/Kernel.php",
              "line": 167,
              "function": "dispatch",
              "class": "Illuminate\\Routing\\Router",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Pipeline/Pipeline.php",
              "line": 128,
              "function": "Illuminate\\Foundation\\Http\\{closure}",
              "class": "Illuminate\\Foundation\\Http\\Kernel",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Pipeline/Pipeline.php",
              "line": 103,
              "function": "Illuminate\\Pipeline\\{closure}",
              "class": "Illuminate\\Pipeline\\Pipeline",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Foundation/Http/Kernel.php",
              "line": 142,
              "function": "then",
              "class": "Illuminate\\Pipeline\\Pipeline",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Foundation/Http/Kernel.php",
              "line": 111,
              "function": "sendRequestThroughRouter",
              "class": "Illuminate\\Foundation\\Http\\Kernel",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php",
              "line": 510,
              "function": "handle",
              "class": "Illuminate\\Foundation\\Http\\Kernel",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framewo​‌​
rk/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php",
              "line": 476,
              "function": "call",
              "class": "Illuminate\\Foundation\\Testing\\TestCase",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/tests/Feature/Complain​‌​
tTest.php",
              "line": 35,
              "function": "json",
              "class": "Illuminate\\Foundation\\Testing\\TestCase",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit​‌​
/src/Framework/TestCase.php",
              "line": 1527,
              "function": "test_store_complaint_category_type",
              "class": "Tests\\Feature\\ComplaintTest",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit​‌​
/src/Framework/TestCase.php",
              "line": 1133,
              "function": "runTest",
              "class": "PHPUnit\\Framework\\TestCase",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit​‌​
/src/Framework/TestResult.php",
              "line": 722,
              "function": "runBare",
              "class": "PHPUnit\\Framework\\TestCase",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit​‌​
/src/Framework/TestCase.php",
              "line": 885,
              "function": "run",
              "class": "PHPUnit\\Framework\\TestResult",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit​‌​
/src/Framework/TestSuite.php",
              "line": 678,
              "function": "run",
              "class": "PHPUnit\\Framework\\TestCase",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit​‌​
/src/Framework/TestSuite.php",
              "line": 678,
              "function": "run",
              "class": "PHPUnit\\Framework\\TestSuite",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit​‌​
/src/Framework/TestSuite.php",
              "line": 678,
              "function": "run",
              "class": "PHPUnit\\Framework\\TestSuite",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit​‌​
/src/TextUI/TestRunner.php",
              "line": 670,
              "function": "run",
              "class": "PHPUnit\\Framework\\TestSuite",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit​‌​
/src/TextUI/Command.php",
              "line": 143,
              "function": "run",
              "class": "PHPUnit\\TextUI\\TestRunner",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit​‌​
/src/TextUI/Command.php",
              "line": 96,
              "function": "run",
              "class": "PHPUnit\\TextUI\\Command",
              "type": "->"
          },
          {
              "file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit​‌​
/phpunit",
              "line": 92,
              "function": "main",
              "class": "PHPUnit\\TextUI\\Command",
              "type": "::"
          }
      ]
  }].
  
  
  Failed asserting that an array has the subset Array &0 (
      'created' => true
  ).

  at tests/Feature/ComplaintTest.php:37
     33▕     public function test_store_complaint_category_type() {
     34▕ 
     35▕         $this->json('POST', '/api/complaints/store-category-type/1', ['name' => 'Theft'​‌​
])
     36▕             ->assertJson([
  ➜  37▕                 'created' => true
     38▕             ]);
     39▕     }
     40▕ 
     41▕     public function test_get_category_type_by_category() {
  --- Expected
  +++ Actual
  @@ @@
         'type' => '::',
       ),
     ),
  -  'created' => true,
   )
  • Tests\Feature\ComplaintTest > get category type by category
   PHPUnit\Framework\InvalidArgumentException 

  Argument #2 of PHPUnit\Framework\Assert::assertArrayHasKey() must be an array or ArrayAccess

  at tests/Feature/ComplaintTest.php:46
     42▕ 
     43▕        $this->json('GET', '/api/complaints/category-types/1')
     44▕         ->assertJsonStructure([
     45▕             '*' => [
  ➜  46▕                  'name',
     47▕             ]
     48▕         ]);
     49▕     }
     50▕ 

  • Tests\Feature\ComplaintTest > get all complaint category type
   PHPUnit\Framework\InvalidArgumentException 

  Argument #2 of PHPUnit\Framework\Assert::assertArrayHasKey() must be an array or ArrayAccess

  at tests/Feature/ComplaintTest.php:56
     52▕ 
     53▕         $this->json('GET', '/api/complaints/category-types')
     54▕             ->assertJsonStructure([
     55▕                 '*' => [
  ➜  56▕                     'name'
     57▕                 ]
     58▕             ]);
     59▕     }
     60▕ 

  • Tests\Feature\ComplaintTest > create complaint
   PHPUnit\Framework\InvalidArgumentException 

  Argument #1 of PHPUnit\Framework\Assert::assertArrayHasKey() must be an integer or string

  at tests/Feature/ComplaintTest.php:78
     74▕             'complaint_time' => '10:00:00',
     75▕             'description' => 'Lorem ipsum dolor sit amet consectetur adipisicing elit. 
Maxime mollitia,
     76▕              molestiae quas vel sint commodi repudiandae consequuntur voluptatum laboru
m'
     77▕         ])->assertJsonStructure([
  ➜  78▕             'created' => true
     79▕         ]);
     80▕     }
     81▕ }
     82▕ 


  Tests:  6 failed
  Time:   1.04s

➜  CareScore git:(master) ✗  clear                                                              
➜  CareScore git:(master) ✗ php artisan test --env=testing                                
                                        
   FAIL  Tests\Feature\ComplaintTest
  ✓ store complaint category     
  ✓ list complaint category
  ✓ store complaint category type
  ✓ get category type by category
  ✓ get all complaint category type
  ⨯ create complaint
                                                                 
  ---                                         

  • Tests\Feature\ComplaintTest > create complaint                                        
  Invalid JSON was returned from the route.
                                       
  at tests/Feature/ComplaintTest.php:78
     74▕             'complaint_time' => '10:00:00',                 
     75▕             'description' => 'Lorem ipsum dolor sit amet consectetur adipisicing ​‌​
elit. Maxime mollitia,           
     76▕              molestiae quas vel sint commodi repudiandae consequuntur voluptatum ​‌​
laborum'                  
     77▕         ])->assertJsonStructure([
  ➜  78▕             'created' => true
     79▕         ]);
     80▕     }
     81▕ }                                        
     82▕                                      

                                                                                          
  Tests:  1 failed, 5 passed
  Time:   0.53s                        
                                                    
➜  CareScore git:(master) ✗ clear                                                         
➜  CareScore git:(master) ✗ php artisan test --env=testing                                
                                        
   FAIL  Tests\Feature\ComplaintTest
  ✓ store complaint category     
  ✓ list complaint category
  ✓ store complaint category type
  ✓ get category type by category
  ✓ get all complaint category type
  ⨯ create complaint
                                                                 
  ---                                         

  • Tests\Feature\ComplaintTest > create complaint                                        
  Invalid JSON was returned from the route.
                                       
  at tests/Feature/ComplaintTest.php:78
     74▕             'complaint_time' => '10:00:00',                 
     75▕             'description' => 'Lorem ipsum dolor sit amet consectetur adipisicing ​‌​
elit. Maxime mollitia,           
     76▕              molestiae quas vel sint commodi repudiandae consequuntur voluptatum ​‌​
laborum'                  
     77▕         ])->assertJsonStructure([
  ➜  78▕             'created' => true
     79▕         ]);
     80▕     }
     81▕ }                                        
     82▕                                      

                                                                                          
  Tests:  1 failed, 5 passed
  Time:   0.43s                        
                                                    
➜  CareScore git:(master) ✗ php artisan test --env=testing --verbose                      
                
   FAIL  Tests\Feature\ComplaintTest                                                      
  ✓ store complaint category
  ✓ list complaint category               
  ✓ store complaint category type     
  ✓ get category type by category
  ✓ get all complaint category type
  ⨯ create complaint
         
  ---

  • Tests\Feature\ComplaintTest > create complaint
  Invalid JSON was returned from the route.

  at vendor/phpunit/phpunit/src/Framework/Assert.php:2754                                 
    2750▕     public static function fail(string $message = ''): void
    2751▕     {
    2752▕         self::$count++;
    2753▕ 
  ➜ 2754▕         throw new AssertionFailedError($message);
    2755▕     }
    2756▕ 
    2757▕     /**
    2758▕      * Mark the test as incomplete.

  1   vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:949
      PHPUnit\Framework\Assert::fail("Invalid JSON was returned from the route.")

  2   vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:795
      Illuminate\Testing\TestResponse::decodeResponseJson()

  3   tests/Feature/ComplaintTest.php:78
      Illuminate\Testing\TestResponse::assertJsonStructure([])

  4   vendor/phpunit/phpunit/src/Framework/TestCase.php:1527
      Tests\Feature\ComplaintTest::test_create_complaint()

  5   vendor/phpunit/phpunit/src/Framework/TestCase.php:1133
      PHPUnit\Framework\TestCase::runTest()

  6   vendor/phpunit/phpunit/src/Framework/TestResult.php:722
      PHPUnit\Framework\TestCase::runBare()

  7   vendor/phpunit/phpunit/src/Framework/TestCase.php:885
      PHPUnit\Framework\TestResult::run(Object(Tests\Feature\ComplaintTest))

  8   vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestCase::run(Object(PHPUnit\Framework\TestResult))

  9   vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  10  vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  11  vendor/phpunit/phpunit/src/TextUI/TestRunner.php:670
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  12  vendor/phpunit/phpunit/src/TextUI/Command.php:143
      PHPUnit\TextUI\TestRunner::run(Object(PHPUnit\Framework\TestSuite), [])

  13  vendor/phpunit/phpunit/src/TextUI/Command.php:96
      PHPUnit\TextUI\Command::run()

  14  vendor/phpunit/phpunit/phpunit:92
      PHPUnit\TextUI\Command::main()


  Tests:  1 failed, 5 passed
  Time:   0.54s

➜  CareScore git:(master) ✗ php artisan migrate                                           
Nothing to migrate.
➜  CareScore git:(master) ✗ php artisan migrate --env=testing                             
Migrating: 2022_05_18_113434_create_client_complaints_table
Migrated:  2022_05_18_113434_create_client_complaints_table (16.38ms)
➜  CareScore git:(master) ✗ php artisan test --env=testing --verbose                      

   FAIL  Tests\Feature\ComplaintTest
  ✓ store complaint category
  ✓ list complaint category
  ✓ store complaint category type
  ✓ get category type by category
  ✓ get all complaint category type
  ⨯ create complaint

  ---

  • Tests\Feature\ComplaintTest > create complaint
  Invalid JSON was returned from the route.

  at vendor/phpunit/phpunit/src/Framework/Assert.php:2754
    2750▕     public static function fail(string $message = ''): void
    2751▕     {
    2752▕         self::$count++;
    2753▕ 
  ➜ 2754▕         throw new AssertionFailedError($message);
    2755▕     }
    2756▕ 
    2757▕     /**
    2758▕      * Mark the test as incomplete.

  1   vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:949
      PHPUnit\Framework\Assert::fail("Invalid JSON was returned from the route.")

  2   vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:795
      Illuminate\Testing\TestResponse::decodeResponseJson()

  3   tests/Feature/ComplaintTest.php:78
      Illuminate\Testing\TestResponse::assertJsonStructure([])

  4   vendor/phpunit/phpunit/src/Framework/TestCase.php:1527
      Tests\Feature\ComplaintTest::test_create_complaint()

  5   vendor/phpunit/phpunit/src/Framework/TestCase.php:1133
      PHPUnit\Framework\TestCase::runTest()

  6   vendor/phpunit/phpunit/src/Framework/TestResult.php:722
      PHPUnit\Framework\TestCase::runBare()

  7   vendor/phpunit/phpunit/src/Framework/TestCase.php:885
      PHPUnit\Framework\TestResult::run(Object(Tests\Feature\ComplaintTest))

  8   vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestCase::run(Object(PHPUnit\Framework\TestResult))

  9   vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  10  vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  11  vendor/phpunit/phpunit/src/TextUI/TestRunner.php:670
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  12  vendor/phpunit/phpunit/src/TextUI/Command.php:143
      PHPUnit\TextUI\TestRunner::run(Object(PHPUnit\Framework\TestSuite), [])

  13  vendor/phpunit/phpunit/src/TextUI/Command.php:96
      PHPUnit\TextUI\Command::run()

  14  vendor/phpunit/phpunit/phpunit:92
      PHPUnit\TextUI\Command::main()


  Tests:  1 failed, 5 passed
  Time:   0.59s

➜  CareScore git:(master) ✗ php artisan migrate:fresh --env=testing                       
Dropped all tables successfully.
Migration table created successfully.
Migrating: 2014_10_12_000000_create_users_table
Migrated:  2014_10_12_000000_create_users_table (18.71ms)
Migrating: 2014_10_12_100000_create_password_resets_table
Migrated:  2014_10_12_100000_create_password_resets_table (11.74ms)
Migrating: 2019_08_19_000000_create_failed_jobs_table
Migrated:  2019_08_19_000000_create_failed_jobs_table (18.03ms)
Migrating: 2019_12_14_000001_create_personal_access_tokens_table
Migrated:  2019_12_14_000001_create_personal_access_tokens_table (25.50ms)
Migrating: 2022_03_24_075424_create_roles_table
Migrated:  2022_03_24_075424_create_roles_table (7.53ms)
Migrating: 2022_03_24_075546_create_user_details_table
Migrated:  2022_03_24_075546_create_user_details_table (10.37ms)
Migrating: 2022_03_24_080306_create_user_statuses_table
Migrated:  2022_03_24_080306_create_user_statuses_table (7.14ms)
Migrating: 2022_03_24_081435_create_medical_statuses_table
Migrated:  2022_03_24_081435_create_medical_statuses_table (7.54ms)
Migrating: 2022_03_24_082223_create_work_details_table
Migrated:  2022_03_24_082223_create_work_details_table (8.51ms)
Migrating: 2022_03_28_083125_create_client_homecareworkers_table
Migrated:  2022_03_28_083125_create_client_homecareworkers_table (9.63ms)
Migrating: 2022_04_01_093432_create_coordinator_homecareworkers_table
Migrated:  2022_04_01_093432_create_coordinator_homecareworkers_table (7.14ms)
Migrating: 2022_04_04_085755_create_medical_details_table
Migrated:  2022_04_04_085755_create_medical_details_table (7.60ms)
Migrating: 2022_04_05_091447_create_notifications_table
Migrated:  2022_04_05_091447_create_notifications_table (25.86ms)
Migrating: 2022_04_06_193211_create_service_details_table
Migrated:  2022_04_06_193211_create_service_details_table (8.39ms)
Migrating: 2022_04_06_194634_create_emergency_contacts_table
Migrated:  2022_04_06_194634_create_emergency_contacts_table (10.60ms)
Migrating: 2022_04_06_195255_create_physicians_table
Migrated:  2022_04_06_195255_create_physicians_table (8.17ms)
Migrating: 2022_04_06_195720_create_client_insurances_table
Migrated:  2022_04_06_195720_create_client_insurances_table (7.07ms)
Migrating: 2022_04_06_200130_create_insurances_table
Migrated:  2022_04_06_200130_create_insurances_table (7.01ms)
Migrating: 2022_04_07_085041_create_client_nurses_table
Migrated:  2022_04_07_085041_create_client_nurses_table (7.65ms)
Migrating: 2022_04_07_085221_create_client_coords_table
Migrated:  2022_04_07_085221_create_client_coords_table (7.51ms)
Migrating: 2022_04_19_050517_create_injuries_table
Migrated:  2022_04_19_050517_create_injuries_table (7.16ms)
Migrating: 2022_04_19_051010_create_incident_types_table
Migrated:  2022_04_19_051010_create_incident_types_table (7.10ms)
Migrating: 2022_04_19_051341_create_incidents_table
Migrated:  2022_04_19_051341_create_incidents_table (18.22ms)
Migrating: 2022_04_19_092757_create_incident_locations_table
Migrated:  2022_04_19_092757_create_incident_locations_table (5.50ms)
Migrating: 2022_04_22_133020_create_incident_assigned_users_table
Migrated:  2022_04_22_133020_create_incident_assigned_users_table (8.93ms)
Migrating: 2022_04_22_142749_create_incident_reasons_table
Migrated:  2022_04_22_142749_create_incident_reasons_table (6.89ms)
Migrating: 2022_04_22_143245_create_actions_table
Migrated:  2022_04_22_143245_create_actions_table (7.17ms)
Migrating: 2022_04_22_183119_create_action_incidents_table
Migrated:  2022_04_22_183119_create_action_incidents_table (7.83ms)
Migrating: 2022_04_22_183346_create_response_reasons_table
Migrated:  2022_04_22_183346_create_response_reasons_table (9.79ms)
Migrating: 2022_04_22_183420_create_response_actions_table
Migrated:  2022_04_22_183420_create_response_actions_table (8.60ms)
Migrating: 2022_04_25_005048_create_reasons_table
Migrated:  2022_04_25_005048_create_reasons_table (7.60ms)
Migrating: 2022_04_25_005419_create_reason_categories_table
Migrated:  2022_04_25_005419_create_reason_categories_table (7.09ms)
Migrating: 2022_04_25_012107_create_investigation_questions_table
Migrated:  2022_04_25_012107_create_investigation_questions_table (8.52ms)
Migrating: 2022_04_25_012351_create_investigation_question_answers_table
Migrated:  2022_04_25_012351_create_investigation_question_answers_table (7.13ms)
Migrating: 2022_04_25_100845_create_investigation_activities_table
Migrated:  2022_04_25_100845_create_investigation_activities_table (7.14ms)
Migrating: 2022_04_25_101127_create_result_of_actions_table
Migrated:  2022_04_25_101127_create_result_of_actions_table (7.45ms)
Migrating: 2022_04_25_101226_create_clinician_recommendations_table
Migrated:  2022_04_25_101226_create_clinician_recommendations_table (7.48ms)
Migrating: 2022_04_26_195238_create_investigation_responses_table
Migrated:  2022_04_26_195238_create_investigation_responses_table (7.26ms)
Migrating: 2022_04_26_214047_create_trigger_table
Migrated:  2022_04_26_214047_create_trigger_table (6.64ms)
Migrating: 2022_04_26_214152_create_trigger_types_table
Migrated:  2022_04_26_214152_create_trigger_types_table (6.96ms)
Migrating: 2022_04_27_123046_create_incident_activities_table
Migrated:  2022_04_27_123046_create_incident_activities_table (8.16ms)
Migrating: 2022_04_28_165914_create_incident_type_categories_table
Migrated:  2022_04_28_165914_create_incident_type_categories_table (7.01ms)
Migrating: 2022_05_02_122620_create_action_results_table
Migrated:  2022_05_02_122620_create_action_results_table (7.34ms)
Migrating: 2022_05_02_122924_create_incident_actions_table
Migrated:  2022_05_02_122924_create_incident_actions_table (6.95ms)
Migrating: 2022_05_04_120628_create_action_result_responses_table
Migrated:  2022_05_04_120628_create_action_result_responses_table (7.52ms)
Migrating: 2022_05_04_141456_create_action_recommendation_table
Migrated:  2022_05_04_141456_create_action_recommendation_table (8.25ms)
Migrating: 2022_05_06_141651_create_investigation_activity_results_table
Migrated:  2022_05_06_141651_create_investigation_activity_results_table (8.00ms)
Migrating: 2022_05_08_032126_create_activity_selecteds_table
Migrated:  2022_05_08_032126_create_activity_selecteds_table (8.26ms)
Migrating: 2022_05_08_065436_create_activity_results_table
Migrated:  2022_05_08_065436_create_activity_results_table (8.35ms)
Migrating: 2022_05_12_163139_create_selected_results_table
Migrated:  2022_05_12_163139_create_selected_results_table (9.48ms)
Migrating: 2022_05_13_070045_create_activity_recommendations_table
Migrated:  2022_05_13_070045_create_activity_recommendations_table (8.45ms)
Migrating: 2022_05_16_093753_create_selected_recommendations_table
Migrated:  2022_05_16_093753_create_selected_recommendations_table (9.29ms)
Migrating: 2022_05_17_122557_create_complaints_table
Migrated:  2022_05_17_122557_create_complaints_table (11.42ms)
Migrating: 2022_05_17_140842_create_complaint_categories_table
Migrated:  2022_05_17_140842_create_complaint_categories_table (7.66ms)
Migrating: 2022_05_17_140929_create_complaint_types_table
Migrated:  2022_05_17_140929_create_complaint_types_table (8.23ms)
Migrating: 2022_05_18_113434_create_client_complaints_table
Migrated:  2022_05_18_113434_create_client_complaints_table (10.21ms)
➜  CareScore git:(master) ✗ php artisan db:seed --env=testing                              
Seeding: Database\Seeders\UserSeeder
Seeded:  Database\Seeders\UserSeeder (580.57ms)
Seeding: Database\Seeders\RoleSeeder
Seeded:  Database\Seeders\RoleSeeder (9.43ms)
Seeding: Database\Seeders\UserStatusSeeder
Seeded:  Database\Seeders\UserStatusSeeder (3.39ms)
Seeding: Database\Seeders\UserDetailsSeeder
Seeded:  Database\Seeders\UserDetailsSeeder (44.94ms)
Seeding: Database\Seeders\IncidentTypeSeeder
Seeded:  Database\Seeders\IncidentTypeSeeder (10.15ms)
Seeding: Database\Seeders\IncidentTypeCategorySeeder
Seeded:  Database\Seeders\IncidentTypeCategorySeeder (9.49ms)
Seeding: Database\Seeders\IncidentLocationSeeder
Seeded:  Database\Seeders\IncidentLocationSeeder (0.04ms)
Seeding: Database\Seeders\InjurySeeder
Seeded:  Database\Seeders\InjurySeeder (4.13ms)
Seeding: Database\Seeders\ReasonCategorySeeder
Seeded:  Database\Seeders\ReasonCategorySeeder (24.18ms)
Seeding: Database\Seeders\ClinicianRecommendationSeeder
Seeded:  Database\Seeders\ClinicianRecommendationSeeder (26.22ms)
Seeding: Database\Seeders\InvestigationActivitySeeder
Seeded:  Database\Seeders\InvestigationActivitySeeder (14.08ms)
Seeding: Database\Seeders\InvestigationQuestionSeeder
Seeded:  Database\Seeders\InvestigationQuestionSeeder (148.18ms)
Seeding: Database\Seeders\ReasonSeeder
Seeded:  Database\Seeders\ReasonSeeder (51.14ms)
Seeding: Database\Seeders\ActionSeeder
Seeded:  Database\Seeders\ActionSeeder (26.09ms)
Seeding: Database\Seeders\TriggerTypeSeeder
Seeded:  Database\Seeders\TriggerTypeSeeder (28.90ms)
Seeding: Database\Seeders\ComplaintCategorySeeder
Seeded:  Database\Seeders\ComplaintCategorySeeder (43.04ms)
Database seeding completed successfully.
➜  CareScore git:(master) ✗ php artisan test --env=testing --verbose              

   FAIL  Tests\Feature\ComplaintTest
  ✓ store complaint category
  ✓ list complaint category
  ✓ store complaint category type
  ✓ get category type by category
  ✓ get all complaint category type
  ⨯ create complaint

  ---

  • Tests\Feature\ComplaintTest > create complaint
  Invalid JSON was returned from the route.

  at vendor/phpunit/phpunit/src/Framework/Assert.php:2754
    2750▕     public static function fail(string $message = ''): void
    2751▕     {
    2752▕         self::$count++;
    2753▕ 
  ➜ 2754▕         throw new AssertionFailedError($message);
    2755▕     }
    2756▕ 
    2757▕     /**
    2758▕      * Mark the test as incomplete.

  1   vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:949
      PHPUnit\Framework\Assert::fail("Invalid JSON was returned from the route.")

  2   vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:795
      Illuminate\Testing\TestResponse::decodeResponseJson()

  3   tests/Feature/ComplaintTest.php:78
      Illuminate\Testing\TestResponse::assertJsonStructure([])

  4   vendor/phpunit/phpunit/src/Framework/TestCase.php:1527
      Tests\Feature\ComplaintTest::test_create_complaint()

  5   vendor/phpunit/phpunit/src/Framework/TestCase.php:1133
      PHPUnit\Framework\TestCase::runTest()

  6   vendor/phpunit/phpunit/src/Framework/TestResult.php:722
      PHPUnit\Framework\TestCase::runBare()

  7   vendor/phpunit/phpunit/src/Framework/TestCase.php:885
      PHPUnit\Framework\TestResult::run(Object(Tests\Feature\ComplaintTest))

  8   vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestCase::run(Object(PHPUnit\Framework\TestResult))

  9   vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  10  vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  11  vendor/phpunit/phpunit/src/TextUI/TestRunner.php:670
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  12  vendor/phpunit/phpunit/src/TextUI/Command.php:143
      PHPUnit\TextUI\TestRunner::run(Object(PHPUnit\Framework\TestSuite), [])

  13  vendor/phpunit/phpunit/src/TextUI/Command.php:96
      PHPUnit\TextUI\Command::run()

  14  vendor/phpunit/phpunit/phpunit:92
      PHPUnit\TextUI\Command::main()


  Tests:  1 failed, 5 passed
  Time:   0.56s

➜  CareScore git:(master) ✗ php artisan test --env=testing                                

   FAIL  Tests\Feature\ComplaintTest
  ✓ store complaint category
  ✓ list complaint category
  ✓ store complaint category type
  ✓ get category type by category
  ✓ get all complaint category type
  ⨯ create complaint

  ---

  • Tests\Feature\ComplaintTest > create complaint
  Invalid JSON was returned from the route.

  at tests/Feature/ComplaintTest.php:78
     74▕             'complaint_time' => '10:00:00',
     75▕             'description' => 'Lorem ipsum dolor sit amet consectetur adipisicing ​‌​
elit. Maxime mollitia,
     76▕              molestiae quas vel sint commodi repudiandae consequuntur voluptatum 
laborum'
     77▕         ])->assertJsonStructure([
  ➜  78▕             'created' => true
     79▕         ]);
     80▕     }
     81▕ }
     82▕ 


  Tests:  1 failed, 5 passed
  Time:   0.50s

➜  CareScore git:(master) ✗ php artisan test --env=testing \                              
>                                                                                         
➜  CareScore git:(master) ✗ php artisan test --env=testing                                
""

   FAIL  Tests\Feature\ComplaintTest
  ✓ store complaint category
  ✓ list complaint category
  ✓ store complaint category type
  ✓ get category type by category
  ✓ get all complaint category type
  ⨯ create complaint

  ---

  • Tests\Feature\ComplaintTest > create complaint
  Invalid JSON was returned from the route.

  at tests/Feature/ComplaintTest.php:78
     74▕             'complaint_time' => '10:00:00',
     75▕             'description' => 'Lorem ipsum dolor sit amet consectetur adipisicing 
elit. Maxime mollitia,
     76▕              molestiae quas vel sint commodi repudiandae consequuntur voluptatum 
laborum'
     77▕         ])->dump()->assertJsonStructure([
  ➜  78▕             'created' => true
     79▕         ]);
     80▕     }
     81▕ }
     82▕ 


  Tests:  1 failed, 5 passed
  Time:   0.47s

➜  CareScore git:(master) ✗                                                                              
➜  CareScore git:(master) ✗ php artisan test --env=testing  --verbose                                    
""

   FAIL  Tests\Feature\ComplaintTest
  ✓ store complaint category
  ✓ list complaint category
  ✓ store complaint category type
  ✓ get category type by category
  ✓ get all complaint category type
  ⨯ create complaint

  ---

  • Tests\Feature\ComplaintTest > create complaint
  Invalid JSON was returned from the route.

  at vendor/phpunit/phpunit/src/Framework/Assert.php:2754
    2750▕     public static function fail(string $message = ''): void
    2751▕     {
    2752▕         self::$count++;
    2753▕ 
  ➜ 2754▕         throw new AssertionFailedError($message);
    2755▕     }
    2756▕ 
    2757▕     /**
    2758▕      * Mark the test as incomplete.

  1   vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:949
      PHPUnit\Framework\Assert::fail("Invalid JSON was returned from the route.")

  2   vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:795
      Illuminate\Testing\TestResponse::decodeResponseJson()

  3   tests/Feature/ComplaintTest.php:78
      Illuminate\Testing\TestResponse::assertJsonStructure([])

  4   vendor/phpunit/phpunit/src/Framework/TestCase.php:1527
      Tests\Feature\ComplaintTest::test_create_complaint()

  5   vendor/phpunit/phpunit/src/Framework/TestCase.php:1133
      PHPUnit\Framework\TestCase::runTest()

  6   vendor/phpunit/phpunit/src/Framework/TestResult.php:722
      PHPUnit\Framework\TestCase::runBare()

  7   vendor/phpunit/phpunit/src/Framework/TestCase.php:885
      PHPUnit\Framework\TestResult::run(Object(Tests\Feature\ComplaintTest))

  8   vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestCase::run(Object(PHPUnit\Framework\TestResult))

  9   vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  10  vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  11  vendor/phpunit/phpunit/src/TextUI/TestRunner.php:670
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  12  vendor/phpunit/phpunit/src/TextUI/Command.php:143
      PHPUnit\TextUI\TestRunner::run(Object(PHPUnit\Framework\TestSuite), [])

  13  vendor/phpunit/phpunit/src/TextUI/Command.php:96
      PHPUnit\TextUI\Command::run()

  14  vendor/phpunit/phpunit/phpunit:92
      PHPUnit\TextUI\Command::main()


  Tests:  1 failed, 5 passed
  Time:   0.53s

➜  CareScore git:(master) ✗ clear                                                                        
➜  CareScore git:(master) ✗ php artisan test --env=testing  --verbose                                    
{#2484                                                                    
  +"message": "Undefined index: isRoutineServiceIssues"                          
  +"exception": "ErrorException"
  +"file": "/Users/lionelfrancis/development/backend/CareScore/app/Services/Complaint/ComplaintService.ph​‌​
p"                                                         
  +"line": 44
  +"trace": array:32 [                  
    0 => {#2491                                               
      +"file": "/Users/lionelfrancis/development/backend/CareScore/app/Services/Complaint/ComplaintServic​‌​
e.php"                                                      
      +"line": 44                                         
      +"function": "handleError"
      +"class": "Illuminate\Foundation\Bootstrap\HandleExceptions"
      +"type": "->"                        
    }
    1 => {#2488                                              
      +"file": "/Users/lionelfrancis/development/backend/CareScore/app/Http/Controllers/Api/ComplaintCont​‌​
roller.php"
      +"line": 45                                          
      +"function": "store"                                                  
      +"class": "App\Services\Complaint\ComplaintService"
      +"type": "->"                                         
    }                                                                      
    2 => {#2489
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminat​‌​
e/Routing/Controller.php"                                                   
      +"line": 54
      +"function": "store"                                  
      +"class": "App\Http\Controllers\Api\ComplaintController"              
      +"type": "->"
    }                                                     
    3 => {#2490                                                             
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminat​‌​
e/Routing/ControllerDispatcher.php"                    
      +"line": 45                                                            
      +"function": "callAction"
      +"class": "Illuminate\Routing\Controller"       
      +"type": "->"                
    }
    4 => {#2486                        
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminat​‌​
e/Routing/Route.php"
      +"line": 262
      +"function": "dispatch"
      +"class": "Illuminate\Routing\ControllerDispatcher"
      +"type": "->"
    }                                                                                                    
    5 => {#2485
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminat​‌​
e/Routing/Route.php"
      +"line": 205
      +"function": "runController"
      +"class": "Illuminate\Routing\Route"
      +"type": "->"
    }
    6 => {#2487
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminat​‌​
e/Routing/Router.php"
      +"line": 695
      +"function": "run"
      +"class": "Illuminate\Routing\Route"
      +"type": "->"
    }
    7 => {#2544
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminat​‌​
e/Pipeline/Pipeline.php"
      +"line": 128
      +"function": "Illuminate\Routing\{closure}"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    8 => {#2570
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminat​‌​
e/Pipeline/Pipeline.php"
      +"line": 103
      +"function": "Illuminate\Pipeline\{closure}"
      +"class": "Illuminate\Pipeline\Pipeline"
      +"type": "->"
    }
    9 => {#2275
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminat​‌​
e/Routing/Router.php"
      +"line": 697
      +"function": "then"
      +"class": "Illuminate\Pipeline\Pipeline"
      +"type": "->"
    }
    10 => {#1897
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminat​‌​
e/Routing/Router.php"
      +"line": 672
      +"function": "runRouteWithinStack"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    11 => {#2279
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminat​‌​
e/Routing/Router.php"
      +"line": 636
      +"function": "runRoute"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    12 => {#2571
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminat​‌​
e/Routing/Router.php"
      +"line": 625
      +"function": "dispatchToRoute"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    13 => {#2572
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminat​‌​
e/Foundation/Http/Kernel.php"
      +"line": 167
      +"function": "dispatch"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    14 => {#2573
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminat​‌​
e/Pipeline/Pipeline.php"
      +"line": 128
      +"function": "Illuminate\Foundation\Http\{closure}"
      +"class": "Illuminate\Foundation\Http\Kernel"
      +"type": "->"
    }
    15 => {#2574
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminat​‌​
e/Pipeline/Pipeline.php"
      +"line": 103
      +"function": "Illuminate\Pipeline\{closure}"
      +"class": "Illuminate\Pipeline\Pipeline"
      +"type": "->"
    }
    16 => {#2575
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminat​‌​
e/Foundation/Http/Kernel.php"
      +"line": 142
      +"function": "then"
      +"class": "Illuminate\Pipeline\Pipeline"
      +"type": "->"
    }
    17 => {#2576
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminat​‌​
e/Foundation/Http/Kernel.php"
      +"line": 111
      +"function": "sendRequestThroughRouter"
      +"class": "Illuminate\Foundation\Http\Kernel"
      +"type": "->"
    }
    18 => {#2577
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminat​‌​
e/Foundation/Testing/Concerns/MakesHttpRequests.php"
      +"line": 510
      +"function": "handle"
      +"class": "Illuminate\Foundation\Http\Kernel"
      +"type": "->"
    }
    19 => {#2578
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminat​‌​
e/Foundation/Testing/Concerns/MakesHttpRequests.php"
      +"line": 476
      +"function": "call"
      +"class": "Illuminate\Foundation\Testing\TestCase"
      +"type": "->"
    }
    20 => {#2579
      +"file": "/Users/lionelfrancis/development/backend/CareScore/tests/Feature/ComplaintTest.php"
      +"line": 64
      +"function": "json"
      +"class": "Illuminate\Foundation\Testing\TestCase"
      +"type": "->"
    }
    21 => {#2580
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/T​‌​
estCase.php"
      +"line": 1527
      +"function": "test_create_complaint"
      +"class": "Tests\Feature\ComplaintTest"
      +"type": "->"
    }
    22 => {#2581
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/T​‌​
estCase.php"
      +"line": 1133
      +"function": "runTest"
      +"class": "PHPUnit\Framework\TestCase"
      +"type": "->"
    }
    23 => {#2582
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/T​‌​
estResult.php"
      +"line": 722
      +"function": "runBare"
      +"class": "PHPUnit\Framework\TestCase"
      +"type": "->"
    }
    24 => {#2583
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/T​‌​
estCase.php"
      +"line": 885
      +"function": "run"
      +"class": "PHPUnit\Framework\TestResult"
      +"type": "->"
    }
    25 => {#2584
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/T​‌​
estSuite.php"
      +"line": 678
      +"function": "run"
      +"class": "PHPUnit\Framework\TestCase"
      +"type": "->"
    }
    26 => {#2585
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/T​‌​
estSuite.php"
      +"line": 678
      +"function": "run"
      +"class": "PHPUnit\Framework\TestSuite"
      +"type": "->"
    }
    27 => {#2586
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/T​‌​
estSuite.php"
      +"line": 678
      +"function": "run"
      +"class": "PHPUnit\Framework\TestSuite"
      +"type": "->"
    }
    28 => {#2587
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/TextUI/Test​‌​
Runner.php"
      +"line": 670
      +"function": "run"
      +"class": "PHPUnit\Framework\TestSuite"
      +"type": "->"
    }
    29 => {#2588
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/TextUI/Comm​‌​
and.php"
      +"line": 143
      +"function": "run"
      +"class": "PHPUnit\TextUI\TestRunner"
      +"type": "->"
    }
    30 => {#2589
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/TextUI/Comm​‌​
and.php"
      +"line": 96
      +"function": "run"
      +"class": "PHPUnit\TextUI\Command"
      +"type": "->"
    }
    31 => {#2590
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/phpunit"
      +"line": 92
      +"function": "main"
      +"class": "PHPUnit\TextUI\Command"
      +"type": "::"
    }
  ]
}

   FAIL  Tests\Feature\ComplaintTest
  ✓ store complaint category
  ✓ list complaint category
  ✓ store complaint category type
  ✓ get category type by category
  ✓ get all complaint category type
  ⨯ create complaint

  ---

  • Tests\Feature\ComplaintTest > create complaint
   PHPUnit\Framework\InvalidArgumentException 

  Argument #1 of PHPUnit\Framework\Assert::assertArrayHasKey() must be an integer or string

  at vendor/phpunit/phpunit/src/Framework/Exception/InvalidArgumentException.php:26
     22▕     public static function create(int $argument, string $type): self
     23▕     {
     24▕         $stack = debug_backtrace();
     25▕ 
  ➜  26▕         return new self(
     27▕             sprintf(
     28▕                 'Argument #%d of %s::%s() must be %s %s',
     29▕                 $argument,
     30▕                 $stack[1]['class'],

  1   vendor/phpunit/phpunit/src/Framework/Assert.php:113
      PHPUnit\Framework\InvalidArgumentException::create("integer or string")

  2   vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:256
      PHPUnit\Framework\Assert::assertArrayHasKey(["Undefined index: isRoutineServiceIssues", "ErrorExcep​‌​
tion", "/Users/lionelfrancis/development/backend/CareScore/app/Services/Complaint/ComplaintService.php"])

  3   vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:795
      Illuminate\Testing\AssertableJsonString::assertStructure([])

  4   tests/Feature/ComplaintTest.php:78
      Illuminate\Testing\TestResponse::assertJsonStructure([])

  5   vendor/phpunit/phpunit/src/Framework/TestCase.php:1527
      Tests\Feature\ComplaintTest::test_create_complaint()

  6   vendor/phpunit/phpunit/src/Framework/TestCase.php:1133
      PHPUnit\Framework\TestCase::runTest()

  7   vendor/phpunit/phpunit/src/Framework/TestResult.php:722
      PHPUnit\Framework\TestCase::runBare()

  8   vendor/phpunit/phpunit/src/Framework/TestCase.php:885
      PHPUnit\Framework\TestResult::run(Object(Tests\Feature\ComplaintTest))

  9   vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestCase::run(Object(PHPUnit\Framework\TestResult))

  10  vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  11  vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  12  vendor/phpunit/phpunit/src/TextUI/TestRunner.php:670
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  13  vendor/phpunit/phpunit/src/TextUI/Command.php:143
      PHPUnit\TextUI\TestRunner::run(Object(PHPUnit\Framework\TestSuite), [])

  14  vendor/phpunit/phpunit/src/TextUI/Command.php:96
      PHPUnit\TextUI\Command::run()

  15  vendor/phpunit/phpunit/phpunit:92
      PHPUnit\TextUI\Command::main()


  Tests:  1 failed, 5 passed
  Time:   0.98s

➜  CareScore git:(master) ✗ clear                                                                        
➜  CareScore git:(master) ✗ php artisan test --env=testing  --verbose                                    
{#2484                                                                                                   
  +"message": "Undefined index: client_relationship"                                                     
  +"exception": "ErrorException"
  +"file": "/Users/lionelfrancis/development/backend/CareScore/app/Services/Complaint/ComplaintService.ph​‌​
p"                                                                
  +"line": 48
  +"trace": array:32 [                  
    0 => {#2491                                               
      +"file": "/Users/lionelfrancis/development/backend/CareScore/app/Services/Complaint/ComplaintServic​‌​
e.php"                                                      
      +"line": 48                                         
      +"function": "handleError"
      +"class": "Illuminate\Foundation\Bootstrap\HandleExceptions"
      +"type": "->"                        
    }
    1 => {#2488                                              
      +"file": "/Users/lionelfrancis/development/backend/CareScore/app/Http/Controllers/Api/ComplaintCont​‌​
roller.php"
      +"line": 45                                          
      +"function": "store"                                                  
      +"class": "App\Services\Complaint\ComplaintService"
      +"type": "->"                                         
    }                                                                      
    2 => {#2489
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminat​‌​
e/Routing/Controller.php"                                                   
      +"line": 54
      +"function": "store"                                  
      +"class": "App\Http\Controllers\Api\ComplaintController"              
      +"type": "->"
    }                                                     
    3 => {#2490                                                             
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminat​‌​
e/Routing/ControllerDispatcher.php"                    
      +"line": 45                                                            
      +"function": "callAction"
      +"class": "Illuminate\Routing\Controller"       
      +"type": "->"                
    }
    4 => {#2486                        
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminat​‌​
e/Routing/Route.php"
      +"line": 262
      +"function": "dispatch"
      +"class": "Illuminate\Routing\ControllerDispatcher"
      +"type": "->"
    }                                                                                                    
    5 => {#2485
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminat​‌​
e/Routing/Route.php"
      +"line": 205
      +"function": "runController"
      +"class": "Illuminate\Routing\Route"
      +"type": "->"
    }
    6 => {#2487
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminat​‌​
e/Routing/Router.php"
      +"line": 695
      +"function": "run"
      +"class": "Illuminate\Routing\Route"
      +"type": "->"
    }
    7 => {#2544
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminat​‌​
e/Pipeline/Pipeline.php"
      +"line": 128
      +"function": "Illuminate\Routing\{closure}"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    8 => {#2570
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminat​‌​
e/Pipeline/Pipeline.php"
      +"line": 103
      +"function": "Illuminate\Pipeline\{closure}"
      +"class": "Illuminate\Pipeline\Pipeline"
      +"type": "->"
    }
    9 => {#2275
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminat​‌​
e/Routing/Router.php"
      +"line": 697
      +"function": "then"
      +"class": "Illuminate\Pipeline\Pipeline"
      +"type": "->"
    }
    10 => {#1898
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminat​‌​
e/Routing/Router.php"
      +"line": 672
      +"function": "runRouteWithinStack"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    11 => {#2279
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminat​‌​
e/Routing/Router.php"
      +"line": 636
      +"function": "runRoute"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    12 => {#2571
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminat​‌​
e/Routing/Router.php"
      +"line": 625
      +"function": "dispatchToRoute"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    13 => {#2572
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminat​‌​
e/Foundation/Http/Kernel.php"
      +"line": 167
      +"function": "dispatch"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    14 => {#2573
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminat​‌​
e/Pipeline/Pipeline.php"
      +"line": 128
      +"function": "Illuminate\Foundation\Http\{closure}"
      +"class": "Illuminate\Foundation\Http\Kernel"
      +"type": "->"
    }
    15 => {#2574
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminat​‌​
e/Pipeline/Pipeline.php"
      +"line": 103
      +"function": "Illuminate\Pipeline\{closure}"
      +"class": "Illuminate\Pipeline\Pipeline"
      +"type": "->"
    }
    16 => {#2575
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminat​‌​
e/Foundation/Http/Kernel.php"
      +"line": 142
      +"function": "then"
      +"class": "Illuminate\Pipeline\Pipeline"
      +"type": "->"
    }
    17 => {#2576
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminat​‌​
e/Foundation/Http/Kernel.php"
      +"line": 111
      +"function": "sendRequestThroughRouter"
      +"class": "Illuminate\Foundation\Http\Kernel"
      +"type": "->"
    }
    18 => {#2577
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminat​‌​
e/Foundation/Testing/Concerns/MakesHttpRequests.php"
      +"line": 510
      +"function": "handle"
      +"class": "Illuminate\Foundation\Http\Kernel"
      +"type": "->"
    }
    19 => {#2578
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminat​‌​
e/Foundation/Testing/Concerns/MakesHttpRequests.php"
      +"line": 476
      +"function": "call"
      +"class": "Illuminate\Foundation\Testing\TestCase"
      +"type": "->"
    }
    20 => {#2579
      +"file": "/Users/lionelfrancis/development/backend/CareScore/tests/Feature/ComplaintTest.php"
      +"line": 64
      +"function": "json"
      +"class": "Illuminate\Foundation\Testing\TestCase"
      +"type": "->"
    }
    21 => {#2580
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/T​‌​
estCase.php"
      +"line": 1527
      +"function": "test_create_complaint"
      +"class": "Tests\Feature\ComplaintTest"
      +"type": "->"
    }
    22 => {#2581
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/T​‌​
estCase.php"
      +"line": 1133
      +"function": "runTest"
      +"class": "PHPUnit\Framework\TestCase"
      +"type": "->"
    }
    23 => {#2582
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/T​‌​
estResult.php"
      +"line": 722
      +"function": "runBare"
      +"class": "PHPUnit\Framework\TestCase"
      +"type": "->"
    }
    24 => {#2583
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/T​‌​
estCase.php"
      +"line": 885
      +"function": "run"
      +"class": "PHPUnit\Framework\TestResult"
      +"type": "->"
    }
    25 => {#2584
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/T​‌​
estSuite.php"
      +"line": 678
      +"function": "run"
      +"class": "PHPUnit\Framework\TestCase"
      +"type": "->"
    }
    26 => {#2585
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/T​‌​
estSuite.php"
      +"line": 678
      +"function": "run"
      +"class": "PHPUnit\Framework\TestSuite"
      +"type": "->"
    }
    27 => {#2586
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/T​‌​
estSuite.php"
      +"line": 678
      +"function": "run"
      +"class": "PHPUnit\Framework\TestSuite"
      +"type": "->"
    }
    28 => {#2587
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/TextUI/Test​‌​
Runner.php"
      +"line": 670
      +"function": "run"
      +"class": "PHPUnit\Framework\TestSuite"
      +"type": "->"
    }
    29 => {#2588
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/TextUI/Comm​‌​
and.php"
      +"line": 143
      +"function": "run"
      +"class": "PHPUnit\TextUI\TestRunner"
      +"type": "->"
    }
    30 => {#2589
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/TextUI/Comm​‌​
and.php"
      +"line": 96
      +"function": "run"
      +"class": "PHPUnit\TextUI\Command"
      +"type": "->"
    }
    31 => {#2590
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/phpunit"
      +"line": 92
      +"function": "main"
      +"class": "PHPUnit\TextUI\Command"
      +"type": "::"
    }
  ]
}

   FAIL  Tests\Feature\ComplaintTest
  ✓ store complaint category
  ✓ list complaint category
  ✓ store complaint category type
  ✓ get category type by category
  ✓ get all complaint category type
  ⨯ create complaint

  ---

  • Tests\Feature\ComplaintTest > create complaint
   PHPUnit\Framework\InvalidArgumentException 

  Argument #1 of PHPUnit\Framework\Assert::assertArrayHasKey() must be an integer or string

  at vendor/phpunit/phpunit/src/Framework/Exception/InvalidArgumentException.php:26
     22▕     public static function create(int $argument, string $type): self
     23▕     {
     24▕         $stack = debug_backtrace();
     25▕ 
  ➜  26▕         return new self(
     27▕             sprintf(
     28▕                 'Argument #%d of %s::%s() must be %s %s',
     29▕                 $argument,
     30▕                 $stack[1]['class'],

  1   vendor/phpunit/phpunit/src/Framework/Assert.php:113
      PHPUnit\Framework\InvalidArgumentException::create("integer or string")

  2   vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:256
      PHPUnit\Framework\Assert::assertArrayHasKey(["Undefined index: client_relationship", "ErrorExceptio
n", "/Users/lionelfrancis/development/backend/CareScore/app/Services/Complaint/ComplaintService.php"])

  3   vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:795
      Illuminate\Testing\AssertableJsonString::assertStructure([])

  4   tests/Feature/ComplaintTest.php:78
      Illuminate\Testing\TestResponse::assertJsonStructure([])

  5   vendor/phpunit/phpunit/src/Framework/TestCase.php:1527
      Tests\Feature\ComplaintTest::test_create_complaint()

  6   vendor/phpunit/phpunit/src/Framework/TestCase.php:1133
      PHPUnit\Framework\TestCase::runTest()

  7   vendor/phpunit/phpunit/src/Framework/TestResult.php:722
      PHPUnit\Framework\TestCase::runBare()

  8   vendor/phpunit/phpunit/src/Framework/TestCase.php:885
      PHPUnit\Framework\TestResult::run(Object(Tests\Feature\ComplaintTest))

  9   vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestCase::run(Object(PHPUnit\Framework\TestResult))

  10  vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  11  vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  12  vendor/phpunit/phpunit/src/TextUI/TestRunner.php:670
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  13  vendor/phpunit/phpunit/src/TextUI/Command.php:143
      PHPUnit\TextUI\TestRunner::run(Object(PHPUnit\Framework\TestSuite), [])

  14  vendor/phpunit/phpunit/src/TextUI/Command.php:96
      PHPUnit\TextUI\Command::run()

  15  vendor/phpunit/phpunit/phpunit:92
      PHPUnit\TextUI\Command::main()


  Tests:  1 failed, 5 passed
  Time:   0.86s

➜  CareScore git:(master) ✗ clear                                                                        
                                                                                56
➜  CareScore git:(master) ✗ php artisan test --env=testing  --verbose           56
{#3418                                                                          
  +"message": """                                                               
    SQLSTATE[HY000]: General error: 1366 Incorrect integer value: 'reported_by' ​‌​
for column 'reported_by' at row 1 (SQL: insert into `complaints` (`status`, `cui​‌​
d`, `date_reported`, `isRoutineServiceIssue`, `occurrence_date`, `report_timelin​‌​
e`, `reported_by`, `client_relationship`, `isSelfDirecting`, `cluster`, `complai​‌​
nt_hours`, `complaint_category_id`, `complaint_type_id`, `complaint_time`, `desc​‌​
ription`, `updated_at`, `created_at`) values (New, Com-0000000001, 2022-05-29, 1​‌​
, 2022-01-04, Immediately, reported_by, client_relationship, 1, 0, Service Hours​‌​
, 1, 1, 10:00:00, Lorem ipsum dolor sit amet consectetur adipisicing elit. Maxim​‌​
e mollitia,\n                                             
                 molestiae quas vel sint commodi repudiandae consequuntur volupt​‌​
atum laborum, 2022-05-18 18:34:38, 2022-05-18 18:34:38))    
    """                                    
  +"exception": "Illuminate\Database\QueryException"
  +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/fr​‌​
amework/src/Illuminate/Database/Connection.php"
  +"line": 703
  +"trace": array:41 [                                     
    0 => {#3425                                                             
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/larave​‌​
l/framework/src/Illuminate/Database/Connection.php"         
      +"line": 663                                                         
      +"function": "runQueryCallback"
      +"class": "Illuminate\Database\Connection"            
      +"type": "->"                                                         
    }
    1 => {#3422                                             
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/larave​‌​
l/framework/src/Illuminate/Database/Connection.php"
      +"line": 493                                        
      +"function": "run"                                                    
      +"class": "Illuminate\Database\Connection"
      +"type": "->"                                    
    }                                                                        
    2 => {#3423
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/larave​‌​
l/framework/src/Illuminate/Database/Connection.php"
      +"line": 445
      +"function": "statement"         
      +"class": "Illuminate\Database\Connection"
      +"type": "->"
    }
    3 => {#3424             
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/larave​‌​
l/framework/src/Illuminate/Database/Query/Processors/Processor.php"
      +"line": 32                                                               
      +"function": "insert"
      +"class": "Illuminate\Database\Connection"
      +"type": "->"
    }
    4 => {#3420
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/larave​‌​
l/framework/src/Illuminate/Database/Query/Builder.php"
      +"line": 2966
      +"function": "processInsertGetId"
      +"class": "Illuminate\Database\Query\Processors\Processor"
      +"type": "->"
    }
    5 => {#3419
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/larave​‌​
l/framework/src/Illuminate/Database/Eloquent/Builder.php"
      +"line": 1641
      +"function": "insertGetId"
      +"class": "Illuminate\Database\Query\Builder"
      +"type": "->"
    }
    6 => {#3421
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/larave​‌​
l/framework/src/Illuminate/Database/Eloquent/Model.php"
      +"line": 1188
      +"function": "__call"
      +"class": "Illuminate\Database\Eloquent\Builder"
      +"type": "->"
    }
    7 => {#3490
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/larave​‌​
l/framework/src/Illuminate/Database/Eloquent/Model.php"
      +"line": 1153
      +"function": "insertAndSetId"
      +"class": "Illuminate\Database\Eloquent\Model"
      +"type": "->"
    }
    8 => {#3502
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/larave​‌​
l/framework/src/Illuminate/Database/Eloquent/Model.php"
      +"line": 994
      +"function": "performInsert"
      +"class": "Illuminate\Database\Eloquent\Model"
      +"type": "->"
    }
    9 => {#3203
      +"file": "/Users/lionelfrancis/development/backend/CareScore/app/Services/​‌​
Complaint/ComplaintService.php"
      +"line": 56
      +"function": "save"
      +"class": "Illuminate\Database\Eloquent\Model"
      +"type": "->"
    }
    10 => {#2825
      +"file": "/Users/lionelfrancis/development/backend/CareScore/app/Http/Cont​‌​
rollers/Api/ComplaintController.php"
      +"line": 45
      +"function": "store"
      +"class": "App\Services\Complaint\ComplaintService"
      +"type": "->"
    }
    11 => {#3207
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/larave​‌​
l/framework/src/Illuminate/Routing/Controller.php"
      +"line": 54
      +"function": "store"
      +"class": "App\Http\Controllers\Api\ComplaintController"
      +"type": "->"
    }
    12 => {#3503
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/larave​‌​
l/framework/src/Illuminate/Routing/ControllerDispatcher.php"
      +"line": 45
      +"function": "callAction"
      +"class": "Illuminate\Routing\Controller"
      +"type": "->"
    }
    13 => {#3504
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/larave​‌​
l/framework/src/Illuminate/Routing/Route.php"
      +"line": 262
      +"function": "dispatch"
      +"class": "Illuminate\Routing\ControllerDispatcher"
      +"type": "->"
    }
    14 => {#3505
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/larave​‌​
l/framework/src/Illuminate/Routing/Route.php"
      +"line": 205
      +"function": "runController"
      +"class": "Illuminate\Routing\Route"
      +"type": "->"
    }
    15 => {#3506
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/larave​‌​
l/framework/src/Illuminate/Routing/Router.php"
      +"line": 695
      +"function": "run"
      +"class": "Illuminate\Routing\Route"
      +"type": "->"
    }
    16 => {#3507
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/larave​‌​
l/framework/src/Illuminate/Pipeline/Pipeline.php"
      +"line": 128
      +"function": "Illuminate\Routing\{closure}"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    17 => {#3508
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/larave​‌​
l/framework/src/Illuminate/Pipeline/Pipeline.php"
      +"line": 103
      +"function": "Illuminate\Pipeline\{closure}"
      +"class": "Illuminate\Pipeline\Pipeline"
      +"type": "->"
    }
    18 => {#3509
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/larave​‌​
l/framework/src/Illuminate/Routing/Router.php"
      +"line": 697
      +"function": "then"
      +"class": "Illuminate\Pipeline\Pipeline"
      +"type": "->"
    }
    19 => {#3510
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/larave​‌​
l/framework/src/Illuminate/Routing/Router.php"
      +"line": 672
      +"function": "runRouteWithinStack"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    20 => {#3511
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/larave​‌​
l/framework/src/Illuminate/Routing/Router.php"
      +"line": 636
      +"function": "runRoute"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    21 => {#3512
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/larave​‌​
l/framework/src/Illuminate/Routing/Router.php"
      +"line": 625
      +"function": "dispatchToRoute"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    22 => {#3513
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/larave​‌​
l/framework/src/Illuminate/Foundation/Http/Kernel.php"
      +"line": 167
      +"function": "dispatch"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    23 => {#3514
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/larave​‌​
l/framework/src/Illuminate/Pipeline/Pipeline.php"
      +"line": 128
      +"function": "Illuminate\Foundation\Http\{closure}"
      +"class": "Illuminate\Foundation\Http\Kernel"
      +"type": "->"
    }
    24 => {#3515
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/larave​‌​
l/framework/src/Illuminate/Pipeline/Pipeline.php"
      +"line": 103
      +"function": "Illuminate\Pipeline\{closure}"
      +"class": "Illuminate\Pipeline\Pipeline"
      +"type": "->"
    }
    25 => {#3516
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/larave​‌​
l/framework/src/Illuminate/Foundation/Http/Kernel.php"
      +"line": 142
      +"function": "then"
      +"class": "Illuminate\Pipeline\Pipeline"
      +"type": "->"
    }
    26 => {#3517
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/larave​‌​
l/framework/src/Illuminate/Foundation/Http/Kernel.php"
      +"line": 111
      +"function": "sendRequestThroughRouter"
      +"class": "Illuminate\Foundation\Http\Kernel"
      +"type": "->"
    }
    27 => {#3518
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/larave​‌​
l/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php"
      +"line": 510
      +"function": "handle"
      +"class": "Illuminate\Foundation\Http\Kernel"
      +"type": "->"
    }
    28 => {#3519
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/larave​‌​
l/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php"
      +"line": 476
      +"function": "call"
      +"class": "Illuminate\Foundation\Testing\TestCase"
      +"type": "->"
    }
    29 => {#3520
      +"file": "/Users/lionelfrancis/development/backend/CareScore/tests/Feature​‌​
/ComplaintTest.php"
      +"line": 64
      +"function": "json"
      +"class": "Illuminate\Foundation\Testing\TestCase"
      +"type": "->"
    }
    30 => {#3521
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpuni​‌​
t/phpunit/src/Framework/TestCase.php"
      +"line": 1527
      +"function": "test_create_complaint"
      +"class": "Tests\Feature\ComplaintTest"
      +"type": "->"
    }
    31 => {#3522
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpuni​‌​
t/phpunit/src/Framework/TestCase.php"
      +"line": 1133
      +"function": "runTest"
      +"class": "PHPUnit\Framework\TestCase"
      +"type": "->"
    }
    32 => {#3523
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpuni​‌​
t/phpunit/src/Framework/TestResult.php"
      +"line": 722
      +"function": "runBare"
      +"class": "PHPUnit\Framework\TestCase"
      +"type": "->"
    }
    33 => {#3524
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpuni​‌​
t/phpunit/src/Framework/TestCase.php"
      +"line": 885
      +"function": "run"
      +"class": "PHPUnit\Framework\TestResult"
      +"type": "->"
    }
    34 => {#3525
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpuni​‌​
t/phpunit/src/Framework/TestSuite.php"
      +"line": 678
      +"function": "run"
      +"class": "PHPUnit\Framework\TestCase"
      +"type": "->"
    }
    35 => {#3526
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpuni​‌​
t/phpunit/src/Framework/TestSuite.php"
      +"line": 678
      +"function": "run"
      +"class": "PHPUnit\Framework\TestSuite"
      +"type": "->"
    }
    36 => {#3527
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpuni​‌​
t/phpunit/src/Framework/TestSuite.php"
      +"line": 678
      +"function": "run"
      +"class": "PHPUnit\Framework\TestSuite"
      +"type": "->"
    }
    37 => {#3528
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpuni​‌​
t/phpunit/src/TextUI/TestRunner.php"
      +"line": 670
      +"function": "run"
      +"class": "PHPUnit\Framework\TestSuite"
      +"type": "->"
    }
    38 => {#3529
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpuni​‌​
t/phpunit/src/TextUI/Command.php"
      +"line": 143
      +"function": "run"
      +"class": "PHPUnit\TextUI\TestRunner"
      +"type": "->"
    }
    39 => {#3530
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpuni​‌​
t/phpunit/src/TextUI/Command.php"
      +"line": 96
      +"function": "run"
      +"class": "PHPUnit\TextUI\Command"
      +"type": "->"
    }
    40 => {#3531
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpuni​‌​
t/phpunit/phpunit"
      +"line": 92
      +"function": "main"
      +"class": "PHPUnit\TextUI\Command"
      +"type": "::"
    }
  ]
}

   FAIL  Tests\Feature\ComplaintTest
  ✓ store complaint category
  ✓ list complaint category
  ✓ store complaint category type
  ✓ get category type by category
  ✓ get all complaint category type
  ⨯ create complaint

  ---

  • Tests\Feature\ComplaintTest > create complaint
   PHPUnit\Framework\InvalidArgumentException 

  Argument #1 of PHPUnit\Framework\Assert::assertArrayHasKey() must be an intege​‌​
r or string

  at vendor/phpunit/phpunit/src/Framework/Exception/InvalidArgumentException.php​‌​
:26
     22▕     public static function create(int $argument, string $type): self
     23▕     {
     24▕         $stack = debug_backtrace();
     25▕ 
  ➜  26▕         return new self(
     27▕             sprintf(
     28▕                 'Argument #%d of %s::%s() must be %s %s',
     29▕                 $argument,
     30▕                 $stack[1]['class'],

  1   vendor/phpunit/phpunit/src/Framework/Assert.php:113
      PHPUnit\Framework\InvalidArgumentException::create("integer or string")

  2   vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:2​‌​
56
      PHPUnit\Framework\Assert::assertArrayHasKey(["SQLSTATE[HY000]: General err​‌​
or: 1366 Incorrect integer value: 'reported_by' for column 'reported_by' at row ​‌​
1 (SQL: insert into `complaints` (`status`, `cuid`, `date_reported`, `isRoutineS​‌​
erviceIssue`, `occurrence_date`, `report_timeline`, `reported_by`, `client_relat​‌​
ionship`, `isSelfDirecting`, `cluster`, `complaint_hours`, `complaint_category_i​‌​
d`, `complaint_type_id`, `complaint_time`, `description`, `updated_at`, `created​‌​
_at`) values (New, Com-0000000001, 2022-05-29, 1, 2022-01-04, Immediately, repor​‌​
ted_by, client_relationship, 1, 0, Service Hours, 1, 1, 10:00:00, Lorem ipsum do​‌​
lor sit amet consectetur adipisicing elit. Maxime mollitia,
             molestiae quas vel sint commodi repudiandae consequuntur voluptatum
 laborum, 2022-05-18 18:34:38, 2022-05-18 18:34:38))", "Illuminate\Database\Quer
yException", "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/
framework/src/Illuminate/Database/Connection.php"])

  3   vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:795
      Illuminate\Testing\AssertableJsonString::assertStructure([])

  4   tests/Feature/ComplaintTest.php:80
      Illuminate\Testing\TestResponse::assertJsonStructure([])

  5   vendor/phpunit/phpunit/src/Framework/TestCase.php:1527
      Tests\Feature\ComplaintTest::test_create_complaint()

  6   vendor/phpunit/phpunit/src/Framework/TestCase.php:1133
      PHPUnit\Framework\TestCase::runTest()

  7   vendor/phpunit/phpunit/src/Framework/TestResult.php:722
      PHPUnit\Framework\TestCase::runBare()

  8   vendor/phpunit/phpunit/src/Framework/TestCase.php:885
      PHPUnit\Framework\TestResult::run(Object(Tests\Feature\ComplaintTest))

  9   vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestCase::run(Object(PHPUnit\Framework\TestResult))

  10  vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  11  vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  12  vendor/phpunit/phpunit/src/TextUI/TestRunner.php:670
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  13  vendor/phpunit/phpunit/src/TextUI/Command.php:143
      PHPUnit\TextUI\TestRunner::run(Object(PHPUnit\Framework\TestSuite), [])

  14  vendor/phpunit/phpunit/src/TextUI/Command.php:96
      PHPUnit\TextUI\Command::run()

  15  vendor/phpunit/phpunit/phpunit:92
      PHPUnit\TextUI\Command::main()


  Tests:  1 failed, 5 passed
  Time:   2.06s

➜  CareScore git:(master) ✗ php artisan test --env=testing  --verbose                      
{#3418
  +"message": "Undefined variable: compliant"
  +"exception": "ErrorException"
  +"file": "/Users/lionelfrancis/development/backend/CareScore/app/Services/Complaint/Compl​‌​
aintService.php"
  +"line": 59
  +"trace": array:32 [
    0 => {#3425
      +"file": "/Users/lionelfrancis/development/backend/CareScore/app/Services/Complaint/C​‌​
omplaintService.php"
      +"line": 59
      +"function": "handleError"
      +"class": "Illuminate\Foundation\Bootstrap\HandleExceptions"
      +"type": "->"
    }
    1 => {#3422
      +"file": "/Users/lionelfrancis/development/backend/CareScore/app/Http/Controllers/Api​‌​
/ComplaintController.php"
      +"line": 45
      +"function": "store"
      +"class": "App\Services\Complaint\ComplaintService"
      +"type": "->"
    }
    2 => {#3423
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework​‌​
/src/Illuminate/Routing/Controller.php"
      +"line": 54
      +"function": "store"
      +"class": "App\Http\Controllers\Api\ComplaintController"
      +"type": "->"
    }
    3 => {#3424
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework​‌​
/src/Illuminate/Routing/ControllerDispatcher.php"
      +"line": 45
      +"function": "callAction"
      +"class": "Illuminate\Routing\Controller"
      +"type": "->"
    }
    4 => {#3420
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework​‌​
/src/Illuminate/Routing/Route.php"
      +"line": 262
      +"function": "dispatch"
      +"class": "Illuminate\Routing\ControllerDispatcher"
      +"type": "->"
    }
    5 => {#3419
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework​‌​
/src/Illuminate/Routing/Route.php"
      +"line": 205
      +"function": "runController"
      +"class": "Illuminate\Routing\Route"
      +"type": "->"
    }
    6 => {#3421
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework​‌​
/src/Illuminate/Routing/Router.php"
      +"line": 695
      +"function": "run"
      +"class": "Illuminate\Routing\Route"
      +"type": "->"
    }
    7 => {#3462
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework​‌​
/src/Illuminate/Pipeline/Pipeline.php"
      +"line": 128
      +"function": "Illuminate\Routing\{closure}"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    8 => {#3499
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework​‌​
/src/Illuminate/Pipeline/Pipeline.php"
      +"line": 103
      +"function": "Illuminate\Pipeline\{closure}"
      +"class": "Illuminate\Pipeline\Pipeline"
      +"type": "->"
    }
    9 => {#3203
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework​‌​
/src/Illuminate/Routing/Router.php"
      +"line": 697
      +"function": "then"
      +"class": "Illuminate\Pipeline\Pipeline"
      +"type": "->"
    }
    10 => {#2825
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework​‌​
/src/Illuminate/Routing/Router.php"
      +"line": 672
      +"function": "runRouteWithinStack"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    11 => {#3207
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework​‌​
/src/Illuminate/Routing/Router.php"
      +"line": 636
      +"function": "runRoute"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    12 => {#3500
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework​‌​
/src/Illuminate/Routing/Router.php"
      +"line": 625
      +"function": "dispatchToRoute"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    13 => {#3501
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework​‌​
/src/Illuminate/Foundation/Http/Kernel.php"
      +"line": 167
      +"function": "dispatch"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    14 => {#3502
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework​‌​
/src/Illuminate/Pipeline/Pipeline.php"
      +"line": 128
      +"function": "Illuminate\Foundation\Http\{closure}"
      +"class": "Illuminate\Foundation\Http\Kernel"
      +"type": "->"
    }
    15 => {#3503
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework​‌​
/src/Illuminate/Pipeline/Pipeline.php"
      +"line": 103
      +"function": "Illuminate\Pipeline\{closure}"
      +"class": "Illuminate\Pipeline\Pipeline"
      +"type": "->"
    }
    16 => {#3504
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework​‌​
/src/Illuminate/Foundation/Http/Kernel.php"
      +"line": 142
      +"function": "then"
      +"class": "Illuminate\Pipeline\Pipeline"
      +"type": "->"
    }
    17 => {#3505
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework​‌​
/src/Illuminate/Foundation/Http/Kernel.php"
      +"line": 111
      +"function": "sendRequestThroughRouter"
      +"class": "Illuminate\Foundation\Http\Kernel"
      +"type": "->"
    }
    18 => {#3506
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework​‌​
/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php"
      +"line": 510
      +"function": "handle"
      +"class": "Illuminate\Foundation\Http\Kernel"
      +"type": "->"
    }
    19 => {#3507
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework​‌​
/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php"
      +"line": 476
      +"function": "call"
      +"class": "Illuminate\Foundation\Testing\TestCase"
      +"type": "->"
    }
    20 => {#3508
      +"file": "/Users/lionelfrancis/development/backend/CareScore/tests/Feature/ComplaintT​‌​
est.php"
      +"line": 64
      +"function": "json"
      +"class": "Illuminate\Foundation\Testing\TestCase"
      +"type": "->"
    }
    21 => {#3509
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/s​‌​
rc/Framework/TestCase.php"
      +"line": 1527
      +"function": "test_create_complaint"
      +"class": "Tests\Feature\ComplaintTest"
      +"type": "->"
    }
    22 => {#3510
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/s​‌​
rc/Framework/TestCase.php"
      +"line": 1133
      +"function": "runTest"
      +"class": "PHPUnit\Framework\TestCase"
      +"type": "->"
    }
    23 => {#3511
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/s​‌​
rc/Framework/TestResult.php"
      +"line": 722
      +"function": "runBare"
      +"class": "PHPUnit\Framework\TestCase"
      +"type": "->"
    }
    24 => {#3512
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/s​‌​
rc/Framework/TestCase.php"
      +"line": 885
      +"function": "run"
      +"class": "PHPUnit\Framework\TestResult"
      +"type": "->"
    }
    25 => {#3513
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/s​‌​
rc/Framework/TestSuite.php"
      +"line": 678
      +"function": "run"
      +"class": "PHPUnit\Framework\TestCase"
      +"type": "->"
    }
    26 => {#3514
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/s​‌​
rc/Framework/TestSuite.php"
      +"line": 678
      +"function": "run"
      +"class": "PHPUnit\Framework\TestSuite"
      +"type": "->"
    }
    27 => {#3515
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/s​‌​
rc/Framework/TestSuite.php"
      +"line": 678
      +"function": "run"
      +"class": "PHPUnit\Framework\TestSuite"
      +"type": "->"
    }
    28 => {#3516
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/s​‌​
rc/TextUI/TestRunner.php"
      +"line": 670
      +"function": "run"
      +"class": "PHPUnit\Framework\TestSuite"
      +"type": "->"
    }
    29 => {#3517
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/s​‌​
rc/TextUI/Command.php"
      +"line": 143
      +"function": "run"
      +"class": "PHPUnit\TextUI\TestRunner"
      +"type": "->"
    }
    30 => {#3518
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/s​‌​
rc/TextUI/Command.php"
      +"line": 96
      +"function": "run"
      +"class": "PHPUnit\TextUI\Command"
      +"type": "->"
    }
    31 => {#3519
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/p​‌​
hpunit"
      +"line": 92
      +"function": "main"
      +"class": "PHPUnit\TextUI\Command"
      +"type": "::"
    }
  ]
}

   FAIL  Tests\Feature\ComplaintTest
  ✓ store complaint category
  ✓ list complaint category
  ✓ store complaint category type
  ✓ get category type by category
  ✓ get all complaint category type
  ⨯ create complaint

  ---

  • Tests\Feature\ComplaintTest > create complaint
   PHPUnit\Framework\InvalidArgumentException 

  Argument #1 of PHPUnit\Framework\Assert::assertArrayHasKey() must be an integer or string

  at vendor/phpunit/phpunit/src/Framework/Exception/InvalidArgumentException.php:26
     22▕     public static function create(int $argument, string $type): self
     23▕     {
     24▕         $stack = debug_backtrace();
     25▕ 
  ➜  26▕         return new self(
     27▕             sprintf(
     28▕                 'Argument #%d of %s::%s() must be %s %s',
     29▕                 $argument,
     30▕                 $stack[1]['class'],

  1   vendor/phpunit/phpunit/src/Framework/Assert.php:113
      PHPUnit\Framework\InvalidArgumentException::create("integer or string")

  2   vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:256
      PHPUnit\Framework\Assert::assertArrayHasKey(["Undefined variable: compliant", "ErrorE​‌​
xception", "/Users/lionelfrancis/development/backend/CareScore/app/Services/Complaint/Compl​‌​
aintService.php"])

  3   vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:795
      Illuminate\Testing\AssertableJsonString::assertStructure([])

  4   tests/Feature/ComplaintTest.php:80
      Illuminate\Testing\TestResponse::assertJsonStructure([])

  5   vendor/phpunit/phpunit/src/Framework/TestCase.php:1527
      Tests\Feature\ComplaintTest::test_create_complaint()

  6   vendor/phpunit/phpunit/src/Framework/TestCase.php:1133
      PHPUnit\Framework\TestCase::runTest()

  7   vendor/phpunit/phpunit/src/Framework/TestResult.php:722
      PHPUnit\Framework\TestCase::runBare()

  8   vendor/phpunit/phpunit/src/Framework/TestCase.php:885
      PHPUnit\Framework\TestResult::run(Object(Tests\Feature\ComplaintTest))

  9   vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestCase::run(Object(PHPUnit\Framework\TestResult))

  10  vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  11  vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  12  vendor/phpunit/phpunit/src/TextUI/TestRunner.php:670
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  13  vendor/phpunit/phpunit/src/TextUI/Command.php:143
      PHPUnit\TextUI\TestRunner::run(Object(PHPUnit\Framework\TestSuite), [])

  14  vendor/phpunit/phpunit/src/TextUI/Command.php:96
      PHPUnit\TextUI\Command::run()

  15  vendor/phpunit/phpunit/phpunit:92
      PHPUnit\TextUI\Command::main()


  Tests:  1 failed, 5 passed
  Time:   1.91s

➜  CareScore git:(master) ✗ clear                                                          
➜  CareScore git:(master) ✗ php artisan test --env=testing  --verbose                      
{#3418                                                                                     
  +"message": "Class 'App\Models\ClientCompliant' not found"
  +"exception": "Error"
  +"file": "/Users/lionelfrancis/development/backend/CareScore/app/Services/Complaint/Compl​‌​
aintService.php"                                                  
  +"line": 75
  +"trace": array:32 [                  
    0 => {#3425                                               
      +"file": "/Users/lionelfrancis/development/backend/CareScore/app/Services/Complaint/C​‌​
omplaintService.php"                                        
      +"line": 59                                         
      +"function": "addClientToCompliant"
      +"class": "App\Services\Complaint\ComplaintService"   
      +"type": "->"                        
    }
    1 => {#3422                                              
      +"file": "/Users/lionelfrancis/development/backend/CareScore/app/Http/Controllers/Api​‌​
/ComplaintController.php"
      +"line": 45                                          
      +"function": "store"                                                  
      +"class": "App\Services\Complaint\ComplaintService"
      +"type": "->"                                         
    }                                                                      
    2 => {#3423
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework​‌​
/src/Illuminate/Routing/Controller.php"                                     
      +"line": 54
      +"function": "store"                                  
      +"class": "App\Http\Controllers\Api\ComplaintController"              
      +"type": "->"
    }                                                     
    3 => {#3424                                                             
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework​‌​
/src/Illuminate/Routing/ControllerDispatcher.php"      
      +"line": 45                                                            
      +"function": "callAction"
      +"class": "Illuminate\Routing\Controller"       
      +"type": "->"                
    }
    4 => {#3420                        
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework​‌​
/src/Illuminate/Routing/Route.php"
      +"line": 262
      +"function": "dispatch"
      +"class": "Illuminate\Routing\ControllerDispatcher"
      +"type": "->"
    }                                                                                      
    5 => {#3419
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework​‌​
/src/Illuminate/Routing/Route.php"
      +"line": 205
      +"function": "runController"
      +"class": "Illuminate\Routing\Route"
      +"type": "->"
    }
    6 => {#3421
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework​‌​
/src/Illuminate/Routing/Router.php"
      +"line": 695
      +"function": "run"
      +"class": "Illuminate\Routing\Route"
      +"type": "->"
    }
    7 => {#3467
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework​‌​
/src/Illuminate/Pipeline/Pipeline.php"
      +"line": 128
      +"function": "Illuminate\Routing\{closure}"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    8 => {#3498
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework​‌​
/src/Illuminate/Pipeline/Pipeline.php"
      +"line": 103
      +"function": "Illuminate\Pipeline\{closure}"
      +"class": "Illuminate\Pipeline\Pipeline"
      +"type": "->"
    }
    9 => {#3203
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework​‌​
/src/Illuminate/Routing/Router.php"
      +"line": 697
      +"function": "then"
      +"class": "Illuminate\Pipeline\Pipeline"
      +"type": "->"
    }
    10 => {#2825
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework​‌​
/src/Illuminate/Routing/Router.php"
      +"line": 672
      +"function": "runRouteWithinStack"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    11 => {#3207
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework​‌​
/src/Illuminate/Routing/Router.php"
      +"line": 636
      +"function": "runRoute"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    12 => {#3499
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework​‌​
/src/Illuminate/Routing/Router.php"
      +"line": 625
      +"function": "dispatchToRoute"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    13 => {#3500
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework​‌​
/src/Illuminate/Foundation/Http/Kernel.php"
      +"line": 167
      +"function": "dispatch"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    14 => {#3501
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework​‌​
/src/Illuminate/Pipeline/Pipeline.php"
      +"line": 128
      +"function": "Illuminate\Foundation\Http\{closure}"
      +"class": "Illuminate\Foundation\Http\Kernel"
      +"type": "->"
    }
    15 => {#3502
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework​‌​
/src/Illuminate/Pipeline/Pipeline.php"
      +"line": 103
      +"function": "Illuminate\Pipeline\{closure}"
      +"class": "Illuminate\Pipeline\Pipeline"
      +"type": "->"
    }
    16 => {#3503
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework​‌​
/src/Illuminate/Foundation/Http/Kernel.php"
      +"line": 142
      +"function": "then"
      +"class": "Illuminate\Pipeline\Pipeline"
      +"type": "->"
    }
    17 => {#3504
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework​‌​
/src/Illuminate/Foundation/Http/Kernel.php"
      +"line": 111
      +"function": "sendRequestThroughRouter"
      +"class": "Illuminate\Foundation\Http\Kernel"
      +"type": "->"
    }
    18 => {#3505
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework​‌​
/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php"
      +"line": 510
      +"function": "handle"
      +"class": "Illuminate\Foundation\Http\Kernel"
      +"type": "->"
    }
    19 => {#3506
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework​‌​
/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php"
      +"line": 476
      +"function": "call"
      +"class": "Illuminate\Foundation\Testing\TestCase"
      +"type": "->"
    }
    20 => {#3507
      +"file": "/Users/lionelfrancis/development/backend/CareScore/tests/Feature/ComplaintT​‌​
est.php"
      +"line": 64
      +"function": "json"
      +"class": "Illuminate\Foundation\Testing\TestCase"
      +"type": "->"
    }
    21 => {#3508
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/s​‌​
rc/Framework/TestCase.php"
      +"line": 1527
      +"function": "test_create_complaint"
      +"class": "Tests\Feature\ComplaintTest"
      +"type": "->"
    }
    22 => {#3509
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/s​‌​
rc/Framework/TestCase.php"
      +"line": 1133
      +"function": "runTest"
      +"class": "PHPUnit\Framework\TestCase"
      +"type": "->"
    }
    23 => {#3510
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/s​‌​
rc/Framework/TestResult.php"
      +"line": 722
      +"function": "runBare"
      +"class": "PHPUnit\Framework\TestCase"
      +"type": "->"
    }
    24 => {#3511
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/s​‌​
rc/Framework/TestCase.php"
      +"line": 885
      +"function": "run"
      +"class": "PHPUnit\Framework\TestResult"
      +"type": "->"
    }
    25 => {#3512
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/s​‌​
rc/Framework/TestSuite.php"
      +"line": 678
      +"function": "run"
      +"class": "PHPUnit\Framework\TestCase"
      +"type": "->"
    }
    26 => {#3513
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/s​‌​
rc/Framework/TestSuite.php"
      +"line": 678
      +"function": "run"
      +"class": "PHPUnit\Framework\TestSuite"
      +"type": "->"
    }
    27 => {#3514
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/s​‌​
rc/Framework/TestSuite.php"
      +"line": 678
      +"function": "run"
      +"class": "PHPUnit\Framework\TestSuite"
      +"type": "->"
    }
    28 => {#3515
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/s​‌​
rc/TextUI/TestRunner.php"
      +"line": 670
      +"function": "run"
      +"class": "PHPUnit\Framework\TestSuite"
      +"type": "->"
    }
    29 => {#3516
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/s​‌​
rc/TextUI/Command.php"
      +"line": 143
      +"function": "run"
      +"class": "PHPUnit\TextUI\TestRunner"
      +"type": "->"
    }
    30 => {#3517
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/s​‌​
rc/TextUI/Command.php"
      +"line": 96
      +"function": "run"
      +"class": "PHPUnit\TextUI\Command"
      +"type": "->"
    }
    31 => {#3518
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/p​‌​
hpunit"
      +"line": 92
      +"function": "main"
      +"class": "PHPUnit\TextUI\Command"
      +"type": "::"
    }
  ]
}

   FAIL  Tests\Feature\ComplaintTest
  ✓ store complaint category
  ✓ list complaint category
  ✓ store complaint category type
  ✓ get category type by category
  ✓ get all complaint category type
  ⨯ create complaint

  ---

  • Tests\Feature\ComplaintTest > create complaint
   PHPUnit\Framework\InvalidArgumentException 

  Argument #1 of PHPUnit\Framework\Assert::assertArrayHasKey() must be an integer or string

  at vendor/phpunit/phpunit/src/Framework/Exception/InvalidArgumentException.php:26
     22▕     public static function create(int $argument, string $type): self
     23▕     {
     24▕         $stack = debug_backtrace();
     25▕ 
  ➜  26▕         return new self(
     27▕             sprintf(
     28▕                 'Argument #%d of %s::%s() must be %s %s',
     29▕                 $argument,
     30▕                 $stack[1]['class'],

  1   vendor/phpunit/phpunit/src/Framework/Assert.php:113
      PHPUnit\Framework\InvalidArgumentException::create("integer or string")

  2   vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:256
      PHPUnit\Framework\Assert::assertArrayHasKey(["Class 'App\Models\ClientCompliant' not 
found", "Error", "/Users/lionelfrancis/development/backend/CareScore/app/Services/Complaint
/ComplaintService.php"])

  3   vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:795
      Illuminate\Testing\AssertableJsonString::assertStructure([])

  4   tests/Feature/ComplaintTest.php:80
      Illuminate\Testing\TestResponse::assertJsonStructure([])

  5   vendor/phpunit/phpunit/src/Framework/TestCase.php:1527
      Tests\Feature\ComplaintTest::test_create_complaint()

  6   vendor/phpunit/phpunit/src/Framework/TestCase.php:1133
      PHPUnit\Framework\TestCase::runTest()

  7   vendor/phpunit/phpunit/src/Framework/TestResult.php:722
      PHPUnit\Framework\TestCase::runBare()

  8   vendor/phpunit/phpunit/src/Framework/TestCase.php:885
      PHPUnit\Framework\TestResult::run(Object(Tests\Feature\ComplaintTest))

  9   vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestCase::run(Object(PHPUnit\Framework\TestResult))

  10  vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  11  vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  12  vendor/phpunit/phpunit/src/TextUI/TestRunner.php:670
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  13  vendor/phpunit/phpunit/src/TextUI/Command.php:143
      PHPUnit\TextUI\TestRunner::run(Object(PHPUnit\Framework\TestSuite), [])

  14  vendor/phpunit/phpunit/src/TextUI/Command.php:96
      PHPUnit\TextUI\Command::run()

  15  vendor/phpunit/phpunit/phpunit:92
      PHPUnit\TextUI\Command::main()


  Tests:  1 failed, 5 passed
  Time:   1.89s

➜  CareScore git:(master) ✗ clear                                                                                     
➜  CareScore git:(master) ✗ php artisan test --env=testing  --verbose                                                 
{#3418                                                                                     
  +"message": "Trying to get property 'client_id' of non-object"
  +"exception": "ErrorException"
  +"file": "/Users/lionelfrancis/development/backend/CareScore/app/Services/Complaint/ComplaintService.php"
  +"line": 76                                                     
  +"trace": array:33 [
    0 => {#3425                         
      +"file": "/Users/lionelfrancis/development/backend/CareScore/app/Services/Complaint/ComplaintService.php"
      +"line": 76
      +"function": "handleError"                            
      +"class": "Illuminate\Foundation\Bootstrap\HandleExceptions"
      +"type": "->"
    }                                                       
    1 => {#3422                            
      +"file": "/Users/lionelfrancis/development/backend/CareScore/app/Services/Complaint/ComplaintService.php"
      +"line": 59                                            
      +"function": "addClientToCompliant"  
      +"class": "App\Services\Complaint\ComplaintService"
      +"type": "->"                                        
    }                                                                       
    2 => {#3423
      +"file": "/Users/lionelfrancis/development/backend/CareScore/app/Http/Controllers/Api/ComplaintController.php"
      +"line": 45                                                          
      +"function": "store"
      +"class": "App\Services\Complaint\ComplaintService"   
      +"type": "->"                                                         
    }
    3 => {#3424                                             
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routing/Con​‌​
troller.php"
      +"line": 54                                         
      +"function": "store"                                                  
      +"class": "App\Http\Controllers\Api\ComplaintController"
      +"type": "->"                                    
    }                                                                        
    4 => {#3420
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routing/Con​‌​
trollerDispatcher.php"             
      +"line": 45
      +"function": "callAction"        
      +"class": "Illuminate\Routing\Controller"
      +"type": "->"
    }
    5 => {#3419             
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routing/Rou​‌​
te.php"
      +"line": 262                                                                                                    
      +"function": "dispatch"
      +"class": "Illuminate\Routing\ControllerDispatcher"
      +"type": "->"
    }
    6 => {#3421
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routing/Rou​‌​
te.php"
      +"line": 205
      +"function": "runController"
      +"class": "Illuminate\Routing\Route"
      +"type": "->"
    }
    7 => {#3461
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routing/Rou​‌​
ter.php"
      +"line": 695
      +"function": "run"
      +"class": "Illuminate\Routing\Route"
      +"type": "->"
    }
    8 => {#3499
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Pipeline/Pi​‌​
peline.php"
      +"line": 128
      +"function": "Illuminate\Routing\{closure}"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    9 => {#3203
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Pipeline/Pi​‌​
peline.php"
      +"line": 103
      +"function": "Illuminate\Pipeline\{closure}"
      +"class": "Illuminate\Pipeline\Pipeline"
      +"type": "->"
    }
    10 => {#2825
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routing/Rou​‌​
ter.php"
      +"line": 697
      +"function": "then"
      +"class": "Illuminate\Pipeline\Pipeline"
      +"type": "->"
    }
    11 => {#3207
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routing/Rou​‌​
ter.php"
      +"line": 672
      +"function": "runRouteWithinStack"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    12 => {#3500
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routing/Rou​‌​
ter.php"
      +"line": 636
      +"function": "runRoute"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    13 => {#3501
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routing/Rou​‌​
ter.php"
      +"line": 625
      +"function": "dispatchToRoute"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    14 => {#3502
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Foundation/​‌​
Http/Kernel.php"
      +"line": 167
      +"function": "dispatch"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    15 => {#3503
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Pipeline/Pi​‌​
peline.php"
      +"line": 128
      +"function": "Illuminate\Foundation\Http\{closure}"
      +"class": "Illuminate\Foundation\Http\Kernel"
      +"type": "->"
    }
    16 => {#3504
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Pipeline/Pi​‌​
peline.php"
      +"line": 103
      +"function": "Illuminate\Pipeline\{closure}"
      +"class": "Illuminate\Pipeline\Pipeline"
      +"type": "->"
    }
    17 => {#3505
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Foundation/​‌​
Http/Kernel.php"
      +"line": 142
      +"function": "then"
      +"class": "Illuminate\Pipeline\Pipeline"
      +"type": "->"
    }
    18 => {#3506
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Foundation/​‌​
Http/Kernel.php"
      +"line": 111
      +"function": "sendRequestThroughRouter"
      +"class": "Illuminate\Foundation\Http\Kernel"
      +"type": "->"
    }
    19 => {#3507
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Foundation/​‌​
Testing/Concerns/MakesHttpRequests.php"
      +"line": 510
      +"function": "handle"
      +"class": "Illuminate\Foundation\Http\Kernel"
      +"type": "->"
    }
    20 => {#3508
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Foundation/​‌​
Testing/Concerns/MakesHttpRequests.php"
      +"line": 476
      +"function": "call"
      +"class": "Illuminate\Foundation\Testing\TestCase"
      +"type": "->"
    }
    21 => {#3509
      +"file": "/Users/lionelfrancis/development/backend/CareScore/tests/Feature/ComplaintTest.php"
      +"line": 64
      +"function": "json"
      +"class": "Illuminate\Foundation\Testing\TestCase"
      +"type": "->"
    }
    22 => {#3510
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestCase.php"
      +"line": 1527
      +"function": "test_create_complaint"
      +"class": "Tests\Feature\ComplaintTest"
      +"type": "->"
    }
    23 => {#3511
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestCase.php"
      +"line": 1133
      +"function": "runTest"
      +"class": "PHPUnit\Framework\TestCase"
      +"type": "->"
    }
    24 => {#3512
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestResult.php​‌​
"
      +"line": 722
      +"function": "runBare"
      +"class": "PHPUnit\Framework\TestCase"
      +"type": "->"
    }
    25 => {#3513
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestCase.php"
      +"line": 885
      +"function": "run"
      +"class": "PHPUnit\Framework\TestResult"
      +"type": "->"
    }
    26 => {#3514
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestSuite.php"
      +"line": 678
      +"function": "run"
      +"class": "PHPUnit\Framework\TestCase"
      +"type": "->"
    }
    27 => {#3515
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestSuite.php"
      +"line": 678
      +"function": "run"
      +"class": "PHPUnit\Framework\TestSuite"
      +"type": "->"
    }
    28 => {#3516
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestSuite.php"
      +"line": 678
      +"function": "run"
      +"class": "PHPUnit\Framework\TestSuite"
      +"type": "->"
    }
    29 => {#3517
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/TextUI/TestRunner.php"
      +"line": 670
      +"function": "run"
      +"class": "PHPUnit\Framework\TestSuite"
      +"type": "->"
    }
    30 => {#3518
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/TextUI/Command.php"
      +"line": 143
      +"function": "run"
      +"class": "PHPUnit\TextUI\TestRunner"
      +"type": "->"
    }
    31 => {#3519
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/TextUI/Command.php"
      +"line": 96
      +"function": "run"
      +"class": "PHPUnit\TextUI\Command"
      +"type": "->"
    }
    32 => {#3520
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/phpunit"
      +"line": 92
      +"function": "main"
      +"class": "PHPUnit\TextUI\Command"
      +"type": "::"
    }
  ]
}

   FAIL  Tests\Feature\ComplaintTest
  ✓ store complaint category
  ✓ list complaint category
  ✓ store complaint category type
  ✓ get category type by category
  ✓ get all complaint category type
  ⨯ create complaint

  ---

  • Tests\Feature\ComplaintTest > create complaint
   PHPUnit\Framework\InvalidArgumentException 

  Argument #1 of PHPUnit\Framework\Assert::assertArrayHasKey() must be an integer or string

  at vendor/phpunit/phpunit/src/Framework/Exception/InvalidArgumentException.php:26
     22▕     public static function create(int $argument, string $type): self
     23▕     {
     24▕         $stack = debug_backtrace();
     25▕ 
  ➜  26▕         return new self(
     27▕             sprintf(
     28▕                 'Argument #%d of %s::%s() must be %s %s',
     29▕                 $argument,
     30▕                 $stack[1]['class'],

  1   vendor/phpunit/phpunit/src/Framework/Assert.php:113
      PHPUnit\Framework\InvalidArgumentException::create("integer or string")

  2   vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:256
      PHPUnit\Framework\Assert::assertArrayHasKey(["Trying to get property 'client_id' of non-object", "ErrorException​‌​
", "/Users/lionelfrancis/development/backend/CareScore/app/Services/Complaint/ComplaintService.php"])

  3   vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:795
      Illuminate\Testing\AssertableJsonString::assertStructure([])

  4   tests/Feature/ComplaintTest.php:80
      Illuminate\Testing\TestResponse::assertJsonStructure([])

  5   vendor/phpunit/phpunit/src/Framework/TestCase.php:1527
      Tests\Feature\ComplaintTest::test_create_complaint()

  6   vendor/phpunit/phpunit/src/Framework/TestCase.php:1133
      PHPUnit\Framework\TestCase::runTest()

  7   vendor/phpunit/phpunit/src/Framework/TestResult.php:722
      PHPUnit\Framework\TestCase::runBare()

  8   vendor/phpunit/phpunit/src/Framework/TestCase.php:885
      PHPUnit\Framework\TestResult::run(Object(Tests\Feature\ComplaintTest))

  9   vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestCase::run(Object(PHPUnit\Framework\TestResult))

  10  vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  11  vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  12  vendor/phpunit/phpunit/src/TextUI/TestRunner.php:670
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  13  vendor/phpunit/phpunit/src/TextUI/Command.php:143
      PHPUnit\TextUI\TestRunner::run(Object(PHPUnit\Framework\TestSuite), [])

  14  vendor/phpunit/phpunit/src/TextUI/Command.php:96
      PHPUnit\TextUI\Command::run()

  15  vendor/phpunit/phpunit/phpunit:92
      PHPUnit\TextUI\Command::main()


  Tests:  1 failed, 5 passed
  Time:   1.63s

➜  CareScore git:(master) ✗ php artisan test --env=testing  --verbose                                                 
{#3418
  +"message": "Creating default object from empty value"
  +"exception": "ErrorException"
  +"file": "/Users/lionelfrancis/development/backend/CareScore/app/Services/Complaint/ComplaintService.php"
  +"line": 77
  +"trace": array:33 [
    0 => {#3425
      +"file": "/Users/lionelfrancis/development/backend/CareScore/app/Services/Complaint/ComplaintService.php"
      +"line": 77
      +"function": "handleError"
      +"class": "Illuminate\Foundation\Bootstrap\HandleExceptions"
      +"type": "->"
    }
    1 => {#3422
      +"file": "/Users/lionelfrancis/development/backend/CareScore/app/Services/Complaint/ComplaintService.php"
      +"line": 59
      +"function": "addClientToCompliant"
      +"class": "App\Services\Complaint\ComplaintService"
      +"type": "->"
    }
    2 => {#3423
      +"file": "/Users/lionelfrancis/development/backend/CareScore/app/Http/Controllers/Api/ComplaintController.php"
      +"line": 45
      +"function": "store"
      +"class": "App\Services\Complaint\ComplaintService"
      +"type": "->"
    }
    3 => {#3424
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routing/Con​‌​
troller.php"
      +"line": 54
      +"function": "store"
      +"class": "App\Http\Controllers\Api\ComplaintController"
      +"type": "->"
    }
    4 => {#3420
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routing/Con​‌​
trollerDispatcher.php"
      +"line": 45
      +"function": "callAction"
      +"class": "Illuminate\Routing\Controller"
      +"type": "->"
    }
    5 => {#3419
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routing/Rou​‌​
te.php"
      +"line": 262
      +"function": "dispatch"
      +"class": "Illuminate\Routing\ControllerDispatcher"
      +"type": "->"
    }
    6 => {#3421
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routing/Rou​‌​
te.php"
      +"line": 205
      +"function": "runController"
      +"class": "Illuminate\Routing\Route"
      +"type": "->"
    }
    7 => {#3464
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routing/Rou​‌​
ter.php"
      +"line": 695
      +"function": "run"
      +"class": "Illuminate\Routing\Route"
      +"type": "->"
    }
    8 => {#3500
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Pipeline/Pi​‌​
peline.php"
      +"line": 128
      +"function": "Illuminate\Routing\{closure}"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    9 => {#3203
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Pipeline/Pi​‌​
peline.php"
      +"line": 103
      +"function": "Illuminate\Pipeline\{closure}"
      +"class": "Illuminate\Pipeline\Pipeline"
      +"type": "->"
    }
    10 => {#2825
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routing/Rou​‌​
ter.php"
      +"line": 697
      +"function": "then"
      +"class": "Illuminate\Pipeline\Pipeline"
      +"type": "->"
    }
    11 => {#3207
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routing/Rou​‌​
ter.php"
      +"line": 672
      +"function": "runRouteWithinStack"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    12 => {#3501
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routing/Rou​‌​
ter.php"
      +"line": 636
      +"function": "runRoute"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    13 => {#3502
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routing/Rou​‌​
ter.php"
      +"line": 625
      +"function": "dispatchToRoute"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    14 => {#3503
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Foundation/​‌​
Http/Kernel.php"
      +"line": 167
      +"function": "dispatch"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    15 => {#3504
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Pipeline/Pi​‌​
peline.php"
      +"line": 128
      +"function": "Illuminate\Foundation\Http\{closure}"
      +"class": "Illuminate\Foundation\Http\Kernel"
      +"type": "->"
    }
    16 => {#3505
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Pipeline/Pi​‌​
peline.php"
      +"line": 103
      +"function": "Illuminate\Pipeline\{closure}"
      +"class": "Illuminate\Pipeline\Pipeline"
      +"type": "->"
    }
    17 => {#3506
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Foundation/​‌​
Http/Kernel.php"
      +"line": 142
      +"function": "then"
      +"class": "Illuminate\Pipeline\Pipeline"
      +"type": "->"
    }
    18 => {#3507
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Foundation/​‌​
Http/Kernel.php"
      +"line": 111
      +"function": "sendRequestThroughRouter"
      +"class": "Illuminate\Foundation\Http\Kernel"
      +"type": "->"
    }
    19 => {#3508
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Foundation/​‌​
Testing/Concerns/MakesHttpRequests.php"
      +"line": 510
      +"function": "handle"
      +"class": "Illuminate\Foundation\Http\Kernel"
      +"type": "->"
    }
    20 => {#3509
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Foundation/​‌​
Testing/Concerns/MakesHttpRequests.php"
      +"line": 476
      +"function": "call"
      +"class": "Illuminate\Foundation\Testing\TestCase"
      +"type": "->"
    }
    21 => {#3510
      +"file": "/Users/lionelfrancis/development/backend/CareScore/tests/Feature/ComplaintTest.php"
      +"line": 64
      +"function": "json"
      +"class": "Illuminate\Foundation\Testing\TestCase"
      +"type": "->"
    }
    22 => {#3511
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestCase.php"
      +"line": 1527
      +"function": "test_create_complaint"
      +"class": "Tests\Feature\ComplaintTest"
      +"type": "->"
    }
    23 => {#3512
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestCase.php"
      +"line": 1133
      +"function": "runTest"
      +"class": "PHPUnit\Framework\TestCase"
      +"type": "->"
    }
    24 => {#3513
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestResult.php​‌​
"
      +"line": 722
      +"function": "runBare"
      +"class": "PHPUnit\Framework\TestCase"
      +"type": "->"
    }
    25 => {#3514
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestCase.php"
      +"line": 885
      +"function": "run"
      +"class": "PHPUnit\Framework\TestResult"
      +"type": "->"
    }
    26 => {#3515
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestSuite.php"
      +"line": 678
      +"function": "run"
      +"class": "PHPUnit\Framework\TestCase"
      +"type": "->"
    }
    27 => {#3516
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestSuite.php"
      +"line": 678
      +"function": "run"
      +"class": "PHPUnit\Framework\TestSuite"
      +"type": "->"
    }
    28 => {#3517
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestSuite.php"
      +"line": 678
      +"function": "run"
      +"class": "PHPUnit\Framework\TestSuite"
      +"type": "->"
    }
    29 => {#3518
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/TextUI/TestRunner.php"
      +"line": 670
      +"function": "run"
      +"class": "PHPUnit\Framework\TestSuite"
      +"type": "->"
    }
    30 => {#3519
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/TextUI/Command.php"
      +"line": 143
      +"function": "run"
      +"class": "PHPUnit\TextUI\TestRunner"
      +"type": "->"
    }
    31 => {#3520
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/TextUI/Command.php"
      +"line": 96
      +"function": "run"
      +"class": "PHPUnit\TextUI\Command"
      +"type": "->"
    }
    32 => {#3521
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/phpunit"
      +"line": 92
      +"function": "main"
      +"class": "PHPUnit\TextUI\Command"
      +"type": "::"
    }
  ]
}

   FAIL  Tests\Feature\ComplaintTest
  ✓ store complaint category
  ✓ list complaint category
  ✓ store complaint category type
  ✓ get category type by category
  ✓ get all complaint category type
  ⨯ create complaint

  ---

  • Tests\Feature\ComplaintTest > create complaint
   PHPUnit\Framework\InvalidArgumentException 

  Argument #1 of PHPUnit\Framework\Assert::assertArrayHasKey() must be an integer or string

  at vendor/phpunit/phpunit/src/Framework/Exception/InvalidArgumentException.php:26
     22▕     public static function create(int $argument, string $type): self
     23▕     {
     24▕         $stack = debug_backtrace();
     25▕ 
  ➜  26▕         return new self(
     27▕             sprintf(
     28▕                 'Argument #%d of %s::%s() must be %s %s',
     29▕                 $argument,
     30▕                 $stack[1]['class'],

  1   vendor/phpunit/phpunit/src/Framework/Assert.php:113
      PHPUnit\Framework\InvalidArgumentException::create("integer or string")

  2   vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:256
      PHPUnit\Framework\Assert::assertArrayHasKey(["Creating default object from empty value", "ErrorException", "/Use​‌​
rs/lionelfrancis/development/backend/CareScore/app/Services/Complaint/ComplaintService.php"])

  3   vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:795
      Illuminate\Testing\AssertableJsonString::assertStructure([])

  4   tests/Feature/ComplaintTest.php:80
      Illuminate\Testing\TestResponse::assertJsonStructure([])

  5   vendor/phpunit/phpunit/src/Framework/TestCase.php:1527
      Tests\Feature\ComplaintTest::test_create_complaint()

  6   vendor/phpunit/phpunit/src/Framework/TestCase.php:1133
      PHPUnit\Framework\TestCase::runTest()

  7   vendor/phpunit/phpunit/src/Framework/TestResult.php:722
      PHPUnit\Framework\TestCase::runBare()

  8   vendor/phpunit/phpunit/src/Framework/TestCase.php:885
      PHPUnit\Framework\TestResult::run(Object(Tests\Feature\ComplaintTest))

  9   vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestCase::run(Object(PHPUnit\Framework\TestResult))

  10  vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  11  vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  12  vendor/phpunit/phpunit/src/TextUI/TestRunner.php:670
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  13  vendor/phpunit/phpunit/src/TextUI/Command.php:143
      PHPUnit\TextUI\TestRunner::run(Object(PHPUnit\Framework\TestSuite), [])

  14  vendor/phpunit/phpunit/src/TextUI/Command.php:96
      PHPUnit\TextUI\Command::run()

  15  vendor/phpunit/phpunit/phpunit:92
      PHPUnit\TextUI\Command::main()


  Tests:  1 failed, 5 passed
  Time:   1.80s

➜  CareScore git:(master) ✗ php artisan test --env=testing  --verbose                                                 

{#3418
  +"message": "Creating default object from empty value"
  +"exception": "ErrorException"
  +"file": "/Users/lionelfrancis/development/backend/CareScore/app/Services/Complaint/ComplaintService.php"
  +"line": 77
  +"trace": array:33 [
    0 => {#3425
      +"file": "/Users/lionelfrancis/development/backend/CareScore/app/Services/Complaint/ComplaintService.php"
      +"line": 77
      +"function": "handleError"
      +"class": "Illuminate\Foundation\Bootstrap\HandleExceptions"
      +"type": "->"
    }
    1 => {#3422
      +"file": "/Users/lionelfrancis/development/backend/CareScore/app/Services/Complaint/ComplaintService.php"
      +"line": 59
      +"function": "addClientToCompliant"
      +"class": "App\Services\Complaint\ComplaintService"
      +"type": "->"
    }
    2 => {#3423
      +"file": "/Users/lionelfrancis/development/backend/CareScore/app/Http/Controllers/Api/ComplaintController.php"
      +"line": 45
      +"function": "store"
      +"class": "App\Services\Complaint\ComplaintService"
      +"type": "->"
    }
    3 => {#3424
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routing/Con​‌​
troller.php"
      +"line": 54
      +"function": "store"
      +"class": "App\Http\Controllers\Api\ComplaintController"
      +"type": "->"
    }
    4 => {#3420
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routing/Con​‌​
trollerDispatcher.php"
      +"line": 45
      +"function": "callAction"
      +"class": "Illuminate\Routing\Controller"
      +"type": "->"
    }
    5 => {#3419
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routing/Rou​‌​
te.php"
      +"line": 262
      +"function": "dispatch"
      +"class": "Illuminate\Routing\ControllerDispatcher"
      +"type": "->"
    }
    6 => {#3421
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routing/Rou​‌​
te.php"
      +"line": 205
      +"function": "runController"
      +"class": "Illuminate\Routing\Route"
      +"type": "->"
    }
    7 => {#3464
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routing/Rou​‌​
ter.php"
      +"line": 695
      +"function": "run"
      +"class": "Illuminate\Routing\Route"
      +"type": "->"
    }
    8 => {#3500
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Pipeline/Pi​‌​
peline.php"
      +"line": 128
      +"function": "Illuminate\Routing\{closure}"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    9 => {#3203
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Pipeline/Pi​‌​
peline.php"
      +"line": 103
      +"function": "Illuminate\Pipeline\{closure}"
      +"class": "Illuminate\Pipeline\Pipeline"
      +"type": "->"
    }
    10 => {#2825
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routing/Rou​‌​
ter.php"
      +"line": 697
      +"function": "then"
      +"class": "Illuminate\Pipeline\Pipeline"
      +"type": "->"
    }
    11 => {#3207
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routing/Rou​‌​
ter.php"
      +"line": 672
      +"function": "runRouteWithinStack"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    12 => {#3501
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routing/Rou​‌​
ter.php"
      +"line": 636
      +"function": "runRoute"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    13 => {#3502
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routing/Rou​‌​
ter.php"
      +"line": 625
      +"function": "dispatchToRoute"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    14 => {#3503
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Foundation/​‌​
Http/Kernel.php"
      +"line": 167
      +"function": "dispatch"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    15 => {#3504
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Pipeline/Pi​‌​
peline.php"
      +"line": 128
      +"function": "Illuminate\Foundation\Http\{closure}"
      +"class": "Illuminate\Foundation\Http\Kernel"
      +"type": "->"
    }
    16 => {#3505
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Pipeline/Pi​‌​
peline.php"
      +"line": 103
      +"function": "Illuminate\Pipeline\{closure}"
      +"class": "Illuminate\Pipeline\Pipeline"
      +"type": "->"
    }
    17 => {#3506
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Foundation/​‌​
Http/Kernel.php"
      +"line": 142
      +"function": "then"
      +"class": "Illuminate\Pipeline\Pipeline"
      +"type": "->"
    }
    18 => {#3507
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Foundation/​‌​
Http/Kernel.php"
      +"line": 111
      +"function": "sendRequestThroughRouter"
      +"class": "Illuminate\Foundation\Http\Kernel"
      +"type": "->"
    }
    19 => {#3508
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Foundation/​‌​
Testing/Concerns/MakesHttpRequests.php"
      +"line": 510
      +"function": "handle"
      +"class": "Illuminate\Foundation\Http\Kernel"
      +"type": "->"
    }
    20 => {#3509
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Foundation/​‌​
Testing/Concerns/MakesHttpRequests.php"
      +"line": 476
      +"function": "call"
      +"class": "Illuminate\Foundation\Testing\TestCase"
      +"type": "->"
    }
    21 => {#3510
      +"file": "/Users/lionelfrancis/development/backend/CareScore/tests/Feature/ComplaintTest.php"
      +"line": 64
      +"function": "json"
      +"class": "Illuminate\Foundation\Testing\TestCase"
      +"type": "->"
    }
    22 => {#3511
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestCase.php"
      +"line": 1527
      +"function": "test_create_complaint"
      +"class": "Tests\Feature\ComplaintTest"
      +"type": "->"
    }
    23 => {#3512
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestCase.php"
      +"line": 1133
      +"function": "runTest"
      +"class": "PHPUnit\Framework\TestCase"
      +"type": "->"
    }
    24 => {#3513
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestResult.php​‌​
"
      +"line": 722
      +"function": "runBare"
      +"class": "PHPUnit\Framework\TestCase"
      +"type": "->"
    }
    25 => {#3514
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestCase.php"
      +"line": 885
      +"function": "run"
      +"class": "PHPUnit\Framework\TestResult"
      +"type": "->"
    }
    26 => {#3515
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestSuite.php"
      +"line": 678
      +"function": "run"
      +"class": "PHPUnit\Framework\TestCase"
      +"type": "->"
    }
    27 => {#3516
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestSuite.php"
      +"line": 678
      +"function": "run"
      +"class": "PHPUnit\Framework\TestSuite"
      +"type": "->"
    }
    28 => {#3517
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestSuite.php"
      +"line": 678
      +"function": "run"
      +"class": "PHPUnit\Framework\TestSuite"
      +"type": "->"
    }
    29 => {#3518
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/TextUI/TestRunner.php"
      +"line": 670
      +"function": "run"
      +"class": "PHPUnit\Framework\TestSuite"
      +"type": "->"
    }
    30 => {#3519
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/TextUI/Command.php"
      +"line": 143
      +"function": "run"
      +"class": "PHPUnit\TextUI\TestRunner"
      +"type": "->"
    }
    31 => {#3520
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/TextUI/Command.php"
      +"line": 96
      +"function": "run"
      +"class": "PHPUnit\TextUI\Command"
      +"type": "->"
    }
    32 => {#3521
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/phpunit"
      +"line": 92
      +"function": "main"
      +"class": "PHPUnit\TextUI\Command"
      +"type": "::"
    }
  ]
}

   FAIL  Tests\Feature\ComplaintTest
  ✓ store complaint category
  ✓ list complaint category
  ✓ store complaint category type
  ✓ get category type by category
  ✓ get all complaint category type
  ⨯ create complaint

  ---

  • Tests\Feature\ComplaintTest > create complaint
   PHPUnit\Framework\InvalidArgumentException 

  Argument #1 of PHPUnit\Framework\Assert::assertArrayHasKey() must be an integer or string

  at vendor/phpunit/phpunit/src/Framework/Exception/InvalidArgumentException.php:26
     22▕     public static function create(int $argument, string $type): self
     23▕     {
     24▕         $stack = debug_backtrace();
     25▕ 
  ➜  26▕         return new self(
     27▕             sprintf(
     28▕                 'Argument #%d of %s::%s() must be %s %s',
     29▕                 $argument,
     30▕                 $stack[1]['class'],

  1   vendor/phpunit/phpunit/src/Framework/Assert.php:113
      PHPUnit\Framework\InvalidArgumentException::create("integer or string")

  2   vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:256
      PHPUnit\Framework\Assert::assertArrayHasKey(["Creating default object from empty value", "ErrorException", "/Use​‌​
rs/lionelfrancis/development/backend/CareScore/app/Services/Complaint/ComplaintService.php"])

  3   vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:795
      Illuminate\Testing\AssertableJsonString::assertStructure([])

  4   tests/Feature/ComplaintTest.php:80
      Illuminate\Testing\TestResponse::assertJsonStructure([])

  5   vendor/phpunit/phpunit/src/Framework/TestCase.php:1527
      Tests\Feature\ComplaintTest::test_create_complaint()

  6   vendor/phpunit/phpunit/src/Framework/TestCase.php:1133
      PHPUnit\Framework\TestCase::runTest()

  7   vendor/phpunit/phpunit/src/Framework/TestResult.php:722
      PHPUnit\Framework\TestCase::runBare()

  8   vendor/phpunit/phpunit/src/Framework/TestCase.php:885
      PHPUnit\Framework\TestResult::run(Object(Tests\Feature\ComplaintTest))

  9   vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestCase::run(Object(PHPUnit\Framework\TestResult))

  10  vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  11  vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  12  vendor/phpunit/phpunit/src/TextUI/TestRunner.php:670
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  13  vendor/phpunit/phpunit/src/TextUI/Command.php:143
      PHPUnit\TextUI\TestRunner::run(Object(PHPUnit\Framework\TestSuite), [])

  14  vendor/phpunit/phpunit/src/TextUI/Command.php:96
      PHPUnit\TextUI\Command::run()

  15  vendor/phpunit/phpunit/phpunit:92
      PHPUnit\TextUI\Command::main()


  Tests:  1 failed, 5 passed
  Time:   1.92s

➜  CareScore git:(master) ✗                                                                                           
➜  CareScore git:(master) ✗ php artisan test --env=testing  --verbose                                                 
{#3418
  +"message": "Creating default object from empty value"
  +"exception": "ErrorException"
  +"file": "/Users/lionelfrancis/development/backend/CareScore/app/Services/Complaint/ComplaintService.php"
  +"line": 77
  +"trace": array:33 [
    0 => {#3425
      +"file": "/Users/lionelfrancis/development/backend/CareScore/app/Services/Complaint/ComplaintService.php"
      +"line": 77
      +"function": "handleError"
      +"class": "Illuminate\Foundation\Bootstrap\HandleExceptions"
      +"type": "->"
    }
    1 => {#3422
      +"file": "/Users/lionelfrancis/development/backend/CareScore/app/Services/Complaint/ComplaintService.php"
      +"line": 59
      +"function": "addClientToCompliant"
      +"class": "App\Services\Complaint\ComplaintService"
      +"type": "->"
    }
    2 => {#3423
      +"file": "/Users/lionelfrancis/development/backend/CareScore/app/Http/Controllers/Api/ComplaintController.php"
      +"line": 45
      +"function": "store"
      +"class": "App\Services\Complaint\ComplaintService"
      +"type": "->"
    }
    3 => {#3424
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routing/Con​‌​
troller.php"
      +"line": 54
      +"function": "store"
      +"class": "App\Http\Controllers\Api\ComplaintController"
      +"type": "->"
    }
    4 => {#3420
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routing/Con​‌​
trollerDispatcher.php"
      +"line": 45
      +"function": "callAction"
      +"class": "Illuminate\Routing\Controller"
      +"type": "->"
    }
    5 => {#3419
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routing/Rou​‌​
te.php"
      +"line": 262
      +"function": "dispatch"
      +"class": "Illuminate\Routing\ControllerDispatcher"
      +"type": "->"
    }
    6 => {#3421
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routing/Rou​‌​
te.php"
      +"line": 205
      +"function": "runController"
      +"class": "Illuminate\Routing\Route"
      +"type": "->"
    }
    7 => {#3464
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routing/Rou​‌​
ter.php"
      +"line": 695
      +"function": "run"
      +"class": "Illuminate\Routing\Route"
      +"type": "->"
    }
    8 => {#3500
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Pipeline/Pi​‌​
peline.php"
      +"line": 128
      +"function": "Illuminate\Routing\{closure}"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    9 => {#3203
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Pipeline/Pi​‌​
peline.php"
      +"line": 103
      +"function": "Illuminate\Pipeline\{closure}"
      +"class": "Illuminate\Pipeline\Pipeline"
      +"type": "->"
    }
    10 => {#2825
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routing/Rou​‌​
ter.php"
      +"line": 697
      +"function": "then"
      +"class": "Illuminate\Pipeline\Pipeline"
      +"type": "->"
    }
    11 => {#3207
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routing/Rou​‌​
ter.php"
      +"line": 672
      +"function": "runRouteWithinStack"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    12 => {#3501
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routing/Rou​‌​
ter.php"
      +"line": 636
      +"function": "runRoute"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    13 => {#3502
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routing/Rou​‌​
ter.php"
      +"line": 625
      +"function": "dispatchToRoute"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    14 => {#3503
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Foundation/​‌​
Http/Kernel.php"
      +"line": 167
      +"function": "dispatch"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    15 => {#3504
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Pipeline/Pi​‌​
peline.php"
      +"line": 128
      +"function": "Illuminate\Foundation\Http\{closure}"
      +"class": "Illuminate\Foundation\Http\Kernel"
      +"type": "->"
    }
    16 => {#3505
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Pipeline/Pi​‌​
peline.php"
      +"line": 103
      +"function": "Illuminate\Pipeline\{closure}"
      +"class": "Illuminate\Pipeline\Pipeline"
      +"type": "->"
    }
    17 => {#3506
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Foundation/​‌​
Http/Kernel.php"
      +"line": 142
      +"function": "then"
      +"class": "Illuminate\Pipeline\Pipeline"
      +"type": "->"
    }
    18 => {#3507
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Foundation/​‌​
Http/Kernel.php"
      +"line": 111
      +"function": "sendRequestThroughRouter"
      +"class": "Illuminate\Foundation\Http\Kernel"
      +"type": "->"
    }
    19 => {#3508
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Foundation/​‌​
Testing/Concerns/MakesHttpRequests.php"
      +"line": 510
      +"function": "handle"
      +"class": "Illuminate\Foundation\Http\Kernel"
      +"type": "->"
    }
    20 => {#3509
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Foundation/​‌​
Testing/Concerns/MakesHttpRequests.php"
      +"line": 476
      +"function": "call"
      +"class": "Illuminate\Foundation\Testing\TestCase"
      +"type": "->"
    }
    21 => {#3510
      +"file": "/Users/lionelfrancis/development/backend/CareScore/tests/Feature/ComplaintTest.php"
      +"line": 64
      +"function": "json"
      +"class": "Illuminate\Foundation\Testing\TestCase"
      +"type": "->"
    }
    22 => {#3511
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestCase.php"
      +"line": 1527
      +"function": "test_create_complaint"
      +"class": "Tests\Feature\ComplaintTest"
      +"type": "->"
    }
    23 => {#3512
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestCase.php"
      +"line": 1133
      +"function": "runTest"
      +"class": "PHPUnit\Framework\TestCase"
      +"type": "->"
    }
    24 => {#3513
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestResult.php​‌​
"
      +"line": 722
      +"function": "runBare"
      +"class": "PHPUnit\Framework\TestCase"
      +"type": "->"
    }
    25 => {#3514
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestCase.php"
      +"line": 885
      +"function": "run"
      +"class": "PHPUnit\Framework\TestResult"
      +"type": "->"
    }
    26 => {#3515
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestSuite.php"
      +"line": 678
      +"function": "run"
      +"class": "PHPUnit\Framework\TestCase"
      +"type": "->"
    }
    27 => {#3516
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestSuite.php"
      +"line": 678
      +"function": "run"
      +"class": "PHPUnit\Framework\TestSuite"
      +"type": "->"
    }
    28 => {#3517
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestSuite.php"
      +"line": 678
      +"function": "run"
      +"class": "PHPUnit\Framework\TestSuite"
      +"type": "->"
    }
    29 => {#3518
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/TextUI/TestRunner.php"
      +"line": 670
      +"function": "run"
      +"class": "PHPUnit\Framework\TestSuite"
      +"type": "->"
    }
    30 => {#3519
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/TextUI/Command.php"
      +"line": 143
      +"function": "run"
      +"class": "PHPUnit\TextUI\TestRunner"
      +"type": "->"
    }
    31 => {#3520
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/TextUI/Command.php"
      +"line": 96
      +"function": "run"
      +"class": "PHPUnit\TextUI\Command"
      +"type": "->"
    }
    32 => {#3521
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/phpunit"
      +"line": 92
      +"function": "main"
      +"class": "PHPUnit\TextUI\Command"
      +"type": "::"
    }
  ]
}

   FAIL  Tests\Feature\ComplaintTest
  ✓ store complaint category
  ✓ list complaint category
  ✓ store complaint category type
  ✓ get category type by category
  ✓ get all complaint category type
  ⨯ create complaint

  ---

  • Tests\Feature\ComplaintTest > create complaint
   PHPUnit\Framework\InvalidArgumentException 

  Argument #1 of PHPUnit\Framework\Assert::assertArrayHasKey() must be an integer or string

  at vendor/phpunit/phpunit/src/Framework/Exception/InvalidArgumentException.php:26
     22▕     public static function create(int $argument, string $type): self
     23▕     {
     24▕         $stack = debug_backtrace();
     25▕ 
  ➜  26▕         return new self(
     27▕             sprintf(
     28▕                 'Argument #%d of %s::%s() must be %s %s',
     29▕                 $argument,
     30▕                 $stack[1]['class'],

  1   vendor/phpunit/phpunit/src/Framework/Assert.php:113
      PHPUnit\Framework\InvalidArgumentException::create("integer or string")

  2   vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:256
      PHPUnit\Framework\Assert::assertArrayHasKey(["Creating default object from empty value", "ErrorException", "/Use
rs/lionelfrancis/development/backend/CareScore/app/Services/Complaint/ComplaintService.php"])

  3   vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:795
      Illuminate\Testing\AssertableJsonString::assertStructure([])

  4   tests/Feature/ComplaintTest.php:80
      Illuminate\Testing\TestResponse::assertJsonStructure([])

  5   vendor/phpunit/phpunit/src/Framework/TestCase.php:1527
      Tests\Feature\ComplaintTest::test_create_complaint()

  6   vendor/phpunit/phpunit/src/Framework/TestCase.php:1133
      PHPUnit\Framework\TestCase::runTest()

  7   vendor/phpunit/phpunit/src/Framework/TestResult.php:722
      PHPUnit\Framework\TestCase::runBare()

  8   vendor/phpunit/phpunit/src/Framework/TestCase.php:885
      PHPUnit\Framework\TestResult::run(Object(Tests\Feature\ComplaintTest))

  9   vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestCase::run(Object(PHPUnit\Framework\TestResult))

  10  vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  11  vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  12  vendor/phpunit/phpunit/src/TextUI/TestRunner.php:670
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  13  vendor/phpunit/phpunit/src/TextUI/Command.php:143
      PHPUnit\TextUI\TestRunner::run(Object(PHPUnit\Framework\TestSuite), [])

  14  vendor/phpunit/phpunit/src/TextUI/Command.php:96
      PHPUnit\TextUI\Command::run()

  15  vendor/phpunit/phpunit/phpunit:92
      PHPUnit\TextUI\Command::main()


  Tests:  1 failed, 5 passed
  Time:   1.79s

➜  CareScore git:(master) ✗ clear                                                                                              
➜  CareScore git:(master) ✗ php artisan test --env=​‌​
testing  --verbose                                 
{#3418                                             
  +"message": "Creating default object from empty v​‌​
alue"                                              
  +"exception": "ErrorException"           
  +"file": "/Users/lionelfrancis/development/backen​‌​
d/CareScore/app/Services/Complaint/ComplaintService​‌​
.php"                                      
  +"line": 77
  +"trace": array:33 [                             
    0 => {#3425                                    
      +"file": "/Users/lionelfrancis/development/ba​‌​
ckend/CareScore/app/Services/Complaint/ComplaintSer​‌​
vice.php"                                          
      +"line": 77
      +"function": "handleError"                   
      +"class": "Illuminate\Foundation\Bootstrap\Ha​‌​
ndleExceptions"
      +"type": "->"                                
    }                                              
    1 => {#3422
      +"file": "/Users/lionelfrancis/development/ba​‌​
ckend/CareScore/app/Services/Complaint/ComplaintSer​‌​
vice.php"
      +"line": 59                                  
      +"function": "addClientToCompliant"          
      +"class": "App\Services\Complaint\ComplaintSe​‌​
rvice"                                             
      +"type": "->"                
    }
    2 => {#3423                        
      +"file": "/Users/lionelfrancis/development/ba​‌​
ckend/CareScore/app/Http/Controllers/Api/ComplaintC​‌​
ontroller.php"
      +"line": 45           
      +"function": "store"
      +"class": "App\Services\Complaint\ComplaintSe​‌​
rvice"                                             
      +"type": "->"
    }
    3 => {#3424
      +"file": "/Users/lionelfrancis/development/ba​‌​
ckend/CareScore/vendor/laravel/framework/src/Illumi​‌​
nate/Routing/Controller.php"
      +"line": 54
      +"function": "store"
      +"class": "App\Http\Controllers\Api\Complaint​‌​
Controller"
      +"type": "->"
    }
    4 => {#3420
      +"file": "/Users/lionelfrancis/development/ba​‌​
ckend/CareScore/vendor/laravel/framework/src/Illumi​‌​
nate/Routing/ControllerDispatcher.php"
      +"line": 45
      +"function": "callAction"
      +"class": "Illuminate\Routing\Controller"
      +"type": "->"
    }
    5 => {#3419
      +"file": "/Users/lionelfrancis/development/ba​‌​
ckend/CareScore/vendor/laravel/framework/src/Illumi​‌​
nate/Routing/Route.php"
      +"line": 262
      +"function": "dispatch"
      +"class": "Illuminate\Routing\ControllerDispa​‌​
tcher"
      +"type": "->"
    }
    6 => {#3421
      +"file": "/Users/lionelfrancis/development/ba​‌​
ckend/CareScore/vendor/laravel/framework/src/Illumi​‌​
nate/Routing/Route.php"
      +"line": 205
      +"function": "runController"
      +"class": "Illuminate\Routing\Route"
      +"type": "->"
    }
    7 => {#3464
      +"file": "/Users/lionelfrancis/development/ba​‌​
ckend/CareScore/vendor/laravel/framework/src/Illumi​‌​
nate/Routing/Router.php"
      +"line": 695
      +"function": "run"
      +"class": "Illuminate\Routing\Route"
      +"type": "->"
    }
    8 => {#3500
      +"file": "/Users/lionelfrancis/development/ba​‌​
ckend/CareScore/vendor/laravel/framework/src/Illumi​‌​
nate/Pipeline/Pipeline.php"
      +"line": 128
      +"function": "Illuminate\Routing\{closure}"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    9 => {#3203
      +"file": "/Users/lionelfrancis/development/ba​‌​
ckend/CareScore/vendor/laravel/framework/src/Illumi​‌​
nate/Pipeline/Pipeline.php"
      +"line": 103
      +"function": "Illuminate\Pipeline\{closure}"
      +"class": "Illuminate\Pipeline\Pipeline"
      +"type": "->"
    }
    10 => {#2825
      +"file": "/Users/lionelfrancis/development/ba​‌​
ckend/CareScore/vendor/laravel/framework/src/Illumi​‌​
nate/Routing/Router.php"
      +"line": 697
      +"function": "then"
      +"class": "Illuminate\Pipeline\Pipeline"
      +"type": "->"
    }
    11 => {#3207
      +"file": "/Users/lionelfrancis/development/ba​‌​
ckend/CareScore/vendor/laravel/framework/src/Illumi​‌​
nate/Routing/Router.php"
      +"line": 672
      +"function": "runRouteWithinStack"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    12 => {#3501
      +"file": "/Users/lionelfrancis/development/ba​‌​
ckend/CareScore/vendor/laravel/framework/src/Illumi​‌​
nate/Routing/Router.php"
      +"line": 636
      +"function": "runRoute"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    13 => {#3502
      +"file": "/Users/lionelfrancis/development/ba​‌​
ckend/CareScore/vendor/laravel/framework/src/Illumi​‌​
nate/Routing/Router.php"
      +"line": 625
      +"function": "dispatchToRoute"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    14 => {#3503
      +"file": "/Users/lionelfrancis/development/ba​‌​
ckend/CareScore/vendor/laravel/framework/src/Illumi​‌​
nate/Foundation/Http/Kernel.php"
      +"line": 167
      +"function": "dispatch"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    15 => {#3504
      +"file": "/Users/lionelfrancis/development/ba​‌​
ckend/CareScore/vendor/laravel/framework/src/Illumi​‌​
nate/Pipeline/Pipeline.php"
      +"line": 128
      +"function": "Illuminate\Foundation\Http\{clo​‌​
sure}"
      +"class": "Illuminate\Foundation\Http\Kernel"
      +"type": "->"
    }
    16 => {#3505
      +"file": "/Users/lionelfrancis/development/ba​‌​
ckend/CareScore/vendor/laravel/framework/src/Illumi​‌​
nate/Pipeline/Pipeline.php"
      +"line": 103
      +"function": "Illuminate\Pipeline\{closure}"
      +"class": "Illuminate\Pipeline\Pipeline"
      +"type": "->"
    }
    17 => {#3506
      +"file": "/Users/lionelfrancis/development/ba​‌​
ckend/CareScore/vendor/laravel/framework/src/Illumi​‌​
nate/Foundation/Http/Kernel.php"
      +"line": 142
      +"function": "then"
      +"class": "Illuminate\Pipeline\Pipeline"
      +"type": "->"
    }
    18 => {#3507
      +"file": "/Users/lionelfrancis/development/ba​‌​
ckend/CareScore/vendor/laravel/framework/src/Illumi​‌​
nate/Foundation/Http/Kernel.php"
      +"line": 111
      +"function": "sendRequestThroughRouter"
      +"class": "Illuminate\Foundation\Http\Kernel"
      +"type": "->"
    }
    19 => {#3508
      +"file": "/Users/lionelfrancis/development/ba​‌​
ckend/CareScore/vendor/laravel/framework/src/Illumi​‌​
nate/Foundation/Testing/Concerns/MakesHttpRequests.​‌​
php"
      +"line": 510
      +"function": "handle"
      +"class": "Illuminate\Foundation\Http\Kernel"
      +"type": "->"
    }
    20 => {#3509
      +"file": "/Users/lionelfrancis/development/ba​‌​
ckend/CareScore/vendor/laravel/framework/src/Illumi​‌​
nate/Foundation/Testing/Concerns/MakesHttpRequests.​‌​
php"
      +"line": 476
      +"function": "call"
      +"class": "Illuminate\Foundation\Testing\Test​‌​
Case"
      +"type": "->"
    }
    21 => {#3510
      +"file": "/Users/lionelfrancis/development/ba​‌​
ckend/CareScore/tests/Feature/ComplaintTest.php"
      +"line": 64
      +"function": "json"
      +"class": "Illuminate\Foundation\Testing\Test​‌​
Case"
      +"type": "->"
    }
    22 => {#3511
      +"file": "/Users/lionelfrancis/development/ba​‌​
ckend/CareScore/vendor/phpunit/phpunit/src/Framewor​‌​
k/TestCase.php"
      +"line": 1527
      +"function": "test_create_complaint"
      +"class": "Tests\Feature\ComplaintTest"
      +"type": "->"
    }
    23 => {#3512
      +"file": "/Users/lionelfrancis/development/ba​‌​
ckend/CareScore/vendor/phpunit/phpunit/src/Framewor​‌​
k/TestCase.php"
      +"line": 1133
      +"function": "runTest"
      +"class": "PHPUnit\Framework\TestCase"
      +"type": "->"
    }
    24 => {#3513
      +"file": "/Users/lionelfrancis/development/ba​‌​
ckend/CareScore/vendor/phpunit/phpunit/src/Framewor​‌​
k/TestResult.php"
      +"line": 722
      +"function": "runBare"
      +"class": "PHPUnit\Framework\TestCase"
      +"type": "->"
    }
    25 => {#3514
      +"file": "/Users/lionelfrancis/development/ba​‌​
ckend/CareScore/vendor/phpunit/phpunit/src/Framewor​‌​
k/TestCase.php"
      +"line": 885
      +"function": "run"
      +"class": "PHPUnit\Framework\TestResult"
      +"type": "->"
    }
    26 => {#3515
      +"file": "/Users/lionelfrancis/development/ba​‌​
ckend/CareScore/vendor/phpunit/phpunit/src/Framewor​‌​
k/TestSuite.php"
      +"line": 678
      +"function": "run"
      +"class": "PHPUnit\Framework\TestCase"
      +"type": "->"
    }
    27 => {#3516
      +"file": "/Users/lionelfrancis/development/ba​‌​
ckend/CareScore/vendor/phpunit/phpunit/src/Framewor​‌​
k/TestSuite.php"
      +"line": 678
      +"function": "run"
      +"class": "PHPUnit\Framework\TestSuite"
      +"type": "->"
    }
    28 => {#3517
      +"file": "/Users/lionelfrancis/development/ba​‌​
ckend/CareScore/vendor/phpunit/phpunit/src/Framewor​‌​
k/TestSuite.php"
      +"line": 678
      +"function": "run"
      +"class": "PHPUnit\Framework\TestSuite"
      +"type": "->"
    }
    29 => {#3518
      +"file": "/Users/lionelfrancis/development/ba​‌​
ckend/CareScore/vendor/phpunit/phpunit/src/TextUI/T​‌​
estRunner.php"
      +"line": 670
      +"function": "run"
      +"class": "PHPUnit\Framework\TestSuite"
      +"type": "->"
    }
    30 => {#3519
      +"file": "/Users/lionelfrancis/development/ba​‌​
ckend/CareScore/vendor/phpunit/phpunit/src/TextUI/C​‌​
ommand.php"
      +"line": 143
      +"function": "run"
      +"class": "PHPUnit\TextUI\TestRunner"
      +"type": "->"
    }
    31 => {#3520
      +"file": "/Users/lionelfrancis/development/ba​‌​
ckend/CareScore/vendor/phpunit/phpunit/src/TextUI/C​‌​
ommand.php"
      +"line": 96
      +"function": "run"
      +"class": "PHPUnit\TextUI\Command"
      +"type": "->"
    }
    32 => {#3521
      +"file": "/Users/lionelfrancis/development/ba​‌​
ckend/CareScore/vendor/phpunit/phpunit/phpunit"
      +"line": 92
      +"function": "main"
      +"class": "PHPUnit\TextUI\Command"
      +"type": "::"
    }
  ]
}

   FAIL  Tests\Feature\ComplaintTest
  ✓ store complaint category
  ✓ list complaint category
  ✓ store complaint category type
  ✓ get category type by category
  ✓ get all complaint category type
  ⨯ create complaint

  ---

  • Tests\Feature\ComplaintTest > create complaint
   PHPUnit\Framework\InvalidArgumentException 

  Argument #1 of PHPUnit\Framework\Assert::assertAr​‌​
rayHasKey() must be an integer or string

  at vendor/phpunit/phpunit/src/Framework/Exception​‌​
/InvalidArgumentException.php:26
     22▕     public static function create(int $arg​‌​
ument, string $type): self
     23▕     {
     24▕         $stack = debug_backtrace();
     25▕ 
  ➜  26▕         return new self(
     27▕             sprintf(
     28▕                 'Argument #%d of %s::%s() ​‌​
must be %s %s',
     29▕                 $argument,
     30▕                 $stack[1]['class'],

  1   vendor/phpunit/phpunit/src/Framework/Assert.p​‌​
hp:113
      PHPUnit\Framework\InvalidArgumentException::c​‌​
reate("integer or string")

  2   vendor/laravel/framework/src/Illuminate/Testi​‌​
ng/AssertableJsonString.php:256
      PHPUnit\Framework\Assert::assertArrayHasKey([​‌​
"Creating default object from empty value", "ErrorE​‌​
xception", "/Users/lionelfrancis/development/backen​‌​
d/CareScore/app/Services/Complaint/ComplaintService​‌​
.php"])

  3   vendor/laravel/framework/src/Illuminate/Testi​‌​
ng/TestResponse.php:795
      Illuminate\Testing\AssertableJsonString::asse​‌​
rtStructure([])

  4   tests/Feature/ComplaintTest.php:80
      Illuminate\Testing\TestResponse::assertJsonSt​‌​
ructure([])

  5   vendor/phpunit/phpunit/src/Framework/TestCase
.php:1527
      Tests\Feature\ComplaintTest::test_create_comp
laint()

  6   vendor/phpunit/phpunit/src/Framework/TestCase
.php:1133
      PHPUnit\Framework\TestCase::runTest()

  7   vendor/phpunit/phpunit/src/Framework/TestResu
lt.php:722
      PHPUnit\Framework\TestCase::runBare()

  8   vendor/phpunit/phpunit/src/Framework/TestCase
.php:885
      PHPUnit\Framework\TestResult::run(Object(Test
s\Feature\ComplaintTest))

  9   vendor/phpunit/phpunit/src/Framework/TestSuit
e.php:678
      PHPUnit\Framework\TestCase::run(Object(PHPUni
t\Framework\TestResult))

  10  vendor/phpunit/phpunit/src/Framework/TestSuit
e.php:678
      PHPUnit\Framework\TestSuite::run(Object(PHPUn
it\Framework\TestResult))

  11  vendor/phpunit/phpunit/src/Framework/TestSuit
e.php:678
      PHPUnit\Framework\TestSuite::run(Object(PHPUn
it\Framework\TestResult))

  12  vendor/phpunit/phpunit/src/TextUI/TestRunner.
php:670
      PHPUnit\Framework\TestSuite::run(Object(PHPUn
it\Framework\TestResult))

  13  vendor/phpunit/phpunit/src/TextUI/Command.php
:143
      PHPUnit\TextUI\TestRunner::run(Object(PHPUnit
\Framework\TestSuite), [])

  14  vendor/phpunit/phpunit/src/TextUI/Command.php
:96
      PHPUnit\TextUI\Command::run()

  15  vendor/phpunit/phpunit/phpunit:92
      PHPUnit\TextUI\Command::main()


  Tests:  1 failed, 5 passed
  Time:   1.97s

➜  CareScore git:(master) ✗ clear                                                                                
➜  CareScore git:(master) ✗ php artisan test --env=testing  --verbose                                            
{#3418                                             
  +"message": "Creating default object from empty value"
  +"exception": "ErrorException"
  +"file": "/Users/lionelfrancis/development/backend/CareScore/app/Services/Complaint/ComplaintService.php"
  +"line": 77
  +"trace": array:33 [                     
    0 => {#3425
      +"file": "/Users/lionelfrancis/development/backend/CareScore/app/Services/Complaint/ComplaintService.php"
      +"line": 77
      +"function": "handleError"           
      +"class": "Illuminate\Foundation\Bootstrap\HandleExceptions"
      +"type": "->"                                
    }   
    1 => {#3422                                    
      +"file": "/Users/lionelfrancis/development/backend/CareScore/app/Services/Complaint/ComplaintService.php"
      +"line": 59
      +"function": "addClientToCompliant"          
      +"class": "App\Services\Complaint\ComplaintService"
      +"type": "->"                                
    }                   
    2 => {#3423
      +"file": "/Users/lionelfrancis/development/backend/CareScore/app/Http/Controllers/Api/ComplaintController.p​‌​
hp"      
      +"line": 45                                  
      +"function": "store"
      +"class": "App\Services\Complaint\ComplaintService"
      +"type": "->"                                
    }    
    3 => {#3424                                    
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routin​‌​
g/Controller.php"
      +"line": 54                                  
      +"function": "store"
      +"class": "App\Http\Controllers\Api\ComplaintController"
      +"type": "->"      
    }
    4 => {#3420                                    
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routin​‌​
g/ControllerDispatcher.php"                        
      +"line": 45         
      +"function": "callAction"
      +"class": "Illuminate\Routing\Controller"    
      +"type": "->"
    }                              
    5 => {#3419
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routin​‌​
g/Route.php"                        
      +"line": 262
      +"function": "dispatch"
      +"class": "Illuminate\Routing\ControllerDispatcher"
      +"type": "->"
    }
    6 => {#3421                                                                                                  
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routin​‌​
g/Route.php"
      +"line": 205
      +"function": "runController"
      +"class": "Illuminate\Routing\Route"
      +"type": "->"
    }
    7 => {#3464
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routin​‌​
g/Router.php"
      +"line": 695
      +"function": "run"
      +"class": "Illuminate\Routing\Route"
      +"type": "->"
    }
    8 => {#3500
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Pipeli​‌​
ne/Pipeline.php"
      +"line": 128
      +"function": "Illuminate\Routing\{closure}"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    9 => {#3203
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Pipeli​‌​
ne/Pipeline.php"
      +"line": 103
      +"function": "Illuminate\Pipeline\{closure}"
      +"class": "Illuminate\Pipeline\Pipeline"
      +"type": "->"
    }
    10 => {#2825
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routin​‌​
g/Router.php"
      +"line": 697
      +"function": "then"
      +"class": "Illuminate\Pipeline\Pipeline"
      +"type": "->"
    }
    11 => {#3207
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routin​‌​
g/Router.php"
      +"line": 672
      +"function": "runRouteWithinStack"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    12 => {#3501
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routin​‌​
g/Router.php"
      +"line": 636
      +"function": "runRoute"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    13 => {#3502
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routin​‌​
g/Router.php"
      +"line": 625
      +"function": "dispatchToRoute"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    14 => {#3503
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Founda​‌​
tion/Http/Kernel.php"
      +"line": 167
      +"function": "dispatch"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    15 => {#3504
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Pipeli​‌​
ne/Pipeline.php"
      +"line": 128
      +"function": "Illuminate\Foundation\Http\{closure}"
      +"class": "Illuminate\Foundation\Http\Kernel"
      +"type": "->"
    }
    16 => {#3505
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Pipeli​‌​
ne/Pipeline.php"
      +"line": 103
      +"function": "Illuminate\Pipeline\{closure}"
      +"class": "Illuminate\Pipeline\Pipeline"
      +"type": "->"
    }
    17 => {#3506
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Founda​‌​
tion/Http/Kernel.php"
      +"line": 142
      +"function": "then"
      +"class": "Illuminate\Pipeline\Pipeline"
      +"type": "->"
    }
    18 => {#3507
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Founda​‌​
tion/Http/Kernel.php"
      +"line": 111
      +"function": "sendRequestThroughRouter"
      +"class": "Illuminate\Foundation\Http\Kernel"
      +"type": "->"
    }
    19 => {#3508
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Founda​‌​
tion/Testing/Concerns/MakesHttpRequests.php"
      +"line": 510
      +"function": "handle"
      +"class": "Illuminate\Foundation\Http\Kernel"
      +"type": "->"
    }
    20 => {#3509
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Founda​‌​
tion/Testing/Concerns/MakesHttpRequests.php"
      +"line": 476
      +"function": "call"
      +"class": "Illuminate\Foundation\Testing\TestCase"
      +"type": "->"
    }
    21 => {#3510
      +"file": "/Users/lionelfrancis/development/backend/CareScore/tests/Feature/ComplaintTest.php"
      +"line": 64
      +"function": "json"
      +"class": "Illuminate\Foundation\Testing\TestCase"
      +"type": "->"
    }
    22 => {#3511
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestCase.​‌​
php"
      +"line": 1527
      +"function": "test_create_complaint"
      +"class": "Tests\Feature\ComplaintTest"
      +"type": "->"
    }
    23 => {#3512
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestCase.​‌​
php"
      +"line": 1133
      +"function": "runTest"
      +"class": "PHPUnit\Framework\TestCase"
      +"type": "->"
    }
    24 => {#3513
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestResul​‌​
t.php"
      +"line": 722
      +"function": "runBare"
      +"class": "PHPUnit\Framework\TestCase"
      +"type": "->"
    }
    25 => {#3514
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestCase.​‌​
php"
      +"line": 885
      +"function": "run"
      +"class": "PHPUnit\Framework\TestResult"
      +"type": "->"
    }
    26 => {#3515
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestSuite​‌​
.php"
      +"line": 678
      +"function": "run"
      +"class": "PHPUnit\Framework\TestCase"
      +"type": "->"
    }
    27 => {#3516
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestSuite​‌​
.php"
      +"line": 678
      +"function": "run"
      +"class": "PHPUnit\Framework\TestSuite"
      +"type": "->"
    }
    28 => {#3517
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestSuite​‌​
.php"
      +"line": 678
      +"function": "run"
      +"class": "PHPUnit\Framework\TestSuite"
      +"type": "->"
    }
    29 => {#3518
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/TextUI/TestRunner.p​‌​
hp"
      +"line": 670
      +"function": "run"
      +"class": "PHPUnit\Framework\TestSuite"
      +"type": "->"
    }
    30 => {#3519
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/TextUI/Command.php"
      +"line": 143
      +"function": "run"
      +"class": "PHPUnit\TextUI\TestRunner"
      +"type": "->"
    }
    31 => {#3520
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/TextUI/Command.php"
      +"line": 96
      +"function": "run"
      +"class": "PHPUnit\TextUI\Command"
      +"type": "->"
    }
    32 => {#3521
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/phpunit"
      +"line": 92
      +"function": "main"
      +"class": "PHPUnit\TextUI\Command"
      +"type": "::"
    }
  ]
}

   FAIL  Tests\Feature\ComplaintTest
  ✓ store complaint category
  ✓ list complaint category
  ✓ store complaint category type
  ✓ get category type by category
  ✓ get all complaint category type
  ⨯ create complaint

  ---

  • Tests\Feature\ComplaintTest > create complaint
   PHPUnit\Framework\InvalidArgumentException 

  Argument #1 of PHPUnit\Framework\Assert::assertArrayHasKey() must be an integer or string

  at vendor/phpunit/phpunit/src/Framework/Exception/InvalidArgumentException.php:26
     22▕     public static function create(int $argument, string $type): self
     23▕     {
     24▕         $stack = debug_backtrace();
     25▕ 
  ➜  26▕         return new self(
     27▕             sprintf(
     28▕                 'Argument #%d of %s::%s() must be %s %s',
     29▕                 $argument,
     30▕                 $stack[1]['class'],

  1   vendor/phpunit/phpunit/src/Framework/Assert.php:113
      PHPUnit\Framework\InvalidArgumentException::create("integer or string")

  2   vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:256
      PHPUnit\Framework\Assert::assertArrayHasKey(["Creating default object from empty value", "ErrorException", ​‌​
"/Users/lionelfrancis/development/backend/CareScore/app/Services/Complaint/ComplaintService.php"])

  3   vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:795
      Illuminate\Testing\AssertableJsonString::assertStructure([])

  4   tests/Feature/ComplaintTest.php:80
      Illuminate\Testing\TestResponse::assertJsonStructure([])

  5   vendor/phpunit/phpunit/src/Framework/TestCase.php:1527
      Tests\Feature\ComplaintTest::test_create_complaint()

  6   vendor/phpunit/phpunit/src/Framework/TestCase.php:1133
      PHPUnit\Framework\TestCase::runTest()

  7   vendor/phpunit/phpunit/src/Framework/TestResult.php:722
      PHPUnit\Framework\TestCase::runBare()

  8   vendor/phpunit/phpunit/src/Framework/TestCase.php:885
      PHPUnit\Framework\TestResult::run(Object(Tests\Feature\ComplaintTest))

  9   vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestCase::run(Object(PHPUnit\Framework\TestResult))

  10  vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  11  vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  12  vendor/phpunit/phpunit/src/TextUI/TestRunner.php:670
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  13  vendor/phpunit/phpunit/src/TextUI/Command.php:143
      PHPUnit\TextUI\TestRunner::run(Object(PHPUnit\Framework\TestSuite), [])

  14  vendor/phpunit/phpunit/src/TextUI/Command.php:96
      PHPUnit\TextUI\Command::run()

  15  vendor/phpunit/phpunit/phpunit:92
      PHPUnit\TextUI\Command::main()


  Tests:  1 failed, 5 passed
  Time:   2.00s

➜  CareScore git:(master) ✗ clear                                                                                
➜  CareScore git:(master) ✗ php artisan test --env=testing  --verbose                                            
{#3418                                      
  +"message": "Creating default object from empty value"
  +"exception": "ErrorException"                         
  +"file": "/Users/lionelfrancis/development/backend/CareScore/app/Services/Complaint/ComplaintService.php"
  +"line": 77
  +"trace": array:33 [                                                            
    0 => {#3425                                                                                                  
      +"file": "/Users/lionelfrancis/development/backend/CareScore/app/Services/Complaint/ComplaintService.php"
      +"line": 77
      +"function": "handleError"                                          
      +"class": "Illuminate\Foundation\Bootstrap\HandleExceptions"
      +"type": "->"
    }                                   
    1 => {#3422                                               
      +"file": "/Users/lionelfrancis/development/backend/CareScore/app/Services/Complaint/ComplaintService.php"
      +"line": 59                                           
      +"function": "addClientToCompliant"                 
      +"class": "App\Services\Complaint\ComplaintService"
      +"type": "->"                                         
    }                                      
    2 => {#3423
      +"file": "/Users/lionelfrancis/development/backend/CareScore/app/Http/Controllers/Api/ComplaintController.p​‌​
hp"                                        
      +"line": 45
      +"function": "store"                                 
      +"class": "App\Services\Complaint\ComplaintService"                   
      +"type": "->"
    }                                                       
    3 => {#3424                                                            
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routin​‌​
g/Controller.php"                                           
      +"line": 54                                                           
      +"function": "store"
      +"class": "App\Http\Controllers\Api\ComplaintController"
      +"type": "->"                                                         
    }
    4 => {#3420                                           
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routin​‌​
g/ControllerDispatcher.php"
      +"line": 45                                      
      +"function": "callAction"                                              
      +"class": "Illuminate\Routing\Controller"
      +"type": "->"                                   
    }                              
    5 => {#3419
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routin​‌​
g/Route.php"                        
      +"line": 262
      +"function": "dispatch"
      +"class": "Illuminate\Routing\ControllerDispatcher"
      +"type": "->"
    }
    6 => {#3421                                                                                                  
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routin​‌​
g/Route.php"
      +"line": 205
      +"function": "runController"
      +"class": "Illuminate\Routing\Route"
      +"type": "->"
    }
    7 => {#3464
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routin​‌​
g/Router.php"
      +"line": 695
      +"function": "run"
      +"class": "Illuminate\Routing\Route"
      +"type": "->"
    }
    8 => {#3500
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Pipeli​‌​
ne/Pipeline.php"
      +"line": 128
      +"function": "Illuminate\Routing\{closure}"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    9 => {#3203
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Pipeli​‌​
ne/Pipeline.php"
      +"line": 103
      +"function": "Illuminate\Pipeline\{closure}"
      +"class": "Illuminate\Pipeline\Pipeline"
      +"type": "->"
    }
    10 => {#2825
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routin​‌​
g/Router.php"
      +"line": 697
      +"function": "then"
      +"class": "Illuminate\Pipeline\Pipeline"
      +"type": "->"
    }
    11 => {#3207
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routin​‌​
g/Router.php"
      +"line": 672
      +"function": "runRouteWithinStack"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    12 => {#3501
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routin​‌​
g/Router.php"
      +"line": 636
      +"function": "runRoute"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    13 => {#3502
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Routin​‌​
g/Router.php"
      +"line": 625
      +"function": "dispatchToRoute"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    14 => {#3503
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Founda​‌​
tion/Http/Kernel.php"
      +"line": 167
      +"function": "dispatch"
      +"class": "Illuminate\Routing\Router"
      +"type": "->"
    }
    15 => {#3504
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Pipeli​‌​
ne/Pipeline.php"
      +"line": 128
      +"function": "Illuminate\Foundation\Http\{closure}"
      +"class": "Illuminate\Foundation\Http\Kernel"
      +"type": "->"
    }
    16 => {#3505
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Pipeli​‌​
ne/Pipeline.php"
      +"line": 103
      +"function": "Illuminate\Pipeline\{closure}"
      +"class": "Illuminate\Pipeline\Pipeline"
      +"type": "->"
    }
    17 => {#3506
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Founda​‌​
tion/Http/Kernel.php"
      +"line": 142
      +"function": "then"
      +"class": "Illuminate\Pipeline\Pipeline"
      +"type": "->"
    }
    18 => {#3507
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Founda​‌​
tion/Http/Kernel.php"
      +"line": 111
      +"function": "sendRequestThroughRouter"
      +"class": "Illuminate\Foundation\Http\Kernel"
      +"type": "->"
    }
    19 => {#3508
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Founda​‌​
tion/Testing/Concerns/MakesHttpRequests.php"
      +"line": 510
      +"function": "handle"
      +"class": "Illuminate\Foundation\Http\Kernel"
      +"type": "->"
    }
    20 => {#3509
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/laravel/framework/src/Illuminate/Founda​‌​
tion/Testing/Concerns/MakesHttpRequests.php"
      +"line": 476
      +"function": "call"
      +"class": "Illuminate\Foundation\Testing\TestCase"
      +"type": "->"
    }
    21 => {#3510
      +"file": "/Users/lionelfrancis/development/backend/CareScore/tests/Feature/ComplaintTest.php"
      +"line": 64
      +"function": "json"
      +"class": "Illuminate\Foundation\Testing\TestCase"
      +"type": "->"
    }
    22 => {#3511
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestCase.​‌​
php"
      +"line": 1527
      +"function": "test_create_complaint"
      +"class": "Tests\Feature\ComplaintTest"
      +"type": "->"
    }
    23 => {#3512
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestCase.​‌​
php"
      +"line": 1133
      +"function": "runTest"
      +"class": "PHPUnit\Framework\TestCase"
      +"type": "->"
    }
    24 => {#3513
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestResul​‌​
t.php"
      +"line": 722
      +"function": "runBare"
      +"class": "PHPUnit\Framework\TestCase"
      +"type": "->"
    }
    25 => {#3514
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestCase.​‌​
php"
      +"line": 885
      +"function": "run"
      +"class": "PHPUnit\Framework\TestResult"
      +"type": "->"
    }
    26 => {#3515
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestSuite​‌​
.php"
      +"line": 678
      +"function": "run"
      +"class": "PHPUnit\Framework\TestCase"
      +"type": "->"
    }
    27 => {#3516
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestSuite​‌​
.php"
      +"line": 678
      +"function": "run"
      +"class": "PHPUnit\Framework\TestSuite"
      +"type": "->"
    }
    28 => {#3517
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/Framework/TestSuite​‌​
.php"
      +"line": 678
      +"function": "run"
      +"class": "PHPUnit\Framework\TestSuite"
      +"type": "->"
    }
    29 => {#3518
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/TextUI/TestRunner.p​‌​
hp"
      +"line": 670
      +"function": "run"
      +"class": "PHPUnit\Framework\TestSuite"
      +"type": "->"
    }
    30 => {#3519
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/TextUI/Command.php"
      +"line": 143
      +"function": "run"
      +"class": "PHPUnit\TextUI\TestRunner"
      +"type": "->"
    }
    31 => {#3520
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/src/TextUI/Command.php"
      +"line": 96
      +"function": "run"
      +"class": "PHPUnit\TextUI\Command"
      +"type": "->"
    }
    32 => {#3521
      +"file": "/Users/lionelfrancis/development/backend/CareScore/vendor/phpunit/phpunit/phpunit"
      +"line": 92
      +"function": "main"
      +"class": "PHPUnit\TextUI\Command"
      +"type": "::"
    }
  ]
}

   FAIL  Tests\Feature\ComplaintTest
  ✓ store complaint category
  ✓ list complaint category
  ✓ store complaint category type
  ✓ get category type by category
  ✓ get all complaint category type
  ⨯ create complaint

  ---

  • Tests\Feature\ComplaintTest > create complaint
   PHPUnit\Framework\InvalidArgumentException 

  Argument #1 of PHPUnit\Framework\Assert::assertArrayHasKey() must be an integer or string

  at vendor/phpunit/phpunit/src/Framework/Exception/InvalidArgumentException.php:26
     22▕     public static function create(int $argument, string $type): self
     23▕     {
     24▕         $stack = debug_backtrace();
     25▕ 
  ➜  26▕         return new self(
     27▕             sprintf(
     28▕                 'Argument #%d of %s::%s() must be %s %s',
     29▕                 $argument,
     30▕                 $stack[1]['class'],

  1   vendor/phpunit/phpunit/src/Framework/Assert.php:113
      PHPUnit\Framework\InvalidArgumentException::create("integer or string")

  2   vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:256
      PHPUnit\Framework\Assert::assertArrayHasKey(["Creating default object from empty value", "ErrorException", ​‌​
"/Users/lionelfrancis/development/backend/CareScore/app/Services/Complaint/ComplaintService.php"])

  3   vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:795
      Illuminate\Testing\AssertableJsonString::assertStructure([])

  4   tests/Feature/ComplaintTest.php:80
      Illuminate\Testing\TestResponse::assertJsonStructure([])

  5   vendor/phpunit/phpunit/src/Framework/TestCase.php:1527
      Tests\Feature\ComplaintTest::test_create_complaint()

  6   vendor/phpunit/phpunit/src/Framework/TestCase.php:1133
      PHPUnit\Framework\TestCase::runTest()

  7   vendor/phpunit/phpunit/src/Framework/TestResult.php:722
      PHPUnit\Framework\TestCase::runBare()

  8   vendor/phpunit/phpunit/src/Framework/TestCase.php:885
      PHPUnit\Framework\TestResult::run(Object(Tests\Feature\ComplaintTest))

  9   vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestCase::run(Object(PHPUnit\Framework\TestResult))

  10  vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  11  vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  12  vendor/phpunit/phpunit/src/TextUI/TestRunner.php:670
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  13  vendor/phpunit/phpunit/src/TextUI/Command.php:143
      PHPUnit\TextUI\TestRunner::run(Object(PHPUnit\Framework\TestSuite), [])

  14  vendor/phpunit/phpunit/src/TextUI/Command.php:96
      PHPUnit\TextUI\Command::run()

  15  vendor/phpunit/phpunit/phpunit:92
      PHPUnit\TextUI\Command::main()


  Tests:  1 failed, 5 passed
  Time:   1.93s

➜  CareScore git:(master) ✗ php artisan test --env=testing  --verbose                                            
{#3418
  +"created": true
}

   FAIL  Tests\Feature\ComplaintTest
  ✓ store complaint category
  ✓ list complaint category
  ✓ store complaint category type
  ✓ get category type by category
  ✓ get all complaint category type
  ⨯ create complaint

  ---

  • Tests\Feature\ComplaintTest > create complaint
   PHPUnit\Framework\InvalidArgumentException 

  Argument #1 of PHPUnit\Framework\Assert::assertArrayHasKey() must be an integer or string

  at vendor/phpunit/phpunit/src/Framework/Exception/InvalidArgumentException.php:26
     22▕     public static function create(int $argument, string $type): self
     23▕     {
     24▕         $stack = debug_backtrace();
     25▕ 
  ➜  26▕         return new self(
     27▕             sprintf(
     28▕                 'Argument #%d of %s::%s() must be %s %s',
     29▕                 $argument,
     30▕                 $stack[1]['class'],

  1   vendor/phpunit/phpunit/src/Framework/Assert.php:113
      PHPUnit\Framework\InvalidArgumentException::create("integer or string")

  2   vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:256
      PHPUnit\Framework\Assert::assertArrayHasKey([])

  3   vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:795
      Illuminate\Testing\AssertableJsonString::assertStructure([])

  4   tests/Feature/ComplaintTest.php:80
      Illuminate\Testing\TestResponse::assertJsonStructure([])

  5   vendor/phpunit/phpunit/src/Framework/TestCase.php:1527
      Tests\Feature\ComplaintTest::test_create_complaint()

  6   vendor/phpunit/phpunit/src/Framework/TestCase.php:1133
      PHPUnit\Framework\TestCase::runTest()

  7   vendor/phpunit/phpunit/src/Framework/TestResult.php:722
      PHPUnit\Framework\TestCase::runBare()

  8   vendor/phpunit/phpunit/src/Framework/TestCase.php:885
      PHPUnit\Framework\TestResult::run(Object(Tests\Feature\ComplaintTest))

  9   vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestCase::run(Object(PHPUnit\Framework\TestResult))

  10  vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  11  vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  12  vendor/phpunit/phpunit/src/TextUI/TestRunner.php:670
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  13  vendor/phpunit/phpunit/src/TextUI/Command.php:143
      PHPUnit\TextUI\TestRunner::run(Object(PHPUnit\Framework\TestSuite), [])

  14  vendor/phpunit/phpunit/src/TextUI/Command.php:96
      PHPUnit\TextUI\Command::run()

  15  vendor/phpunit/phpunit/phpunit:92
      PHPUnit\TextUI\Command::main()


  Tests:  1 failed, 5 passed
  Time:   1.52s

➜  CareScore git:(master) ✗ php artisan migrate:fresh                                                            
Dropped all tables successfully.
Migration table created successfully.
Migrating: 2014_10_12_000000_create_users_table
Migrated:  2014_10_12_000000_create_users_table (17.34ms)
Migrating: 2014_10_12_100000_create_password_resets_table
Migrated:  2014_10_12_100000_create_password_resets_table (11.49ms)
Migrating: 2019_08_19_000000_create_failed_jobs_table
Migrated:  2019_08_19_000000_create_failed_jobs_table (16.37ms)
Migrating: 2019_12_14_000001_create_personal_access_tokens_table
Migrated:  2019_12_14_000001_create_personal_access_tokens_table (22.42ms)
Migrating: 2022_03_24_075424_create_roles_table
Migrated:  2022_03_24_075424_create_roles_table (7.78ms)
Migrating: 2022_03_24_075546_create_user_details_table
Migrated:  2022_03_24_075546_create_user_details_table (11.34ms)
Migrating: 2022_03_24_080306_create_user_statuses_table
Migrated:  2022_03_24_080306_create_user_statuses_table (7.33ms)
Migrating: 2022_03_24_081435_create_medical_statuses_table
Migrated:  2022_03_24_081435_create_medical_statuses_table (10.02ms)
Migrating: 2022_03_24_082223_create_work_details_table
Migrated:  2022_03_24_082223_create_work_details_table (8.12ms)
Migrating: 2022_03_28_083125_create_client_homecareworkers_table
Migrated:  2022_03_28_083125_create_client_homecareworkers_table (7.45ms)
Migrating: 2022_04_01_093432_create_coordinator_homecareworkers_table
Migrated:  2022_04_01_093432_create_coordinator_homecareworkers_table (7.69ms)
Migrating: 2022_04_04_085755_create_medical_details_table
Migrated:  2022_04_04_085755_create_medical_details_table (7.34ms)
Migrating: 2022_04_05_091447_create_notifications_table
Migrated:  2022_04_05_091447_create_notifications_table (24.92ms)
Migrating: 2022_04_06_193211_create_service_details_table
Migrated:  2022_04_06_193211_create_service_details_table (9.07ms)
Migrating: 2022_04_06_194634_create_emergency_contacts_table
Migrated:  2022_04_06_194634_create_emergency_contacts_table (7.73ms)
Migrating: 2022_04_06_195255_create_physicians_table
Migrated:  2022_04_06_195255_create_physicians_table (6.77ms)
Migrating: 2022_04_06_195720_create_client_insurances_table
Migrated:  2022_04_06_195720_create_client_insurances_table (7.14ms)
Migrating: 2022_04_06_200130_create_insurances_table
Migrated:  2022_04_06_200130_create_insurances_table (7.26ms)
Migrating: 2022_04_07_085041_create_client_nurses_table
Migrated:  2022_04_07_085041_create_client_nurses_table (7.64ms)
Migrating: 2022_04_07_085221_create_client_coords_table
Migrated:  2022_04_07_085221_create_client_coords_table (7.04ms)
Migrating: 2022_04_19_050517_create_injuries_table
Migrated:  2022_04_19_050517_create_injuries_table (7.68ms)
Migrating: 2022_04_19_051010_create_incident_types_table
Migrated:  2022_04_19_051010_create_incident_types_table (7.53ms)
Migrating: 2022_04_19_051341_create_incidents_table
Migrated:  2022_04_19_051341_create_incidents_table (12.21ms)
Migrating: 2022_04_19_092757_create_incident_locations_table
Migrated:  2022_04_19_092757_create_incident_locations_table (8.77ms)
Migrating: 2022_04_22_133020_create_incident_assigned_users_table
Migrated:  2022_04_22_133020_create_incident_assigned_users_table (6.44ms)
Migrating: 2022_04_22_142749_create_incident_reasons_table
Migrated:  2022_04_22_142749_create_incident_reasons_table (6.52ms)
Migrating: 2022_04_22_143245_create_actions_table
Migrated:  2022_04_22_143245_create_actions_table (7.20ms)
Migrating: 2022_04_22_183119_create_action_incidents_table
Migrated:  2022_04_22_183119_create_action_incidents_table (8.43ms)
Migrating: 2022_04_22_183346_create_response_reasons_table
Migrated:  2022_04_22_183346_create_response_reasons_table (7.74ms)
Migrating: 2022_04_22_183420_create_response_actions_table
Migrated:  2022_04_22_183420_create_response_actions_table (7.90ms)
Migrating: 2022_04_25_005048_create_reasons_table
Migrated:  2022_04_25_005048_create_reasons_table (7.96ms)
Migrating: 2022_04_25_005419_create_reason_categories_table
Migrated:  2022_04_25_005419_create_reason_categories_table (7.19ms)
Migrating: 2022_04_25_012107_create_investigation_questions_table
Migrated:  2022_04_25_012107_create_investigation_questions_table (8.29ms)
Migrating: 2022_04_25_012351_create_investigation_question_answers_table
Migrated:  2022_04_25_012351_create_investigation_question_answers_table (6.98ms)
Migrating: 2022_04_25_100845_create_investigation_activities_table
Migrated:  2022_04_25_100845_create_investigation_activities_table (6.84ms)
Migrating: 2022_04_25_101127_create_result_of_actions_table
Migrated:  2022_04_25_101127_create_result_of_actions_table (7.40ms)
Migrating: 2022_04_25_101226_create_clinician_recommendations_table
Migrated:  2022_04_25_101226_create_clinician_recommendations_table (9.23ms)
Migrating: 2022_04_26_195238_create_investigation_responses_table
Migrated:  2022_04_26_195238_create_investigation_responses_table (9.70ms)
Migrating: 2022_04_26_214047_create_trigger_table
Migrated:  2022_04_26_214047_create_trigger_table (7.79ms)
Migrating: 2022_04_26_214152_create_trigger_types_table
Migrated:  2022_04_26_214152_create_trigger_types_table (8.12ms)
Migrating: 2022_04_27_123046_create_incident_activities_table
Migrated:  2022_04_27_123046_create_incident_activities_table (12.41ms)
Migrating: 2022_04_28_165914_create_incident_type_categories_table
Migrated:  2022_04_28_165914_create_incident_type_categories_table (7.56ms)
Migrating: 2022_05_02_122620_create_action_results_table
Migrated:  2022_05_02_122620_create_action_results_table (8.44ms)
Migrating: 2022_05_02_122924_create_incident_actions_table
Migrated:  2022_05_02_122924_create_incident_actions_table (8.56ms)
Migrating: 2022_05_04_120628_create_action_result_responses_table
Migrated:  2022_05_04_120628_create_action_result_responses_table (7.39ms)
Migrating: 2022_05_04_141456_create_action_recommendation_table
Migrated:  2022_05_04_141456_create_action_recommendation_table (8.36ms)
Migrating: 2022_05_06_141651_create_investigation_activity_results_table
Migrated:  2022_05_06_141651_create_investigation_activity_results_table (10.67ms)
Migrating: 2022_05_08_032126_create_activity_selecteds_table
Migrated:  2022_05_08_032126_create_activity_selecteds_table (11.38ms)
Migrating: 2022_05_08_065436_create_activity_results_table
Migrated:  2022_05_08_065436_create_activity_results_table (9.64ms)
Migrating: 2022_05_12_163139_create_selected_results_table
Migrated:  2022_05_12_163139_create_selected_results_table (11.75ms)
Migrating: 2022_05_13_070045_create_activity_recommendations_table
Migrated:  2022_05_13_070045_create_activity_recommendations_table (8.90ms)
Migrating: 2022_05_16_093753_create_selected_recommendations_table
Migrated:  2022_05_16_093753_create_selected_recommendations_table (8.84ms)
Migrating: 2022_05_17_122557_create_complaints_table
Migrated:  2022_05_17_122557_create_complaints_table (11.50ms)
Migrating: 2022_05_17_140842_create_complaint_categories_table
Migrated:  2022_05_17_140842_create_complaint_categories_table (8.20ms)
Migrating: 2022_05_17_140929_create_complaint_types_table
Migrated:  2022_05_17_140929_create_complaint_types_table (8.09ms)
Migrating: 2022_05_18_113434_create_client_complaints_table
Migrated:  2022_05_18_113434_create_client_complaints_table (7.96ms)
➜  CareScore git:(master) ✗ php artisan db:seed                                                           
Seeding: Database\Seeders\UserSeeder
Seeded:  Database\Seeders\UserSeeder (607.60ms)
Seeding: Database\Seeders\RoleSeeder
Seeded:  Database\Seeders\RoleSeeder (9.56ms)
Seeding: Database\Seeders\UserStatusSeeder
Seeded:  Database\Seeders\UserStatusSeeder (3.38ms)
Seeding: Database\Seeders\UserDetailsSeeder
Seeded:  Database\Seeders\UserDetailsSeeder (44.80ms)
Seeding: Database\Seeders\IncidentTypeSeeder
Seeded:  Database\Seeders\IncidentTypeSeeder (8.29ms)
Seeding: Database\Seeders\IncidentTypeCategorySeeder
Seeded:  Database\Seeders\IncidentTypeCategorySeeder (9.80ms)
Seeding: Database\Seeders\IncidentLocationSeeder
Seeded:  Database\Seeders\IncidentLocationSeeder (0.04ms)
Seeding: Database\Seeders\InjurySeeder
Seeded:  Database\Seeders\InjurySeeder (3.57ms)
Seeding: Database\Seeders\ReasonCategorySeeder
Seeded:  Database\Seeders\ReasonCategorySeeder (28.88ms)
Seeding: Database\Seeders\ClinicianRecommendationSeeder
Seeded:  Database\Seeders\ClinicianRecommendationSeeder (27.22ms)
Seeding: Database\Seeders\InvestigationActivitySeeder
Seeded:  Database\Seeders\InvestigationActivitySeeder (14.75ms)
Seeding: Database\Seeders\InvestigationQuestionSeeder
Seeded:  Database\Seeders\InvestigationQuestionSeeder (141.59ms)
Seeding: Database\Seeders\ReasonSeeder
Seeded:  Database\Seeders\ReasonSeeder (42.87ms)
Seeding: Database\Seeders\ActionSeeder
Seeded:  Database\Seeders\ActionSeeder (18.82ms)
Seeding: Database\Seeders\TriggerTypeSeeder
Seeded:  Database\Seeders\TriggerTypeSeeder (22.04ms)
Seeding: Database\Seeders\ComplaintCategorySeeder
Seeded:  Database\Seeders\ComplaintCategorySeeder (33.98ms)
Database seeding completed successfully.
➜  CareScore git:(master) ✗ php artisan test --env=testing  --verbose                                     
{#3418
  +"created": true
}

   FAIL  Tests\Feature\ComplaintTest
  ✓ store complaint category
  ✓ list complaint category
  ✓ store complaint category type
  ✓ get category type by category
  ✓ get all complaint category type
  ⨯ create complaint

  ---

  • Tests\Feature\ComplaintTest > create complaint
   PHPUnit\Framework\InvalidArgumentException 

  Argument #1 of PHPUnit\Framework\Assert::assertArrayHasKey() must be an integer or string

  at vendor/phpunit/phpunit/src/Framework/Exception/InvalidArgumentException.php:26
     22▕     public static function create(int $argument, string $type): self
     23▕     {
     24▕         $stack = debug_backtrace();
     25▕ 
  ➜  26▕         return new self(
     27▕             sprintf(
     28▕                 'Argument #%d of %s::%s() must be %s %s',
     29▕                 $argument,
     30▕                 $stack[1]['class'],

  1   vendor/phpunit/phpunit/src/Framework/Assert.php:113
      PHPUnit\Framework\InvalidArgumentException::create("integer or string")

  2   vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:256
      PHPUnit\Framework\Assert::assertArrayHasKey([])

  3   vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:795
      Illuminate\Testing\AssertableJsonString::assertStructure([])

  4   tests/Feature/ComplaintTest.php:80
      Illuminate\Testing\TestResponse::assertJsonStructure([])

  5   vendor/phpunit/phpunit/src/Framework/TestCase.php:1527
      Tests\Feature\ComplaintTest::test_create_complaint()

  6   vendor/phpunit/phpunit/src/Framework/TestCase.php:1133
      PHPUnit\Framework\TestCase::runTest()

  7   vendor/phpunit/phpunit/src/Framework/TestResult.php:722
      PHPUnit\Framework\TestCase::runBare()

  8   vendor/phpunit/phpunit/src/Framework/TestCase.php:885
      PHPUnit\Framework\TestResult::run(Object(Tests\Feature\ComplaintTest))

  9   vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestCase::run(Object(PHPUnit\Framework\TestResult))

  10  vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  11  vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  12  vendor/phpunit/phpunit/src/TextUI/TestRunner.php:670
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  13  vendor/phpunit/phpunit/src/TextUI/Command.php:143
      PHPUnit\TextUI\TestRunner::run(Object(PHPUnit\Framework\TestSuite), [])

  14  vendor/phpunit/phpunit/src/TextUI/Command.php:96
      PHPUnit\TextUI\Command::run()

  15  vendor/phpunit/phpunit/phpunit:92
      PHPUnit\TextUI\Command::main()


  Tests:  1 failed, 5 passed
  Time:   1.46s

➜  CareScore git:(master) ✗ clear                                                                         
➜  CareScore git:(master) ✗ php artisan test --env=tes​‌​
ting  --verbose                                       
{#3418
  +"created": true                                    
}                                                     

   FAIL  Tests\Feature\ComplaintTest                  
  ✓ store complaint category                         
  ✓ list complaint category
  ✓ store complaint category type                     
  ✓ get category type by category                     
  ✓ get all complaint category type
  ⨯ create complaint                    
                                                      
  ---
                                                      
  • Tests\Feature\ComplaintTest > create complaint    
   PHPUnit\Framework\InvalidArgumentException 
                                                      
  Argument #1 of PHPUnit\Framework\Assert::assertArray​‌​
HasKey() must be an integer or string
                                                      
  at vendor/phpunit/phpunit/src/Framework/Exception/In​‌​
validArgumentException.php:26
     22▕     public static function create(int $argume​‌​
nt, string $type): self                               
     23▕     {
     24▕         $stack = debug_backtrace();          
     25▕                                              
  ➜  26▕         return new self(
     27▕             sprintf(                         
     28▕                 'Argument #%d of %s::%s() mus​‌​
t be %s %s',
     29▕                 $argument,                   
     30▕                 $stack[1]['class'],          

  1   vendor/phpunit/phpunit/src/Framework/Assert.php:​‌​
113                                                   
      PHPUnit\Framework\InvalidArgumentException::crea​‌​
te("integer or string")                               
                                                      
  2   vendor/laravel/framework/src/Illuminate/Testing/​‌​
AssertableJsonString.php:256                          
      PHPUnit\Framework\Assert::assertArrayHasKey([])

  3   vendor/laravel/framework/src/Illuminate/Testing/​‌​
TestResponse.php:795                
      Illuminate\Testing\AssertableJsonString::assertS​‌​
tructure([])
                            
  4   tests/Feature/ComplaintTest.php:80
      Illuminate\Testing\TestResponse::assertJsonStruc​‌​
ture([])                                              

  5   vendor/phpunit/phpunit/src/Framework/TestCase.ph
p:1527
      Tests\Feature\ComplaintTest::test_create_complai
nt()

  6   vendor/phpunit/phpunit/src/Framework/TestCase.ph
p:1133
      PHPUnit\Framework\TestCase::runTest()

  7   vendor/phpunit/phpunit/src/Framework/TestResult.
php:722
      PHPUnit\Framework\TestCase::runBare()

  8   vendor/phpunit/phpunit/src/Framework/TestCase.ph
p:885
      PHPUnit\Framework\TestResult::run(Object(Tests\F
eature\ComplaintTest))

  9   vendor/phpunit/phpunit/src/Framework/TestSuite.p
hp:678
      PHPUnit\Framework\TestCase::run(Object(PHPUnit\F
ramework\TestResult))

  10  vendor/phpunit/phpunit/src/Framework/TestSuite.p
hp:678
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\
Framework\TestResult))

  11  vendor/phpunit/phpunit/src/Framework/TestSuite.p
hp:678
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\
Framework\TestResult))

  12  vendor/phpunit/phpunit/src/TextUI/TestRunner.php
:670
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\
Framework\TestResult))

  13  vendor/phpunit/phpunit/src/TextUI/Command.php:14
3
      PHPUnit\TextUI\TestRunner::run(Object(PHPUnit\Fr
amework\TestSuite), [])

  14  vendor/phpunit/phpunit/src/TextUI/Command.php:96
      PHPUnit\TextUI\Command::run()

  15  vendor/phpunit/phpunit/phpunit:92
      PHPUnit\TextUI\Command::main()


  Tests:  1 failed, 5 passed
  Time:   1.46s

➜  CareScore git:(master) ✗ php artisan migrate:fresh --env=testing                                         
Dropped all tables successfully.
Migration table created successfully.
Migrating: 2014_10_12_000000_create_users_table
Migrated:  2014_10_12_000000_create_users_table (18.79ms)
Migrating: 2014_10_12_100000_create_password_resets_table
Migrated:  2014_10_12_100000_create_password_resets_table (13.51ms)
Migrating: 2019_08_19_000000_create_failed_jobs_table
Migrated:  2019_08_19_000000_create_failed_jobs_table (14.84ms)
Migrating: 2019_12_14_000001_create_personal_access_tokens_table
Migrated:  2019_12_14_000001_create_personal_access_tokens_table (23.72ms)
Migrating: 2022_03_24_075424_create_roles_table
Migrated:  2022_03_24_075424_create_roles_table (7.65ms)
Migrating: 2022_03_24_075546_create_user_details_table
Migrated:  2022_03_24_075546_create_user_details_table (12.37ms)
Migrating: 2022_03_24_080306_create_user_statuses_table
Migrated:  2022_03_24_080306_create_user_statuses_table (9.43ms)
Migrating: 2022_03_24_081435_create_medical_statuses_table
Migrated:  2022_03_24_081435_create_medical_statuses_table (10.38ms)
Migrating: 2022_03_24_082223_create_work_details_table
Migrated:  2022_03_24_082223_create_work_details_table (9.84ms)
Migrating: 2022_03_28_083125_create_client_homecareworkers_table
Migrated:  2022_03_28_083125_create_client_homecareworkers_table (7.93ms)
Migrating: 2022_04_01_093432_create_coordinator_homecareworkers_table
Migrated:  2022_04_01_093432_create_coordinator_homecareworkers_table (8.48ms)
Migrating: 2022_04_04_085755_create_medical_details_table
Migrated:  2022_04_04_085755_create_medical_details_table (8.35ms)
Migrating: 2022_04_05_091447_create_notifications_table
Migrated:  2022_04_05_091447_create_notifications_table (31.73ms)
Migrating: 2022_04_06_193211_create_service_details_table
Migrated:  2022_04_06_193211_create_service_details_table (9.18ms)
Migrating: 2022_04_06_194634_create_emergency_contacts_table
Migrated:  2022_04_06_194634_create_emergency_contacts_table (8.65ms)
Migrating: 2022_04_06_195255_create_physicians_table
Migrated:  2022_04_06_195255_create_physicians_table (7.89ms)
Migrating: 2022_04_06_195720_create_client_insurances_table
Migrated:  2022_04_06_195720_create_client_insurances_table (7.73ms)
Migrating: 2022_04_06_200130_create_insurances_table
Migrated:  2022_04_06_200130_create_insurances_table (7.40ms)
Migrating: 2022_04_07_085041_create_client_nurses_table
Migrated:  2022_04_07_085041_create_client_nurses_table (7.70ms)
Migrating: 2022_04_07_085221_create_client_coords_table
Migrated:  2022_04_07_085221_create_client_coords_table (7.52ms)
Migrating: 2022_04_19_050517_create_injuries_table
Migrated:  2022_04_19_050517_create_injuries_table (8.13ms)
Migrating: 2022_04_19_051010_create_incident_types_table
Migrated:  2022_04_19_051010_create_incident_types_table (9.44ms)
Migrating: 2022_04_19_051341_create_incidents_table
Migrated:  2022_04_19_051341_create_incidents_table (13.74ms)
Migrating: 2022_04_19_092757_create_incident_locations_table
Migrated:  2022_04_19_092757_create_incident_locations_table (7.97ms)
Migrating: 2022_04_22_133020_create_incident_assigned_users_table
Migrated:  2022_04_22_133020_create_incident_assigned_users_table (7.48ms)
Migrating: 2022_04_22_142749_create_incident_reasons_table
Migrated:  2022_04_22_142749_create_incident_reasons_table (7.75ms)
Migrating: 2022_04_22_143245_create_actions_table
Migrated:  2022_04_22_143245_create_actions_table (7.05ms)
Migrating: 2022_04_22_183119_create_action_incidents_table
Migrated:  2022_04_22_183119_create_action_incidents_table (8.77ms)
Migrating: 2022_04_22_183346_create_response_reasons_table
Migrated:  2022_04_22_183346_create_response_reasons_table (10.28ms)
Migrating: 2022_04_22_183420_create_response_actions_table
Migrated:  2022_04_22_183420_create_response_actions_table (9.54ms)
Migrating: 2022_04_25_005048_create_reasons_table
Migrated:  2022_04_25_005048_create_reasons_table (8.59ms)
Migrating: 2022_04_25_005419_create_reason_categories_table
Migrated:  2022_04_25_005419_create_reason_categories_table (8.09ms)
Migrating: 2022_04_25_012107_create_investigation_questions_table
Migrated:  2022_04_25_012107_create_investigation_questions_table (8.99ms)
Migrating: 2022_04_25_012351_create_investigation_question_answers_table
Migrated:  2022_04_25_012351_create_investigation_question_answers_table (8.47ms)
Migrating: 2022_04_25_100845_create_investigation_activities_table
Migrated:  2022_04_25_100845_create_investigation_activities_table (7.11ms)
Migrating: 2022_04_25_101127_create_result_of_actions_table
Migrated:  2022_04_25_101127_create_result_of_actions_table (9.92ms)
Migrating: 2022_04_25_101226_create_clinician_recommendations_table
Migrated:  2022_04_25_101226_create_clinician_recommendations_table (10.19ms)
Migrating: 2022_04_26_195238_create_investigation_responses_table
Migrated:  2022_04_26_195238_create_investigation_responses_table (8.26ms)
Migrating: 2022_04_26_214047_create_trigger_table
Migrated:  2022_04_26_214047_create_trigger_table (8.90ms)
Migrating: 2022_04_26_214152_create_trigger_types_table
Migrated:  2022_04_26_214152_create_trigger_types_table (7.63ms)
Migrating: 2022_04_27_123046_create_incident_activities_table
Migrated:  2022_04_27_123046_create_incident_activities_table (8.49ms)
Migrating: 2022_04_28_165914_create_incident_type_categories_table
Migrated:  2022_04_28_165914_create_incident_type_categories_table (7.79ms)
Migrating: 2022_05_02_122620_create_action_results_table
Migrated:  2022_05_02_122620_create_action_results_table (9.90ms)
Migrating: 2022_05_02_122924_create_incident_actions_table
Migrated:  2022_05_02_122924_create_incident_actions_table (8.27ms)
Migrating: 2022_05_04_120628_create_action_result_responses_table
Migrated:  2022_05_04_120628_create_action_result_responses_table (7.24ms)
Migrating: 2022_05_04_141456_create_action_recommendation_table
Migrated:  2022_05_04_141456_create_action_recommendation_table (7.67ms)
Migrating: 2022_05_06_141651_create_investigation_activity_results_table
Migrated:  2022_05_06_141651_create_investigation_activity_results_table (9.91ms)
Migrating: 2022_05_08_032126_create_activity_selecteds_table
Migrated:  2022_05_08_032126_create_activity_selecteds_table (9.88ms)
Migrating: 2022_05_08_065436_create_activity_results_table
Migrated:  2022_05_08_065436_create_activity_results_table (11.35ms)
Migrating: 2022_05_12_163139_create_selected_results_table
Migrated:  2022_05_12_163139_create_selected_results_table (12.88ms)
Migrating: 2022_05_13_070045_create_activity_recommendations_table
Migrated:  2022_05_13_070045_create_activity_recommendations_table (8.97ms)
Migrating: 2022_05_16_093753_create_selected_recommendations_table
Migrated:  2022_05_16_093753_create_selected_recommendations_table (10.15ms)
Migrating: 2022_05_17_122557_create_complaints_table
Migrated:  2022_05_17_122557_create_complaints_table (12.44ms)
Migrating: 2022_05_17_140842_create_complaint_categories_table
Migrated:  2022_05_17_140842_create_complaint_categories_table (7.87ms)
Migrating: 2022_05_17_140929_create_complaint_types_table
Migrated:  2022_05_17_140929_create_complaint_types_table (8.04ms)
Migrating: 2022_05_18_113434_create_client_complaints_table
Migrated:  2022_05_18_113434_create_client_complaints_table (7.82ms)
➜  CareScore git:(master) ✗ php artisan db:seed --env=testing                                               
Seeding: Database\Seeders\UserSeeder
Seeded:  Database\Seeders\UserSeeder (622.68ms)
Seeding: Database\Seeders\RoleSeeder
Seeded:  Database\Seeders\RoleSeeder (9.07ms)
Seeding: Database\Seeders\UserStatusSeeder
Seeded:  Database\Seeders\UserStatusSeeder (3.57ms)
Seeding: Database\Seeders\UserDetailsSeeder
Seeded:  Database\Seeders\UserDetailsSeeder (46.71ms)
Seeding: Database\Seeders\IncidentTypeSeeder
Seeded:  Database\Seeders\IncidentTypeSeeder (12.70ms)
Seeding: Database\Seeders\IncidentTypeCategorySeeder
Seeded:  Database\Seeders\IncidentTypeCategorySeeder (10.83ms)
Seeding: Database\Seeders\IncidentLocationSeeder
Seeded:  Database\Seeders\IncidentLocationSeeder (0.04ms)
Seeding: Database\Seeders\InjurySeeder
Seeded:  Database\Seeders\InjurySeeder (3.82ms)
Seeding: Database\Seeders\ReasonCategorySeeder
Seeded:  Database\Seeders\ReasonCategorySeeder (27.36ms)
Seeding: Database\Seeders\ClinicianRecommendationSeeder
Seeded:  Database\Seeders\ClinicianRecommendationSeeder (27.34ms)
Seeding: Database\Seeders\InvestigationActivitySeeder
Seeded:  Database\Seeders\InvestigationActivitySeeder (12.93ms)
Seeding: Database\Seeders\InvestigationQuestionSeeder
Seeded:  Database\Seeders\InvestigationQuestionSeeder (142.41ms)
Seeding: Database\Seeders\ReasonSeeder
Seeded:  Database\Seeders\ReasonSeeder (43.01ms)
Seeding: Database\Seeders\ActionSeeder
Seeded:  Database\Seeders\ActionSeeder (16.71ms)
Seeding: Database\Seeders\TriggerTypeSeeder
Seeded:  Database\Seeders\TriggerTypeSeeder (21.01ms)
Seeding: Database\Seeders\ComplaintCategorySeeder
Seeded:  Database\Seeders\ComplaintCategorySeeder (46.66ms)
Database seeding completed successfully.
➜  CareScore git:(master) ✗ php artisan test --env=testing  --verbose                              
{#3418
  +"created": true
}

   FAIL  Tests\Feature\ComplaintTest
  ✓ store complaint category
  ✓ list complaint category
  ✓ store complaint category type
  ✓ get category type by category
  ✓ get all complaint category type
  ⨯ create complaint

  ---

  • Tests\Feature\ComplaintTest > create complaint
   PHPUnit\Framework\InvalidArgumentException 

  Argument #1 of PHPUnit\Framework\Assert::assertArrayHasKey() must be an integer or string

  at vendor/phpunit/phpunit/src/Framework/Exception/InvalidArgumentException.php:26
     22▕     public static function create(int $argument, string $type): self
     23▕     {
     24▕         $stack = debug_backtrace();
     25▕ 
  ➜  26▕         return new self(
     27▕             sprintf(
     28▕                 'Argument #%d of %s::%s() must be %s %s',
     29▕                 $argument,
     30▕                 $stack[1]['class'],

  1   vendor/phpunit/phpunit/src/Framework/Assert.php:113
      PHPUnit\Framework\InvalidArgumentException::create("integer or string")

  2   vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:256
      PHPUnit\Framework\Assert::assertArrayHasKey([])

  3   vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:795
      Illuminate\Testing\AssertableJsonString::assertStructure([])

  4   tests/Feature/ComplaintTest.php:80
      Illuminate\Testing\TestResponse::assertJsonStructure([])

  5   vendor/phpunit/phpunit/src/Framework/TestCase.php:1527
      Tests\Feature\ComplaintTest::test_create_complaint()

  6   vendor/phpunit/phpunit/src/Framework/TestCase.php:1133
      PHPUnit\Framework\TestCase::runTest()

  7   vendor/phpunit/phpunit/src/Framework/TestResult.php:722
      PHPUnit\Framework\TestCase::runBare()

  8   vendor/phpunit/phpunit/src/Framework/TestCase.php:885
      PHPUnit\Framework\TestResult::run(Object(Tests\Feature\ComplaintTest))

  9   vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestCase::run(Object(PHPUnit\Framework\TestResult))

  10  vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  11  vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  12  vendor/phpunit/phpunit/src/TextUI/TestRunner.php:670
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  13  vendor/phpunit/phpunit/src/TextUI/Command.php:143
      PHPUnit\TextUI\TestRunner::run(Object(PHPUnit\Framework\TestSuite), [])

  14  vendor/phpunit/phpunit/src/TextUI/Command.php:96
      PHPUnit\TextUI\Command::run()

  15  vendor/phpunit/phpunit/phpunit:92
      PHPUnit\TextUI\Command::main()


  Tests:  1 failed, 5 passed
  Time:   1.35s

➜  CareScore git:(master) ✗ clear                                                                          
➜  CareScore git:(master) ✗ php artisan test --env=testing  --verbose​‌​
                                                                     

   FAIL  Tests\Feature\ComplaintTest                     
  ✓ store complaint category                                         
  ✓ list complaint category
  ✓ store complaint category type                                    
  ✓ get category type by category                    
  ✓ get all complaint category type
  ⨯ create complaint                                                 
                                                                  
  ---
                                        
  • Tests\Feature\ComplaintTest > create complaint            
   PHPUnit\Framework\InvalidArgumentException 
                                                            
  Argument #1 of PHPUnit\Framework\Assert::assertArrayHasKey() must b​‌​
e an integer or string
                                                            
  at vendor/phpunit/phpunit/src/Framework/Exception/InvalidArgumentEx​‌​
ception.php:26
     22▕     public static function create(int $argument, string $typ​‌​
e): self                                   
     23▕     {
     24▕         $stack = debug_backtrace();               
     25▕                                                             
  ➜  26▕         return new self(
     27▕             sprintf(                               
     28▕                 'Argument #%d of %s::%s() must be %s %s',   
     29▕                 $argument,
     30▕                 $stack[1]['class'],                
                                                                     
  1   vendor/phpunit/phpunit/src/Framework/Assert.php:113
      PHPUnit\Framework\InvalidArgumentException::create("integer or ​‌​
string")                                                             

  2   vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonS​‌​
tring.php:256                                                        
      PHPUnit\Framework\Assert::assertArrayHasKey([])
                                                       
  3   vendor/laravel/framework/src/Illuminate/Testing/TestResponse.ph
p:795
      Illuminate\Testing\AssertableJsonString::assertStructure([])
                                   
  4   tests/Feature/ComplaintTest.php:80
      Illuminate\Testing\TestResponse::assertJsonStructure([])
                                    
  5   vendor/phpunit/phpunit/src/Framework/TestCase.php:1527
      Tests\Feature\ComplaintTest::test_create_complaint()
                            
  6   vendor/phpunit/phpunit/src/Framework/TestCase.php:1133
      PHPUnit\Framework\TestCase::runTest()
                                                                     
  7   vendor/phpunit/phpunit/src/Framework/TestResult.php:722
      PHPUnit\Framework\TestCase::runBare()

  8   vendor/phpunit/phpunit/src/Framework/TestCase.php:885
      PHPUnit\Framework\TestResult::run(Object(Tests\Feature\Complain
tTest))

  9   vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestCase::run(Object(PHPUnit\Framework\TestRe
sult))

  10  vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestR
esult))

  11  vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestR
esult))

  12  vendor/phpunit/phpunit/src/TextUI/TestRunner.php:670
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestR
esult))

  13  vendor/phpunit/phpunit/src/TextUI/Command.php:143
      PHPUnit\TextUI\TestRunner::run(Object(PHPUnit\Framework\TestSui
te), [])

  14  vendor/phpunit/phpunit/src/TextUI/Command.php:96
      PHPUnit\TextUI\Command::run()

  15  vendor/phpunit/phpunit/phpunit:92
      PHPUnit\TextUI\Command::main()


  Tests:  1 failed, 5 passed
  Time:   1.40s

➜  CareScore git:(master) ✗ php artisan test --env=testing  --verbose                                     

   FAIL  Tests\Feature\ComplaintTest
  ✓ store complaint category
  ✓ list complaint category
  ✓ store complaint category type
  ✓ get category type by category
  ✓ get all complaint category type
  ⨯ create complaint

  ---

  • Tests\Feature\ComplaintTest > create complaint
   PHPUnit\Framework\InvalidArgumentException 

  Argument #1 of PHPUnit\Framework\Assert::assertArrayHasKey() must be an integer or string

  at vendor/phpunit/phpunit/src/Framework/Exception/InvalidArgumentException.php:26
     22▕     public static function create(int $argument, string $type): self
     23▕     {
     24▕         $stack = debug_backtrace();
     25▕ 
  ➜  26▕         return new self(
     27▕             sprintf(
     28▕                 'Argument #%d of %s::%s() must be %s %s',
     29▕                 $argument,
     30▕                 $stack[1]['class'],

  1   vendor/phpunit/phpunit/src/Framework/Assert.php:113
      PHPUnit\Framework\InvalidArgumentException::create("integer or string")

  2   vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:256
      PHPUnit\Framework\Assert::assertArrayHasKey([])

  3   vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:795
      Illuminate\Testing\AssertableJsonString::assertStructure([])

  4   tests/Feature/ComplaintTest.php:80
      Illuminate\Testing\TestResponse::assertJsonStructure([])

  5   vendor/phpunit/phpunit/src/Framework/TestCase.php:1527
      Tests\Feature\ComplaintTest::test_create_complaint()

  6   vendor/phpunit/phpunit/src/Framework/TestCase.php:1133
      PHPUnit\Framework\TestCase::runTest()

  7   vendor/phpunit/phpunit/src/Framework/TestResult.php:722
      PHPUnit\Framework\TestCase::runBare()

  8   vendor/phpunit/phpunit/src/Framework/TestCase.php:885
      PHPUnit\Framework\TestResult::run(Object(Tests\Feature\ComplaintTest))

  9   vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestCase::run(Object(PHPUnit\Framework\TestResult))

  10  vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  11  vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  12  vendor/phpunit/phpunit/src/TextUI/TestRunner.php:670
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  13  vendor/phpunit/phpunit/src/TextUI/Command.php:143
      PHPUnit\TextUI\TestRunner::run(Object(PHPUnit\Framework\TestSuite), [])

  14  vendor/phpunit/phpunit/src/TextUI/Command.php:96
      PHPUnit\TextUI\Command::run()

  15  vendor/phpunit/phpunit/phpunit:92
      PHPUnit\TextUI\Command::main()


  Tests:  1 failed, 5 passed
  Time:   1.52s

➜  CareScore git:(master) ✗                                                                    
➜  CareScore git:(master) ✗ php artisan test --env=testing                                     

   FAIL  Tests\Feature\ComplaintTest
  ✓ store complaint category
  ✓ list complaint category
  ✓ store complaint category type
  ✓ get category type by category
  ✓ get all complaint category type
  ⨯ create complaint

  ---

  • Tests\Feature\ComplaintTest > create complaint
   PHPUnit\Framework\InvalidArgumentException 

  Argument #1 of PHPUnit\Framework\Assert::assertArrayHasKey() must be an integer or string

  at tests/Feature/ComplaintTest.php:80
     76▕              // 'client' => [ 'client_id' => 1, 'client_id' => 2],
     77▕             'description' => 'Lorem ipsum dolor sit amet consectetur adipisicing elit.​‌​
 Maxime mollitia,
     78▕              molestiae quas vel sint commodi repudiandae consequuntur voluptatum labor​‌​
um'
     79▕         ])->assertJsonStructure([
  ➜  80▕             'created' => true
     81▕         ]);
     82▕     }
     83▕ }
     84▕ 


  Tests:  1 failed, 5 passed
  Time:   1.73s

➜  CareScore git:(master) ✗ php artisan test --env=testing                                     

   FAIL  Tests\Feature\ComplaintTest
  ✓ store complaint category
  ✓ list complaint category
  ✓ store complaint category type
  ✓ get category type by category
  ✓ get all complaint category type
  ⨯ create complaint

  ---

  • Tests\Feature\ComplaintTest > create complaint
  Failed asserting that an array has the key 'true'.

  at tests/Feature/ComplaintTest.php:80
     76▕              // 'client' => [ 'client_id' => 1, 'client_id' => 2],
     77▕             'description' => 'Lorem ipsum dolor sit amet consectetur adipisicing elit.​‌​
 Maxime mollitia,
     78▕              molestiae quas vel sint commodi repudiandae consequuntur voluptatum labor​‌​
um'
     79▕         ])->assertJsonStructure([
  ➜  80▕             'created' => 'true'
     81▕         ]);
     82▕     }
     83▕ }
     84▕ 


  Tests:  1 failed, 5 passed
  Time:   1.39s

➜  CareScore git:(master) ✗ php artisan test --env=testing                                     

   FAIL  Tests\Feature\ComplaintTest
  ✓ store complaint category
  ✓ list complaint category
  ✓ store complaint category type
  ✓ get category type by category
  ✓ get all complaint category type
  ⨯ create complaint

  ---

  • Tests\Feature\ComplaintTest > create complaint
  Failed asserting that an array has the key 'true'.

  at tests/Feature/ComplaintTest.php:66
     62▕ 
     63▕         $this->json('POST', '/api/complaints', [ 
     64▕             'date_reported' => '2022-05-29',
     65▕         ])->assertJsonStructure([
  ➜  66▕             'created' => 'true'
     67▕         ]);
     68▕     }
     69▕ }
     70▕ 


  Tests:  1 failed, 5 passed
  Time:   1.34s

➜  CareScore git:(master) ✗ php artisan test --env=testing --verbose                           

   FAIL  Tests\Feature\ComplaintTest
  ✓ store complaint category
  ✓ list complaint category
  ✓ store complaint category type
  ✓ get category type by category
  ✓ get all complaint category type
  ⨯ create complaint

  ---

  • Tests\Feature\ComplaintTest > create complaint
  Failed asserting that an array has the key 'true'.

  at vendor/phpunit/phpunit/src/Framework/Constraint/Constraint.php:121
    117▕         if (!empty($description)) {
    118▕             $failureDescription = $description . "\n" . $failureDescription;
    119▕         }
    120▕ 
  ➜ 121▕         throw new ExpectationFailedException(
    122▕             $failureDescription,
    123▕             $comparisonFailure
    124▕         );
    125▕     }

  1   vendor/phpunit/phpunit/src/Framework/Constraint/Constraint.php:55
      PHPUnit\Framework\Constraint\Constraint::fail(["Undefined index: isRoutineServiceIssue", ​‌​
"ErrorException", "/Users/lionelfrancis/development/backend/CareScore/app/Services/Complaint/Co​‌​
mplaintService.php"], "")

  2   vendor/phpunit/phpunit/src/Framework/Assert.php:2344
      PHPUnit\Framework\Constraint\Constraint::evaluate(["Undefined index: isRoutineServiceIssu​‌​
e", "ErrorException", "/Users/lionelfrancis/development/backend/CareScore/app/Services/Complain​‌​
t/ComplaintService.php"], "")

  3   vendor/phpunit/phpunit/src/Framework/Assert.php:126
      PHPUnit\Framework\Assert::assertThat(["Undefined index: isRoutineServiceIssue", "ErrorExc​‌​
eption", "/Users/lionelfrancis/development/backend/CareScore/app/Services/Complaint/ComplaintSe​‌​
rvice.php"], Object(PHPUnit\Framework\Constraint\ArrayHasKey), "")

  4   vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:256
      PHPUnit\Framework\Assert::assertArrayHasKey("true", ["Undefined index: isRoutineServiceIs​‌​
sue", "ErrorException", "/Users/lionelfrancis/development/backend/CareScore/app/Services/Compla​‌​
int/ComplaintService.php"])

  5   vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:795
      Illuminate\Testing\AssertableJsonString::assertStructure(["true"])

  6   tests/Feature/ComplaintTest.php:66
      Illuminate\Testing\TestResponse::assertJsonStructure(["true"])

  7   vendor/phpunit/phpunit/src/Framework/TestCase.php:1527
      Tests\Feature\ComplaintTest::test_create_complaint()

  8   vendor/phpunit/phpunit/src/Framework/TestCase.php:1133
      PHPUnit\Framework\TestCase::runTest()

  9   vendor/phpunit/phpunit/src/Framework/TestResult.php:722
      PHPUnit\Framework\TestCase::runBare()

  10  vendor/phpunit/phpunit/src/Framework/TestCase.php:885
      PHPUnit\Framework\TestResult::run(Object(Tests\Feature\ComplaintTest))

  11  vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestCase::run(Object(PHPUnit\Framework\TestResult))

  12  vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  13  vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  14  vendor/phpunit/phpunit/src/TextUI/TestRunner.php:670
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  15  vendor/phpunit/phpunit/src/TextUI/Command.php:143
      PHPUnit\TextUI\TestRunner::run(Object(PHPUnit\Framework\TestSuite), [])

  16  vendor/phpunit/phpunit/src/TextUI/Command.php:96
      PHPUnit\TextUI\Command::run()

  17  vendor/phpunit/phpunit/phpunit:92
      PHPUnit\TextUI\Command::main()


  Tests:  1 failed, 5 passed
  Time:   1.40s

➜  CareScore git:(master) ✗ php artisan test --env=testing --verbose                           

   FAIL  Tests\Feature\ComplaintTest
  ✓ store complaint category
  ✓ list complaint category
  ✓ store complaint category type
  ✓ get category type by category
  ✓ get all complaint category type
  ⨯ create complaint

  ---

  • Tests\Feature\ComplaintTest > create complaint
  Failed asserting that an array has the key 'true'.

  at vendor/phpunit/phpunit/src/Framework/Constraint/Constraint.php:121
    117▕         if (!empty($description)) {
    118▕             $failureDescription = $description . "\n" . $failureDescription;
    119▕         }
    120▕ 
  ➜ 121▕         throw new ExpectationFailedException(
    122▕             $failureDescription,
    123▕             $comparisonFailure
    124▕         );
    125▕     }

  1   vendor/phpunit/phpunit/src/Framework/Constraint/Constraint.php:55
      PHPUnit\Framework\Constraint\Constraint::fail([], "")

  2   vendor/phpunit/phpunit/src/Framework/Assert.php:2344
      PHPUnit\Framework\Constraint\Constraint::evaluate([], "")

  3   vendor/phpunit/phpunit/src/Framework/Assert.php:126
      PHPUnit\Framework\Assert::assertThat([], Object(PHPUnit\Framework\Constraint\ArrayHasKey)​‌​
, "")

  4   vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:256
      PHPUnit\Framework\Assert::assertArrayHasKey("true", [])

  5   vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:795
      Illuminate\Testing\AssertableJsonString::assertStructure(["true"])

  6   tests/Feature/ComplaintTest.php:80
      Illuminate\Testing\TestResponse::assertJsonStructure(["true"])

  7   vendor/phpunit/phpunit/src/Framework/TestCase.php:1527
      Tests\Feature\ComplaintTest::test_create_complaint()

  8   vendor/phpunit/phpunit/src/Framework/TestCase.php:1133
      PHPUnit\Framework\TestCase::runTest()

  9   vendor/phpunit/phpunit/src/Framework/TestResult.php:722
      PHPUnit\Framework\TestCase::runBare()

  10  vendor/phpunit/phpunit/src/Framework/TestCase.php:885
      PHPUnit\Framework\TestResult::run(Object(Tests\Feature\ComplaintTest))

  11  vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestCase::run(Object(PHPUnit\Framework\TestResult))

  12  vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  13  vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  14  vendor/phpunit/phpunit/src/TextUI/TestRunner.php:670
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  15  vendor/phpunit/phpunit/src/TextUI/Command.php:143
      PHPUnit\TextUI\TestRunner::run(Object(PHPUnit\Framework\TestSuite), [])

  16  vendor/phpunit/phpunit/src/TextUI/Command.php:96
      PHPUnit\TextUI\Command::run()

  17  vendor/phpunit/phpunit/phpunit:92
      PHPUnit\TextUI\Command::main()


  Tests:  1 failed, 5 passed
  Time:   1.44s

➜  CareScore git:(master) ✗ php artisan test --env=testing --verbose                           

   FAIL  Tests\Feature\ComplaintTest
  ✓ store complaint category
  ✓ list complaint category
  ✓ store complaint category type
  ✓ get category type by category
  ✓ get all complaint category type
  ⨯ create complaint

  ---

  • Tests\Feature\ComplaintTest > create complaint
   PHPUnit\Framework\InvalidArgumentException 

  Argument #1 of PHPUnit\Framework\Assert::assertArrayHasKey() must be an integer or string

  at vendor/phpunit/phpunit/src/Framework/Exception/InvalidArgumentException.php:26
     22▕     public static function create(int $argument, string $type): self
     23▕     {
     24▕         $stack = debug_backtrace();
     25▕ 
  ➜  26▕         return new self(
     27▕             sprintf(
     28▕                 'Argument #%d of %s::%s() must be %s %s',
     29▕                 $argument,
     30▕                 $stack[1]['class'],

  1   vendor/phpunit/phpunit/src/Framework/Assert.php:113
      PHPUnit\Framework\InvalidArgumentException::create("integer or string")

  2   vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:256
      PHPUnit\Framework\Assert::assertArrayHasKey([])

  3   vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:795
      Illuminate\Testing\AssertableJsonString::assertStructure([])

  4   tests/Feature/ComplaintTest.php:80
      Illuminate\Testing\TestResponse::assertJsonStructure([])

  5   vendor/phpunit/phpunit/src/Framework/TestCase.php:1527
      Tests\Feature\ComplaintTest::test_create_complaint()

  6   vendor/phpunit/phpunit/src/Framework/TestCase.php:1133
      PHPUnit\Framework\TestCase::runTest()

  7   vendor/phpunit/phpunit/src/Framework/TestResult.php:722
      PHPUnit\Framework\TestCase::runBare()

  8   vendor/phpunit/phpunit/src/Framework/TestCase.php:885
      PHPUnit\Framework\TestResult::run(Object(Tests\Feature\ComplaintTest))

  9   vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestCase::run(Object(PHPUnit\Framework\TestResult))

  10  vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  11  vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  12  vendor/phpunit/phpunit/src/TextUI/TestRunner.php:670
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  13  vendor/phpunit/phpunit/src/TextUI/Command.php:143
      PHPUnit\TextUI\TestRunner::run(Object(PHPUnit\Framework\TestSuite), [])

  14  vendor/phpunit/phpunit/src/TextUI/Command.php:96
      PHPUnit\TextUI\Command::run()

  15  vendor/phpunit/phpunit/phpunit:92
      PHPUnit\TextUI\Command::main()


  Tests:  1 failed, 5 passed
  Time:   1.34s

➜  CareScore git:(master) ✗ php artisan test --env=testing --verbose                           

   WARN  Tests\Feature\ComplaintTest
  ✓ store complaint category
  ✓ list complaint category
  ✓ store complaint category type
  ✓ get category type by category
  ✓ get all complaint category type
  ! create complaint → This test did not perform any assertions  /Users/lionelfrancis/developme​‌​
nt/backend/CareScore/tests/Feature/ComplaintTest.php:61

  Tests:  1 risked, 5 passed
  Time:   1.28s

➜  CareScore git:(master) ✗ php artisan test --env=testing                                     

   FAIL  Tests\Feature\ComplaintTest
  ✓ store complaint category
  ✓ list complaint category
  ✓ store complaint category type
  ✓ get category type by category
  ✓ get all complaint category type
  ⨯ create complaint

  ---

  • Tests\Feature\ComplaintTest > create complaint
   PHPUnit\Framework\InvalidArgumentException 

  Argument #1 of PHPUnit\Framework\Assert::assertArrayHasKey() must be an integer or string

  at tests/Feature/ComplaintTest.php:80
     76▕              // 'client' => [ 'client_id' => 1, 'client_id' => 2],
     77▕             'description' => 'Lorem ipsum dolor sit amet consectetur adipisicing elit.​‌​
 Maxime mollitia,
     78▕              molestiae quas vel sint commodi repudiandae consequuntur voluptatum labor​‌​
um'
     79▕         ])->assertJsonStructure([
  ➜  80▕             'created' => true
     81▕         ]);
     82▕     }
     83▕ }
     84▕ 


  Tests:  1 failed, 5 passed
  Time:   1.36s

➜  CareScore git:(master) ✗ php artisan test                                                   

   FAIL  Tests\Feature\ComplaintTest
  ✓ store complaint category
  ✓ list complaint category
  ✓ store complaint category type
  ✓ get category type by category
  ✓ get all complaint category type
  ⨯ create complaint

  ---

  • Tests\Feature\ComplaintTest > create complaint
   PHPUnit\Framework\InvalidArgumentException 

  Argument #1 of PHPUnit\Framework\Assert::assertArrayHasKey() must be an integer or string

  at tests/Feature/ComplaintTest.php:80
     76▕              // 'client' => [ 'client_id' => 1, 'client_id' => 2],
     77▕             'description' => 'Lorem ipsum dolor sit amet consectetur adipisicing elit.​‌​
 Maxime mollitia,
     78▕              molestiae quas vel sint commodi repudiandae consequuntur voluptatum labor​‌​
um'
     79▕         ])->assertJsonStructure([
  ➜  80▕             'created' => true
     81▕         ]);
     82▕     }
     83▕ }
     84▕ 


  Tests:  1 failed, 5 passed
  Time:   1.34s

➜  CareScore git:(master) ✗ php artisan test --env=testing                                     

   FAIL  Tests\Feature\ComplaintTest
  ✓ store complaint category
  ✓ list complaint category
  ✓ store complaint category type
  ✓ get category type by category
  ✓ get all complaint category type
  ⨯ create complaint

  ---

  • Tests\Feature\ComplaintTest > create complaint
   PHPUnit\Framework\InvalidArgumentException 

  Argument #1 of PHPUnit\Framework\Assert::assertArrayHasKey() must be an integer or string

  at tests/Feature/ComplaintTest.php:80
     76▕              // 'client' => [ 'client_id' => 1, 'client_id' => 2],
     77▕             'description' => 'Lorem ipsum dolor sit amet consectetur adipisicing elit.
 Maxime mollitia,
     78▕              molestiae quas vel sint commodi repudiandae consequuntur voluptatum labor
um'
     79▕         ])->assertJsonStructure([
  ➜  80▕             'created' => true
     81▕         ]);
     82▕     }
     83▕ }
     84▕ 


  Tests:  1 failed, 5 passed
  Time:   1.31s

➜  CareScore git:(master) ✗ php artisan test --env=testing                                     

   FAIL  Tests\Feature\ComplaintTest
  ✓ store complaint category
  ✓ list complaint category
  ✓ store complaint category type
  ✓ get category type by category
  ✓ get all complaint category type
  ⨯ create complaint

  ---

  • Tests\Feature\ComplaintTest > create complaint
   PHPUnit\Framework\InvalidArgumentException 

  Argument #1 of PHPUnit\Framework\Assert::assertArrayHasKey() must be an integer or string

  at tests/Feature/ComplaintTest.php:80
     76▕              // 'client' => [ 'client_id' => 1, 'client_id' => 2],
     77▕             'description' => 'Lorem ipsum dolor sit amet consectetur adipisicing elit.
 Maxime mollitia,
     78▕              molestiae quas vel sint commodi repudiandae consequuntur voluptatum labor
um'
     79▕         ])->assertJsonStructure([
  ➜  80▕             'created' => true
     81▕         ]);
     82▕     }
     83▕ }
     84▕ 


  Tests:  1 failed, 5 passed
  Time:   1.44s

➜  CareScore git:(master) ✗ php artisan test --env=testing                                     

   FAIL  Tests\Feature\ComplaintTest
  ✓ store complaint category
  ✓ list complaint category
  ✓ store complaint category type
  ✓ get category type by category
  ✓ get all complaint category type
  ⨯ create complaint

  ---

  • Tests\Feature\ComplaintTest > create complaint
   PHPUnit\Framework\InvalidArgumentException 

  Argument #1 of PHPUnit\Framework\Assert::assertArrayHasKey() mus
t be an integer or string

  at tests/Feature/ComplaintTest.php:79
     75▕             'complaint_time' => '10:00:00',
     76▕              // 'client' => [ 'client_id' => 1, 'client_i
d' => 2],
     77▕             'description' => 'Lorem ipsum dolor sit amet 
consectetur adipisicing elit'
     78▕         ])->assertJsonStructure([
  ➜  79▕             'created' => true
     80▕         ]);
     81▕     }
     82▕ }
     83▕ 


  Tests:  1 failed, 5 passed
  Time:   1.28s

➜  CareScore git:(master) ✗ `->assertStatus(201)                                        
bquote>                                                                                 
bquote>                                                                                 
➜  CareScore git:(master) ✗                                                             
➜  CareScore git:(master) ✗ php artisan test --env=testing                              

   FAIL  Tests\Feature\ComplaintTest
  ✓ store complaint category
  ✓ list complaint category
  ✓ store complaint category type
  ✓ get category type by category
  ✓ get all complaint category type
  ⨯ create complaint

  ---

  • Tests\Feature\ComplaintTest > create complaint
   TypeError 

  Argument 2 passed to Illuminate\Foundation\Testing\TestCase::postJson() must be of the​‌​
 type array, string given, called in /Users/lionelfrancis/development/backend/CareScore/​‌​
tests/Feature/ComplaintTest.php on line 64

  at tests/Feature/ComplaintTest.php:64
     60▕ 
     61▕     public function test_create_complaint() {
     62▕ 
     63▕         $this->postJson('POST', '/api/complaints', [ 
  ➜  64▕             'date_reported' => '2022-05-29',
     65▕             'isRoutineServiceIssue' => true,
     66▕             'occurrence_date' => '2022-01-04',
     67▕             'reported_timeline' => 'Immediately',
     68▕             'reported_by' => 1,


  Tests:  1 failed, 5 passed
  Time:   1.34s

➜  CareScore git:(master) ✗ php artisan test --env=testing                              

   FAIL  Tests\Feature\ComplaintTest
  ✓ store complaint category
  ✓ list complaint category
  ✓ store complaint category type
  ✓ get category type by category
  ✓ get all complaint category type
  ⨯ create complaint

  ---

  • Tests\Feature\ComplaintTest > create complaint
   BadMethodCallException 

  Method Illuminate\Http\JsonResponse::assertResponseStatus does not exist.

  at vendor/laravel/framework/src/Illuminate/Macroable/Traits/Macroable.php:113
    109▕      */
    110▕     public function __call($method, $parameters)
    111▕     {
    112▕         if (! static::hasMacro($method)) {
  ➜ 113▕             throw new BadMethodCallException(sprintf(
    114▕                 'Method %s::%s does not exist.', static::class, $method
    115▕             ));
    116▕         }
    117▕ 

  1   tests/Feature/ComplaintTest.php:78
      Illuminate\Testing\TestResponse::__call("assertResponseStatus")


  Tests:  1 failed, 5 passed
  Time:   1.36s

➜  CareScore git:(master) ✗ php artisan test --env=testing                              

   FAIL  Tests\Feature\ComplaintTest
  ✓ store complaint category
  ✓ list complaint category
  ✓ store complaint category type
  ✓ get category type by category
  ✓ get all complaint category type
  ⨯ create complaint

  ---

  • Tests\Feature\ComplaintTest > create complaint
  Expected response status code [201] but received 200.
  Failed asserting that 201 is identical to 200.

  at tests/Feature/ComplaintTest.php:78
     74▕             'complaint_type_id' => 1,
     75▕             'complaint_time' => '10:00:00',
     76▕              // 'client' => [ 'client_id' => 1, 'client_id' => 2],
     77▕             'description' => 'Lorem ipsum dolor sit amet consectetur adipisicin​‌​
g elit'
  ➜  78▕         ])->assertStatus(201);
     79▕       
     80▕     }
     81▕ }
     82▕ 


  Tests:  1 failed, 5 passed
  Time:   1.26s

➜  CareScore git:(master) ✗ php artisan test --env=testing --verbose                    

   FAIL  Tests\Feature\ComplaintTest
  ✓ store complaint category
  ✓ list complaint category
  ✓ store complaint category type
  ✓ get category type by category
  ✓ get all complaint category type
  ⨯ create complaint

  ---

  • Tests\Feature\ComplaintTest > create complaint
  Expected response status code [201] but received 200.
  Failed asserting that 201 is identical to 200.

  at vendor/phpunit/phpunit/src/Framework/Constraint/Constraint.php:121
    117▕         if (!empty($description)) {
    118▕             $failureDescription = $description . "\n" . $failureDescription;
    119▕         }
    120▕ 
  ➜ 121▕         throw new ExpectationFailedException(
    122▕             $failureDescription,
    123▕             $comparisonFailure
    124▕         );
    125▕     }

  1   vendor/phpunit/phpunit/src/Framework/Constraint/IsIdentical.php:94
      PHPUnit\Framework\Constraint\Constraint::fail("Expected response status code [201]​‌​
 but received 200.")

  2   vendor/phpunit/phpunit/src/Framework/Assert.php:2344
      PHPUnit\Framework\Constraint\IsIdentical::evaluate("Expected response status code ​‌​
[201] but received 200.")

  3   vendor/phpunit/phpunit/src/Framework/Assert.php:1330
      PHPUnit\Framework\Assert::assertThat(Object(PHPUnit\Framework\Constraint\IsIdentic​‌​
al), "Expected response status code [201] but received 200.")

  4   vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:177
      PHPUnit\Framework\Assert::assertSame("Expected response status code [201] but rece​‌​
ived 200.")

  5   tests/Feature/ComplaintTest.php:78
      Illuminate\Testing\TestResponse::assertStatus()

  6   vendor/phpunit/phpunit/src/Framework/TestCase.php:1527
      Tests\Feature\ComplaintTest::test_create_complaint()

  7   vendor/phpunit/phpunit/src/Framework/TestCase.php:1133
      PHPUnit\Framework\TestCase::runTest()

  8   vendor/phpunit/phpunit/src/Framework/TestResult.php:722
      PHPUnit\Framework\TestCase::runBare()

  9   vendor/phpunit/phpunit/src/Framework/TestCase.php:885
      PHPUnit\Framework\TestResult::run(Object(Tests\Feature\ComplaintTest))

  10  vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestCase::run(Object(PHPUnit\Framework\TestResult))

  11  vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  12  vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  13  vendor/phpunit/phpunit/src/TextUI/TestRunner.php:670
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  14  vendor/phpunit/phpunit/src/TextUI/Command.php:143
      PHPUnit\TextUI\TestRunner::run(Object(PHPUnit\Framework\TestSuite), [])

  15  vendor/phpunit/phpunit/src/TextUI/Command.php:96
      PHPUnit\TextUI\Command::run()

  16  vendor/phpunit/phpunit/phpunit:92
      PHPUnit\TextUI\Command::main()


  Tests:  1 failed, 5 passed
  Time:   1.37s

➜  CareScore git:(master) ✗ php artisan test --env=testing --verbose                    

   FAIL  Tests\Feature\ComplaintTest
  ✓ store complaint category
  ✓ list complaint category
  ✓ store complaint category type
  ✓ get category type by category
  ✓ get all complaint category type
  ⨯ create complaint

  ---

  • Tests\Feature\ComplaintTest > create complaint
  Expected response status code [201] but received 200.
  Failed asserting that 201 is identical to 200.

  at vendor/phpunit/phpunit/src/Framework/Constraint/Constraint.php:121
    117▕         if (!empty($description)) {
    118▕             $failureDescription = $description . "\n" . $failureDescription;
    119▕         }
    120▕ 
  ➜ 121▕         throw new ExpectationFailedException(
    122▕             $failureDescription,
    123▕             $comparisonFailure
    124▕         );
    125▕     }

  1   vendor/phpunit/phpunit/src/Framework/Constraint/IsIdentical.php:94
      PHPUnit\Framework\Constraint\Constraint::fail("Expected response status code [201]​‌​
 but received 200.")

  2   vendor/phpunit/phpunit/src/Framework/Assert.php:2344
      PHPUnit\Framework\Constraint\IsIdentical::evaluate("Expected response status code ​‌​
[201] but received 200.")

  3   vendor/phpunit/phpunit/src/Framework/Assert.php:1330
      PHPUnit\Framework\Assert::assertThat(Object(PHPUnit\Framework\Constraint\IsIdentic​‌​
al), "Expected response status code [201] but received 200.")

  4   vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:177
      PHPUnit\Framework\Assert::assertSame("Expected response status code [201] but rece​‌​
ived 200.")

  5   tests/Feature/ComplaintTest.php:78
      Illuminate\Testing\TestResponse::assertStatus()

  6   vendor/phpunit/phpunit/src/Framework/TestCase.php:1527
      Tests\Feature\ComplaintTest::test_create_complaint()

  7   vendor/phpunit/phpunit/src/Framework/TestCase.php:1133
      PHPUnit\Framework\TestCase::runTest()

  8   vendor/phpunit/phpunit/src/Framework/TestResult.php:722
      PHPUnit\Framework\TestCase::runBare()

  9   vendor/phpunit/phpunit/src/Framework/TestCase.php:885
      PHPUnit\Framework\TestResult::run(Object(Tests\Feature\ComplaintTest))

  10  vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestCase::run(Object(PHPUnit\Framework\TestResult))

  11  vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  12  vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  13  vendor/phpunit/phpunit/src/TextUI/TestRunner.php:670
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  14  vendor/phpunit/phpunit/src/TextUI/Command.php:143
      PHPUnit\TextUI\TestRunner::run(Object(PHPUnit\Framework\TestSuite), [])

  15  vendor/phpunit/phpunit/src/TextUI/Command.php:96
      PHPUnit\TextUI\Command::run()

  16  vendor/phpunit/phpunit/phpunit:92
      PHPUnit\TextUI\Command::main()


  Tests:  1 failed, 5 passed
  Time:   1.68s

➜  CareScore git:(master) ✗ clear                                                       
➜  CareScore git:(master) ✗ php artisan test --env=testing --verbose                    
                                                                                        
   FAIL  Tests\Feature\ComplaintTest
  ✓ store complaint category
  ✓ list complaint category                               
  ✓ store complaint category type                                                       
  ✓ get category type by category                            
  ✓ get all complaint category type
  ⨯ create complaint                                                      
                                                                                        
  ---      

  • Tests\Feature\ComplaintTest > create complaint
  Expected response status code [201] but received 200.
  Failed asserting that 201 is identical to 200.
                                                            
  at vendor/phpunit/phpunit/src/Framework/Constraint/Constraint.php:121
    117▕         if (!empty($description)) {
    118▕             $failureDescription = $description . "\n" . $failureDescription;
    119▕         }                         
    120▕ 
  ➜ 121▕         throw new ExpectationFailedException(       
    122▕             $failureDescription,  
    123▕             $comparisonFailure
    124▕         );                                        
    125▕     }                                                              

  1   vendor/phpunit/phpunit/src/Framework/Constraint/IsIdentical.php:94
      PHPUnit\Framework\Constraint\Constraint::fail("Expected response status code [201]​‌​
 but received 200.")
                                                            
  2   vendor/phpunit/phpunit/src/Framework/Assert.php:2344                  
      PHPUnit\Framework\Constraint\IsIdentical::evaluate("Expected response status code ​‌​
[201] but received 200.")                                   
                                                                            
  3   vendor/phpunit/phpunit/src/Framework/Assert.php:1330
      PHPUnit\Framework\Assert::assertThat(Object(PHPUnit\Framework\Constraint\IsIdentic​‌​
al), "Expected response status code [201] but received 200.")               

  4   vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:177
      PHPUnit\Framework\Assert::assertSame("Expected response status code [201] but rece​‌​
ived 200.")
                                                      
  5   tests/Feature/ComplaintTest.php:82
      Illuminate\Testing\TestResponse::assertStatus()
                                       
  6   vendor/phpunit/phpunit/src/Framework/TestCase.php:1527
      Tests\Feature\ComplaintTest::test_create_complaint()

  7   vendor/phpunit/phpunit/src/Framework/TestCase.php:1133
      PHPUnit\Framework\TestCase::runTest()

  8   vendor/phpunit/phpunit/src/Framework/TestResult.php:722                           
      PHPUnit\Framework\TestCase::runBare()

  9   vendor/phpunit/phpunit/src/Framework/TestCase.php:885
      PHPUnit\Framework\TestResult::run(Object(Tests\Feature\ComplaintTest))

  10  vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestCase::run(Object(PHPUnit\Framework\TestResult))

  11  vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  12  vendor/phpunit/phpunit/src/Framework/TestSuite.php:678
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  13  vendor/phpunit/phpunit/src/TextUI/TestRunner.php:670
      PHPUnit\Framework\TestSuite::run(Object(PHPUnit\Framework\TestResult))

  14  vendor/phpunit/phpunit/src/TextUI/Command.php:143
      PHPUnit\TextUI\TestRunner::run(Object(PHPUnit\Framework\TestSuite), [])

  15  vendor/phpunit/phpunit/src/TextUI/Command.php:96
      PHPUnit\TextUI\Command::run()

  16  vendor/phpunit/phpunit/phpunit:92
      PHPUnit\TextUI\Command::main()


  Tests:  1 failed, 5 passed
  Time:   1.39s

➜  CareScore git:(master) ✗ php artisan test --env=testing                              

   FAIL  Tests\Feature\ComplaintTest
  ✓ store complaint category
  ✓ list complaint category
  ✓ store complaint category type
  ✓ get category type by category
  ✓ get all complaint category type
  ⨯ create complaint

  ---

  • Tests\Feature\ComplaintTest > create complaint
  Expected response status code [201] but received 200.
  Failed asserting that 201 is identical to 200.

  at tests/Feature/ComplaintTest.php:82
     78▕              // 'client' => [ 'client_id' => 1, 'client_id' => 2],
     79▕             'description' => 'Lorem ipsum dolor sit amet consectetur adipisicin​‌​
g elit'
     80▕         ]);
     81▕ 
  ➜  82▕         $response->assertStatus(201);
     83▕       
     84▕     }
     85▕ }
     86▕ 


  Tests:  1 failed, 5 passed
  Time:   1.26s

➜  CareScore git:(master) ✗                                                             
➜  CareScore git:(master) ✗ php artisan test --env=testing                              

   FAIL  Tests\Feature\ComplaintTest
  ✓ store complaint category
  ✓ list complaint category
  ✓ store complaint category type
  ✓ get category type by category
  ✓ get all complaint category type
  ⨯ create complaint

  ---

  • Tests\Feature\ComplaintTest > create complaint
  Expected response status code [201] but received 200.
  Failed asserting that 201 is identical to 200.

  at tests/Feature/ComplaintTest.php:82
     78▕              // 'client' => [ 'client_id' => 1, 'client_id' => 2],
     79▕             'description' => 'Lorem ipsum dolor sit amet consectetur adipisicin​‌​
g elit'
     80▕         ]);
     81▕ 
  ➜  82▕         $response->assertStatus(201);
     83▕       
     84▕     }
     85▕ }
     86▕ 


  Tests:  1 failed, 5 passed
  Time:   4.45s

➜  CareScore git:(master) ✗ 